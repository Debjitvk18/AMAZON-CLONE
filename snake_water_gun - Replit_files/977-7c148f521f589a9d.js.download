"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{31992:function(e,n,t){t.d(n,{$s:function(){return o},fZ:function(){return i},p6:function(){return l}});var r=1048576,i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.forceGib,i=void 0!==t&&t,a=n.precision,d=void 0===a?4:a;return e>r||i?"".concat(o(e).toFixed(d)," GiB"):"".concat(l(e).toFixed(d)," MiB")},l=function(e){return e/r},o=function(e){return e/1073741824}},79396:function(e,n,t){t.d(n,{A:function(){return d}});var r=t(43119),i=t(71440),l=t(94712),o=t(3839);function a(){var e=(0,r.Z)(["\n  fragment ProfilePublicReplsRepl on Repl {\n    id\n    description(plainText: true)\n    isOwner\n    pinnedToProfile\n    timeCreated\n    title\n    url\n    iconUrl\n    ...ReplLinkRepl\n    user {\n      id\n      ...UserLinkUser\n    }\n    templateInfo {\n      label\n      iconUrl\n    }\n    multiplayers {\n      id\n      image\n      username\n    }\n  }\n  ","\n  ","\n"]);return a=function(){return e},e}var d=(0,i.Ps)(a(),l.Y,o._)},68850:function(e,n,t){t.d(n,{k:function(){return c}});var r=t(72006),i=t(43119),l=t(71440),o=t(50216);function a(){var e=(0,i.Z)(["\n  mutation ReplsDashboardDeleteRepl($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return a=function(){return e},e}var d={},s=(0,l.Ps)(a());function c(e){var n=(0,r.Z)({},d,e);return o.D(s,n)}},88647:function(e,n,t){t.d(n,{Z:function(){return mt}});var r=t(57389),i=t(72006),l=t(4405),o=t(2272),a=t(9970),d=t(74985),s=t(48306),c=t.n(s),u=t(50959),p=t(43119),m=t(71440);function f(){var e=(0,p.Z)(["\n  fragment ReplsDashboardFolderItemReplFolder on ReplFolder {\n    id\n    name\n    canEdit\n    pathnames\n    image\n    timeCreated\n    replsCount\n    folderType\n  }\n"]);return f=function(){return e},e}var h=(0,m.Ps)(f()),v=t(87198),b=t(24635),g=t(50216);function Z(){var e=(0,p.Z)(["\n  query ReplsDashboardReplFolderList(\n    $path: String!\n    $starred: Boolean\n    $after: String\n  ) {\n    currentUser {\n      id\n      username\n      replFolderByPath(path: $path) {\n        id\n        ownerId: userId\n        pathnames\n        canEdit\n        canCreateSubFolders\n        parent {\n          id\n          pathnames\n        }\n        folders {\n          id\n          ...ReplsDashboardFolderItemReplFolder\n        }\n        repls(starred: $starred, after: $after) {\n          items {\n            id\n            ...ReplsDashboardReplItemRepl\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Z=function(){return e},e}function x(){var e=(0,p.Z)(["\n  mutation ReplsDashboardCreateReplFolder(\n    $name: String!\n    $parentId: String\n    $teamId: Int\n  ) {\n    createReplFolder(name: $name, parentId: $parentId, teamId: $teamId) {\n      id\n      ...ReplsDashboardFolderItemReplFolder\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function y(){var e=(0,p.Z)(["\n  mutation ReplsDashboardMoveItemsToFolder(\n    $replIds: [String!]!\n    $folderIds: [String!]!\n    $destFolderId: String!\n    $teamId: Int\n  ) {\n    moveItemsToFolder(\n      replIds: $replIds\n      folderIds: $folderIds\n      destFolderId: $destFolderId\n      teamId: $teamId\n    ) {\n      ... on Repl {\n        __typename\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n      ... on ReplFolder {\n        __typename\n        id\n        ...ReplsDashboardFolderItemReplFolder\n      }\n    }\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}var R={},w=(0,m.Ps)(Z(),h,v.sH);var k=(0,m.Ps)(x(),h);var I=(0,m.Ps)(y(),v.sH,h);function D(e){var n=(0,i.Z)({},R,e);return g.D(I,n)}var C,S=t(14260),P=t(23271);!function(e){e.Repl="REPL",e.Folder="FOLDER"}(C||(C={}));var F=function(e){var n=e.repl,t=e.onMove,r=e.children,i=(0,o.Z)((0,P.c)({type:C.Repl,item:function(){return{id:n.id,type:C.Repl}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,r){if(r.didDrop()){var i=r.getDropResult();i&&t({to:i,repl:n})}}}),2),l=i[0].isDragging,a=i[1];return(0,d.BX)("div",{ref:a,style:{opacity:l?.5:1},children:[l?(0,d.tZ)(c(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}):null,r]})},T=function(e){var n=e.folder,t=e.onMove,r=e.children,i=(0,o.Z)((0,P.c)({type:C.Folder,item:function(){return{id:n.id,type:C.Folder}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,r){if(r.didDrop()){var i=r.getDropResult();i&&i.id!==n.id&&t({to:i,folder:n})}}}),2),l=i[0].isDragging,a=i[1];return(0,d.BX)("div",{ref:a,style:{opacity:l?.5:1},children:[l?(0,d.tZ)(c(),{id:"28f467a17dd15487",children:"header,.sidebar-layout-header{pointer-events:none}"}):null,r]})},B=t(82893),E=t.n(B),_=t(51631);function j(){var e=(0,p.Z)(["\n  mutation ReplsDashboardFolderItemUpdate($folderId: String!, $name: String!) {\n    updateReplFolder(folderId: $folderId, name: $name) {\n      id\n      name\n      pathnames\n    }\n  }\n"]);return j=function(){return e},e}function M(){var e=(0,p.Z)(["\n  mutation ReplsDashboardFolderItemDelete($folderId: String!) {\n    deleteReplFolder(folderId: $folderId) {\n      id\n    }\n  }\n"]);return M=function(){return e},e}var X={},G=(0,m.Ps)(j());var U=(0,m.Ps)(M());var z=t(97754),N=t.n(z),V=t(85268),L=t(26752),A=t(94630),$=t(48712),W=t(70902),O=t(66091),H=t(57988),Y=t(5683),q=t(45347),Q=t(40507),K=t.n(Q),J=function(){function e(){(0,O.Z)(this,e),this._listeners=[]}return(0,H.Z)(e,[{key:"listenOnce",value:function(e,n,t){if(this._listeners.push([e,n,t]),!e.once)throw new Error("Target does not allow once");e.once(n,t)}},{key:"listen",value:function(e,n,t){this._listeners.push([e,n,t]),e.on?e.on(n,t):e.addListener?e.addListener(n,t):e.addEventListener&&e.addEventListener(n,t)}},{key:"destroy",value:function(){this._listeners.forEach((function(e){var n=(0,o.Z)(e,3),t=n[0],r=n[1],i=n[2];t.removeListener?t.removeListener(r,i):t.removeEventListener&&t.removeEventListener(r,i)}))}}]),e}(),ee=t(85368),ne=t(39541),te=t(45510),re=function(e){(0,Y.Z)(t,e);var n=(0,q.Z)(t);function t(){var e;return(0,O.Z)(this,t),e=n.apply(this,arguments),(0,r.Z)((0,W.Z)(e),"onSubmit",(function(n){e.props.hideOnSubmit&&e.props.hideModal&&e.props.hideModal(),e.props.onSubmit(n)})),(0,r.Z)((0,W.Z)(e),"getBodyAndTitle",(function(){var n=e.props.children;if(!Array.isArray(n)&&u.Children.count(n)<2)throw new Error("Expected title and body in ActionModal");var t=n[0];if(Array.isArray(t))throw new Error("title child cannot be an array");var r=u.cloneElement(t,{className:"action-modal-title "+("undefined"!==typeof t.className?t.className:"")}),i=n[1];if(Array.isArray(i))throw new Error("body child cannot be an array");return[r,u.cloneElement(i,{className:"action-modal-body"+(i.className||"")})]})),e}return(0,H.Z)(t,[{key:"componentDidMount",value:function(){var e=this;this._eventSubscriber=new J,this._eventSubscriber.listen(window.document,"keydown",(function(n){13!==n.keyCode||e.props.submitWithoutCtrl&&!n.ctrlKey&&!n.metaKey||e.props.disableSubmit||e.props.onSubmit()}))}},{key:"componentWillUnmount",value:function(){this._eventSubscriber&&this._eventSubscriber.destroy(),this._eventSubscriber=null}},{key:"render",value:function(){var e=this,n=(0,o.Z)(this.getBodyAndTitle(),2),t=n[0],r=n[1];return(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(24)],children:[t,r,(0,d.BX)(ee.G,{css:[ne.l0.rowWithGap(12),ne.l0.justify.end],children:[!this.props.hideCancel&&(0,d.tZ)(te.zx,{onClick:function(){e.props.onCancel&&e.props.onCancel(),e.props.hideModal&&e.props.hideModal()},text:this.props.cancelLabel||"Cancel"},"cancel"),(0,d.tZ)(te.zx,{colorway:this.props.deleteStyle?"negative":"primary",disabled:this.props.disableSubmit,onClick:this.onSubmit,text:this.props.submitLabel||"Ok",iconLeft:this.props.buttonIcon},"actionModalCta")]})]})}}]),t}(u.Component);(0,r.Z)(re,"propTypes",{hideModal:K().func.isRequired}),(0,r.Z)(re,"defaultProps",{autoFocus:!1});var ie=t(9247),le=t(39137),oe=t(7346),ae=t(79637),de=t(1050),se=t(54873),ce=t(84607),ue=t(40696),pe=t(15684),me=t(90273),fe=t(43312),he=t(84815),ve=t(51523),be=t(88541),ge=t(82106),Ze=(0,fe.iv)([{"&&:hover button":[ne.l0.backgroundColor.backgroundHigher]}]);function xe(e){var n=e.repl,t=e.editRepl,r=e.deleteRepl,i=e.forkRepl,l=e.moveItem,o=e.togglePinnedToProfile,a=e.removeMultiplayerRepl,s=e.selectRepl,c=(0,be.P5)({controlName:"flag-repl-analytics",logFlagToAnalytics:!1}),u=n.currentUserPermissions,p=[];if((u.changeTitle||u.changeDescription)&&p.push({label:"Edit",value:"edit",icon:(0,d.tZ)(de.Z,{})}),p.push({label:"Cover page",value:"coverpage",link:(0,ve.j3)(n),icon:(0,d.tZ)(he.Z,{})}),u.containerWrite&&c&&n.analyticsUrl){var m,f={href:null!==(m=n.analyticsUrl)&&void 0!==m?m:""};p.push({label:"Analytics",value:"analytics",link:f,icon:(0,d.tZ)(me.Z,{})})}return u.fork&&p.push({label:"Fork",value:"fork",icon:(0,d.tZ)(ce.Z,{})}),u.move&&p.push({label:"Move",value:"move",icon:(0,d.tZ)($.Z,{})}),u.pin&&p.push({label:n.pinnedToProfile?"Unpin":"Pin",value:"pin",icon:(0,d.tZ)(ue.Z,{})}),s&&p.push({label:"Select",value:"select",icon:(0,d.tZ)(ge.Z,{})}),u.delete&&p.push({label:"Delete",value:"delete",isDestructive:!0,icon:(0,d.tZ)(se.Z,{})}),u.leaveMultiplayer&&p.push({label:"Remove",value:"remove",isDestructive:!0,icon:(0,d.tZ)(pe.Z,{})}),(0,d.tZ)(ee.G,{css:Ze,children:(0,d.tZ)(ae.Z,{label:"Repl Actions",orientation:"horizontal",items:p,onItemClick:function(e){switch(e.value){case"edit":t();break;case"coverpage":break;case"fork":i();break;case"move":l();break;case"pin":o();break;case"remove":a();break;case"select":null===s||void 0===s||s();break;case"delete":r()}}})})}function ye(e){var n=e.renameFolder,t=e.moveItem,r=e.deleteFolder,i=[{value:"rename",label:"Rename",icon:(0,d.tZ)(de.Z,{})},{value:"move",label:"Move",icon:(0,d.tZ)($.Z,{})},{value:"delete",label:"Delete",isDestructive:!0,icon:(0,d.tZ)(se.Z,{})}];return(0,d.tZ)(ee.G,{css:Ze,children:(0,d.tZ)(ae.Z,{label:"Folder Actions",orientation:"horizontal",items:i,onItemClick:function(e){switch(e.value){case"rename":n();break;case"move":t();break;case"delete":r()}}})})}var Re=t(13233),we=t(61284),ke=t(65532),Ie=t(56169),De=function(e){var n=e.onSubmit,t=e.hideModal,r=e.defaultValue,i=e.loading,l=e.errorMessage,a=(0,o.Z)(u.useState(r||""),2),s=a[0],c=a[1],p=u.useRef(null);u.useEffect((function(){(null===p||void 0===p?void 0:p.current)&&p.current.select()}),[]);var m=function(){if(!l)return n(s);(null===p||void 0===p?void 0:p.current)&&p.current.select()},f=(0,Ie.H)();return(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(24)],children:[(0,d.tZ)(we.h4,{variant:"headerDefault",level:2,css:ne.l0.maxWidth("100%"),children:"New Folder"}),(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(4)],children:[(0,d.tZ)("label",{htmlFor:f("title"),children:(0,d.tZ)(we.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Title"})}),(0,d.tZ)(le.II,{disabled:i,value:s,placeholder:"Name your folder",onChange:function(e){c(e.currentTarget.value)},name:"folderName",ref:p,onKeyDown:function(e){"Enter"===e.key&&m()},id:f("title")})]}),(0,d.BX)(ee.G,{css:[ne.l0.rowWithGap(12),ne.l0.justify.end],children:[(0,d.tZ)(te.zx,{text:"Cancel",onClick:t}),(0,d.tZ)(te.zx,{iconLeft:(0,d.tZ)(ke.Z,{}),disabled:i,onClick:m,text:i?"Creating Folder...":"Create Folder",colorway:"primary"})]})]})},Ce=t(57135),Se=t(96583),Pe=t(90171),Fe=t.n(Pe),Te=t(22107);function Be(){var e=(0,p.Z)(["\n  fragment ReplsDashboardMoveItemReplFolder on ReplFolder {\n    id\n    pathnames\n    folderType\n    name\n    parentId\n    timeCreated\n  }\n"]);return Be=function(){return e},e}function Ee(){var e=(0,p.Z)(["\n  query ReplsDashboardMoveItemModalFolder($id: String!, $teamId: Int) {\n    currentUser {\n      id\n      replFolder(id: $id, teamId: $teamId) {\n        id\n        folders {\n          id\n          ...ReplsDashboardMoveItemReplFolder\n        }\n      }\n    }\n  }\n  ","\n"]);return Ee=function(){return e},e}var _e={},je=(0,m.Ps)(Be()),Me=(0,m.Ps)(Ee(),je);var Xe,Ge=t(66482),Ue=t(95370),ze={__typename:"ReplFolder",id:"__ROOT_ID__",name:"(home)/",pathnames:["(home)/"],canEdit:!1,timeCreated:null},Ne=function(e){var n=e.folder,t=e.onSelect,r=e.onNavigate,i=e.isSelected,l=e.isBack,o=void 0!==l&&l;return(0,d.BX)("div",{onClick:function(){t&&t(n)},className:"jsx-d14db538a7b86c86 "+(N()("small-folder-row-container",{"is-selected":i})||""),children:[(0,d.BX)("div",{className:"jsx-d14db538a7b86c86 small-folder-title",children:[(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-folder-icon-container",children:o?(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-back-folder-icon",children:(0,d.tZ)(Ge.Z,{})}):(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-folder-icon",children:(0,d.tZ)($.Z,{})})}),(0,d.tZ)("a",{onClick:function(e){return r?r(n,e):function(){}},className:"jsx-d14db538a7b86c86",children:n.name})]}),(0,d.tZ)("div",{className:"jsx-d14db538a7b86c86 small-folder-time",children:n.timeCreated?(0,Te.F)(n.timeCreated):""}),(0,d.tZ)(c(),{id:"d14db538a7b86c86",children:".small-folder-row-container.jsx-d14db538a7b86c86{height:40px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 10px}.small-folder-row-container.jsx-d14db538a7b86c86:hover{cursor:pointer;background-color:var(--background-root)}.small-folder-icon-container.jsx-d14db538a7b86c86{height:20px;width:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-back-folder-icon.jsx-d14db538a7b86c86{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg);width:17px}.small-folder-icon.jsx-d14db538a7b86c86{width:20px}.small-folder-title.jsx-d14db538a7b86c86{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.small-folder-title.jsx-d14db538a7b86c86 a.jsx-d14db538a7b86c86{margin-left:20px;color:var(--foreground-dimmer);border-bottom:none;color:inherit}.small-folder-time.jsx-d14db538a7b86c86{font-size:12px;color:var(--foreground-dimmer)}.small-folder-row-container.is-selected.jsx-d14db538a7b86c86:hover,.is-selected.jsx-d14db538a7b86c86{background-color:var(--accent-primary-default);color:var(--background-higher)}.is-selected.jsx-d14db538a7b86c86 .small-folder-time.jsx-d14db538a7b86c86{color:inherit}"})]})},Ve=function(e){var n,t,r=e.item,a=e.isRepl,s=e.teamId,p=e.hideModal,m=/\/@([^/]*)/.exec(Fe().asPath||""),f=m?m[1]:null,h=s&&f?function(e,n){return{__typename:"ReplFolder",id:"__TEAM__".concat(e,"__"),name:"@".concat(n),pathnames:["@".concat(n)],canEdit:!1,timeCreated:null}}(s,f):ze,v=(0,o.Z)(u.useState(null),2),g=v[0],Z=v[1],x=(0,o.Z)(u.useState(h),2),y=x[0],R=x[1],w=(0,o.Z)(u.useState([]),2),k=w[0],I=w[1],D=function(e){var n=(0,i.Z)({},_e,e);return b.a(Me,n)}({fetchPolicy:"cache-and-network",variables:{id:y.id,teamId:s},ssr:!1,notifyOnNetworkStatusChange:!0}).data,C=function(e){Z(e===g?null:e)},S=function(e,n){n.stopPropagation(),e.pathnames.length>y.pathnames.length?k.push(y):k.pop(),R(e),Z(e),I(k)},P=function(){var n=(0,Ce.Z)((function(){var n,t;return(0,Se.__generator)(this,(function(i){return n=[],t=[],a?n.push(r.id):t.push(r.id),e.onSubmit({variables:{destFolderId:g?g.id:"",replIds:n,folderIds:t,teamId:s}}),[2]}))}));return function(){return n.apply(this,arguments)}}(),F=((null===D||void 0===D||null===(n=D.currentUser)||void 0===n||null===(t=n.replFolder)||void 0===t?void 0:t.folders)||[]).filter((function(e){return!("Unnamed"===e.name&&null===e.parentId)&&e.folderType===_.RV.Default&&(!!a||e.id!==r.id)})).map((function(e){return(0,l.Z)((0,i.Z)({},e),{pathnames:e.pathnames.slice(1)})})),T=k[k.length-1]||h,B=g?g.id:"",E="name"in r?r.name:r.title;return(0,d.BX)(re,{modalStyle:{width:"550px"},onSubmit:P,hideOnSubmit:!0,submitLabel:"Move Repl",hideModal:p,buttonIcon:(0,d.tZ)(Ue.Z,{}),children:[(0,d.BX)("div",{children:["Move ",E," to:"]}),(0,d.BX)("div",{children:[(0,d.BX)("div",{className:"jsx-424e91159ff60 folder-picker-container",children:[y.pathnames&&y.pathnames.join()!==h.pathnames.join()?(0,d.tZ)(Ne,{folder:(0,l.Z)((0,i.Z)({},T),{name:"(up one level)"}),isBack:!0,onNavigate:S,isSelected:B===T.id}):null,F?F.map((function(e){return(0,d.tZ)(Ne,{folder:e,onSelect:C,onNavigate:S,isSelected:e.id===B},"move-folder-".concat(e.id))})):null,(0,d.tZ)(c(),{id:"424e91159ff60",children:".folder-picker-container.jsx-424e91159ff60{height:250px;border:1px solid gray;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:auto}"})]}),(0,d.BX)("div",{children:["Moving to:"," ",g?g.pathnames[g.pathnames.length-1]:y.pathnames[y.pathnames.length-1]||"(home)/"]})]})]})},Le=t(2041),Ae=t(63128),$e=t(17807),We=t(34338);!function(e){e[e.RenameFolder=0]="RenameFolder",e[e.DeleteFolder=1]="DeleteFolder",e[e.MoveItem=2]="MoveItem"}(Xe||(Xe={}));var Oe=function(e){var n=e.folder;if(n.folderType===_.RV.Multiplayer)return(0,d.tZ)(V.Z,{size:20});if(n.folderType===_.RV.Boosts)return(0,d.tZ)(L.Z,{size:20});if(n.folderType===_.RV.AlwaysOn)return(0,d.tZ)(A.Z,{size:20});if(n.folderType===_.RV.Team){var t=n.image?{url:n.image}:void 0;return(0,d.tZ)(ie.Z,{image:t})}return n.folderType===_.RV.AllTeams?(0,d.tZ)(V.Z,{size:20}):(0,d.tZ)($.Z,{size:20})},He=function(e){var n=e.folder,t=e.teamId,a=e.username,s=e.onDelete,c=e.onMove,p=(0,u.useState)(null),m=p[0],f=p[1],h=(0,Re.Z)(),v=h.showConfirm,b=h.showError,Z=(0,u.useState)(""),x=Z[0],y=Z[1],R=(0,o.Z)(function(e){var n=(0,i.Z)({},X,e);return g.D(G,n)}(),2),w=R[0],k=R[1],I=(0,o.Z)(function(e){var n=(0,i.Z)({},X,e);return g.D(U,n)}({variables:{folderId:n.id}}),2),C=I[0],S=I[1],P=(0,o.Z)(D(),2),F=P[0],T=P[1],B=[k.error,S.error,T.error];(0,u.useEffect)((function(){var e=!0,n=!1,t=void 0;try{for(var r,i=B[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var l=r.value;l&&(l.graphQLErrors[0]&&l.graphQLErrors[0].message?b(l.graphQLErrors[0].message):b("Something went wrong when updating this folder"))}}catch(o){n=!0,t=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}),B),(0,u.useEffect)((function(){S.data&&(v("Folder deleted"),s())}),[S.data]),(0,u.useEffect)((function(){k.data&&v("Folder renamed")}),[k.data]),(0,u.useEffect)((function(){T.data&&(v("Folder moved"),c())}),[T.data]);var j=n.pathnames.slice(1).join("/");return(0,d.BX)(d.HY,{children:[(0,d.BX)(ee.G,{css:[ne.l0.position.relative,ne.l0.flex.growAndShrink(1)],children:[(0,d.tZ)(E(),(0,l.Z)((0,i.Z)({passHref:!0},a&&n.folderType!==_.RV.Team&&void 0===t?(0,oe.wQ)({pathnames:n.pathnames,username:a}):(0,oe.xd)({pathnames:n.pathnames})),{children:(0,d.tZ)(Ae.Tg,{elevated:!0,tag:"a",className:N()("folder-item",{team:n.folderType===_.RV.Team}),css:[ne.l0.rowWithGap(32),ne.l0.justify.spaceBetween,ne.l0.align.center,ne.l0.p(12),ne.l0.color.foregroundDefault,ne.l0.flex.growAndShrink(1),$e.gU.listItem,(0,r.Z)({},(0,We.et)("mobileMax"),ne.l0.borderRadius(8))],children:(0,d.BX)(ee.G,{css:[ne.l0.rowWithGap(8),ne.l0.align.center,ne.l0.flex.growAndShrink(1),n.canEdit?ne.l0.pr(32):null],children:[(0,d.tZ)(ee.G,{css:ne.l0.p(2),children:(0,d.tZ)(Oe,{folder:n})}),(0,d.BX)(we.xv,{variant:"subheadDefault",css:ne.l0.flex.growAndShrink(1),multiline:!1,children:[n.name,n.replsCount?" (".concat(n.replsCount,")"):null]})]})})})),n.canEdit?(0,d.tZ)(ee.G,{css:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)"},children:(0,d.tZ)(ye,{renameFolder:function(){return f(Xe.RenameFolder)},deleteFolder:function(){return f(Xe.DeleteFolder)},moveItem:function(){return f(Xe.MoveItem)}})}):null]}),(0,d.BX)(Le.u,{isOpen:null!==m,onRequestClose:function(){f(null)},children:[m===Xe.RenameFolder?(0,d.tZ)(De,{defaultValue:n.name,hideModal:function(){return f(null)},onSubmit:function(e){!function(e){k.loading||w({variables:{folderId:n.id,name:e}})}(e),f(null)},loading:k.loading}):null,m===Xe.DeleteFolder?(0,d.BX)(re,{modalStyle:{maxWidth:"550px"},onSubmit:function(e){e&&e.preventDefault(),S.loading||(f(null),C())},deleteStyle:!0,submitLabel:S.loading?"Deleting folder...":"Yes, delete this folder",disableSubmit:x!==j,hideModal:function(){f(null)},buttonIcon:(0,d.tZ)(se.Z,{}),children:[(0,d.tZ)(we.h4,{variant:"headerDefault",level:2,children:"Delete folder"}),(0,d.tZ)("div",{children:(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(24)],children:[(0,d.tZ)(we.xv,{children:"Are you sure you want to delete this folder? This will remove all Repls and folders within. This cannot be undone."}),(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(8)],children:[(0,d.tZ)("label",{htmlFor:"folderPath",children:(0,d.BX)(we.xv,{color:"dimmer",variant:"small",multiline:!1,children:["Type the folder path (",j,") to delete"]})}),(0,d.tZ)(le.II,{id:"folderPath",disabled:!!S.loading,autoFocus:!0,value:x,onChange:function(e){return y(e.currentTarget.value)}})]})]})})]}):null,m===Xe.MoveItem?(0,d.tZ)(Ve,{item:n,teamId:t,isRepl:!1,onSubmit:function(e){T.loading||F(e)},hideModal:function(){return f(null)}}):null]})]})},Ye=t(81962),qe=t(76357),Qe=t(1734),Ke=t(8879),Je=t(49142),en=t(97128),nn=t(63672),tn=t(33066),rn=t(43743),ln=t(625),on=t(87076),an=t(66539),dn=t(34938),sn=t(28737),cn=t(1205),un=t(93785),pn=t(91102),mn=t(72463),fn=t(13548),hn=t(14654),vn=t(14351),bn=t(68850),gn=t(77637),Zn=t(91451),xn=t.n(Zn),yn=t(5863),Rn=function(e){(0,Y.Z)(t,e);var n=(0,q.Z)(t);function t(){var e;return(0,O.Z)(this,t),e=n.apply(this,arguments),(0,r.Z)((0,W.Z)(e),"onValidation",(function(n,t){e.validations[n]=t})),(0,r.Z)((0,W.Z)(e),"onSubmit",(function(n){for(var t in n.preventDefault(),e.inputs)if(e.inputs[t].validateNow(),e.validations[t])return void e.inputs[t].focus();e.props.onSubmit(n)})),(0,r.Z)((0,W.Z)(e),"register",(function(n,t){e.inputs[n]=t})),(0,r.Z)((0,W.Z)(e),"validations",{}),(0,r.Z)((0,W.Z)(e),"inputs",{}),e}return(0,H.Z)(t,[{key:"getChildContext",value:function(){return{validatedForm:{register:this.register,onValidation:this.onValidation}}}},{key:"render",value:function(){var e=this.props,n=e.Component,t=e.children,r=(0,gn.Z)(e,["Component","children"]);return(0,d.tZ)(n,(0,l.Z)((0,i.Z)({},xn()(r,["onSubmit"])),{onSubmit:this.onSubmit,children:t}))}}]),t}(u.Component);(0,r.Z)(Rn,"childContextTypes",{validatedForm:K().object}),(0,r.Z)(Rn,"defaultProps",{Component:"form"});var wn=function(e){(0,Y.Z)(t,e);var n=(0,q.Z)(t);function t(){return(0,O.Z)(this,t),n.apply(this,arguments)}return(0,H.Z)(t,[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"select",value:function(){this.input&&this.input.select()}},{key:"blur",value:function(){this.input&&this.input.blur()}},{key:"render",value:function(){var e=this,n=this.context.validatedForm,t=n.onValidation,r=n.register;return(0,d.tZ)(yn.a,(0,l.Z)((0,i.Z)({},xn()(this.props,["onValidation","ref"])),{onValidation:function(n){return t(e.props.name,n)},ref:function(n){e.input=n,r(e.props.name,n)},theme:this.props.theme}))}}]),t}(u.Component);(0,r.Z)(wn,"contextTypes",{validatedForm:K().object.isRequired}),(0,r.Z)(wn,"defaultProps",{theme:"replitLight"});var kn=t(63837);var In,Dn=function(e){(0,Y.Z)(t,e);var n=(0,q.Z)(t);function t(e){var i;return(0,O.Z)(this,t),i=n.call(this,e),(0,r.Z)((0,W.Z)(i),"onSubmit",(function(){i.props.onSubmit(i.state)})),i.state={title:i.props.repl.title,description:i.props.repl.description||""},function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];t.forEach((function(n){e["on".concat(n[0].toUpperCase()).concat(n.slice(1),"Change")]=function(t){var i;i=t&&t.target&&void 0!==t.currentTarget.value?t.currentTarget.value:t,e.setState((0,r.Z)({},n,i))}}))}((0,W.Z)(i),"title","description"),i}return(0,H.Z)(t,[{key:"render",value:function(){return(0,d.BX)(re,{hideModal:this.props.hideModal,onCancel:this.props.hideModal,onSubmit:this.onSubmit,submitLabel:"Save",buttonIcon:(0,d.tZ)(kn.Z,{}),children:[(0,d.tZ)(we.h4,{variant:"headerDefault",level:2,children:"Edit Repl"}),(0,d.BX)(Rn,{onSubmit:this.onSubmit,css:[ne.l0.colWithGap(24)],children:[(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(4)],children:[(0,d.tZ)("label",{htmlFor:"replTitle",children:(0,d.tZ)(we.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Title"})}),(0,d.tZ)(le.II,{id:"replTitle",autoFocus:!0,name:"title",placeholder:"Name your Repl",validator:"replTitle",value:this.state.title,onChange:this.onTitleChange})]}),(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(4)],children:[(0,d.tZ)("label",{htmlFor:"replDescription",children:(0,d.tZ)(we.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Description"})}),(0,d.tZ)(le.B,{id:"replDescription",name:"description",placeholder:"What does this Repl do?",validator:"replDescription",value:this.state.description,onChange:this.onDescriptionChange,css:[ne.l0.minHeight(96),ne.l0.maxHeight(128),{resize:"vertical"}]})]})]})]})}}]),t}(u.Component),Cn=Dn,Sn=t(31992),Pn=t(37989),Fn=t(53674),Tn=t(82568);!function(e){e.EditRepl="EditRepl",e.ForkRepl="ForkRepl",e.DeleteRepl="DeleteRepl",e.RemoveRepl="RemoveRepl",e.MoveItem="MoveItem"}(In||(In={}));var Bn=function(e){var n=e.selected,t=e.onClick,r=e.isDarkColorScheme?ne.TV.yellowStrongest:ne.TV.yellowDimmest;return(0,d.tZ)(on.h,{className:"replStar",onClick:t,css:[ne.l0.color.foregroundDimmer,{":hover":{color:r}}],alt:n?"Unstar":"Star",children:n?(0,d.tZ)(cn.Z,{color:r}):(0,d.tZ)(un.Z,{})})},En=function(e){var n=e.repl,t="ReplPowerUpTypes"===n.powerUps.__typename?n.powerUps.boost.sku:null,r="off"===t?null:t;return null!=r?(0,d.tZ)(an.u,{tooltip:(0,d.BX)(ee.G,{css:[ne.l0.colWithGap(8),ne.l0.align.center],children:[(0,d.tZ)(en.Z,{variant:r,extraText:"Boosted"}),(0,d.tZ)(we.xv,{multiline:!1,children:(0,tn.Pr)(r)})]}),children:(0,d.BX)(ee.G,{css:[ne.l0.py(4),ne.l0.rowWithGap(4),ne.l0.align.center],children:[(0,d.tZ)(L.Z,{size:16,color:ne.TV.foregroundDimmest}),(0,d.BX)(we.xv,{color:"dimmest",multiline:!1,children:[vn.BM[r].multiplier,"x"]})]})}):n.isBoosted?(0,d.BX)(ee.G,{css:[ne.l0.py(4),ne.l0.rowWithGap(4),ne.l0.align.center],children:[(0,d.tZ)(L.Z,{size:16,color:ne.TV.foregroundDimmest}),(0,d.tZ)(we.xv,{color:"dimmest",multiline:!1,children:"Boosted"})]}):null},_n=function(e){var n=e.repl,t=e.toggleIsPrivate,r=e.showPrivacy,i=(0,o.Z)(u.useState(!1),2),l=i[0],a=i[1],s=(0,o.Z)(u.useState(!1),2),c=s[0],p=s[1],m=u.useRef(!1);return u.useEffect((function(){l&&(m.current=!0);var e=setTimeout((function(){p(l)}),250);return function(){clearTimeout(e)}}),[l]),(0,d.BX)(Qe.Z,{disableFocusLock:!0,isOpen:c,onClickOutside:function(){return p(!1)},padding:0,showArrow:!0,placement:"bottom-start",maxWidth:360,gap:8,children:[(0,d.BX)(ee.G,{css:[ne.l0.py(4),ne.l0.rowWithGap(4),ne.l0.align.center],onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[n.isPrivate?(0,d.tZ)(fn.Z,{size:16,color:ne.TV.foregroundDimmest}):(0,d.tZ)(hn.Z,{size:16,color:ne.TV.foregroundDimmest}),(0,d.tZ)(we.xv,{color:"dimmest",multiline:!1,children:n.isPrivate?"Private":"Public"})]}),(0,d.BX)(ee.G,{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},onClick:function(e){return e.preventDefault()},css:ne.l0.p(8),children:[(0,d.tZ)(we.xv,{css:{marginBottom:r?6:0},children:n.isPrivate?"Only you and invited multiplayers can see this Repl":"Anyone can see this Repl"}),r?(0,d.tZ)(te.zx,{text:n.isPrivate?"Make public":"Make private",iconLeft:n.isPrivate?(0,d.tZ)(hn.Z,{}):(0,d.tZ)(fn.Z,{}),onClick:function(){return t()}}):null]})]})},jn=(0,Tn.X)({wrapper:[ne.l0.height(24),ne.l0.width(24),{"& > div > input":[{":not([disabled])":{borderColor:$e.vb.interactiveBorderHover}}]}]}),Mn=function(e){var n=e.replId,t=e.isSelected,r=e.onSelection;return(0,d.tZ)(ee.G,{onClick:function(e){e.preventDefault(),e.stopPropagation(),(0,Ye.Z)(document.activeElement,HTMLElement)&&document.activeElement.blur()},css:jn.wrapper,onKeyDownCapture:function(e){"Enter"===e.key&&r()},children:(0,d.tZ)(dn.X,{id:n,checked:t,onChange:r})})},Xn=function(e){var n=e.children,t=e.repl,r=e.disabled,o=e.onInactiveClick;return r?(0,d.tZ)(ee.G,{onClick:o,children:n}):(0,d.tZ)(E(),(0,l.Z)((0,i.Z)({},(0,ve.aq)(t)),{passHref:!0,children:n}))},Gn=function(e){var n,t,a,s=e.repl,c=e.position,p=e.onDelete,m=e.onMove,f=e.onPinToggle,h=void 0===f?function(){}:f,b=e.teamId,g=(0,be.P5)({controlName:"flag-storage-utilization",type:"boolean",logFlagToAnalytics:!1}),Z=(0,sn.F)().isDarkColorScheme,x="/replsDashboard"===(0,Pe.useRouter)().pathname,y=void 0===b,R=(0,Fn.XI)({}),w=R.hoverProps,k=R.isHovered,I=(0,o.Z)(u.useState(!1),2),C=I[0],S=I[1],P=(0,Fn.L_)({onFocusWithinChange:function(e){S(e)}}).focusWithinProps,F=(0,Pn.VO)(),T=F.selectedRepls,B=F.isReplSelected,E=F.selectRepl,_=F.deselectRepl,j=k||C,M=s.isOwner&&(j||T.length>0),X=B(s.id),G=function(){X?_(s.id):E(s)},U=function(){if(!A.loading){var e=!s.isPrivate;L({variables:{input:{id:s.id,isPrivate:e}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,l.Z)((0,i.Z)({},s),{isPrivate:e})}}}).then((function(n){n.errors?Ze(n.errors[0].message):ge(e?"Repl made private":"Repl made public")})),(0,ln.j)(ln.U3.PRIVATE_TOGGLED,{enabled:e,source:"my_repls"})}},z="Allowed"===s.currentUserPermissions.changePrivacy&&null!=b,N=(0,nn.n)({onPowerUpSuccess:U,context:"my_repls",isPrivate:s.isPrivate,teamReplPermissionOverride:z}).modalProps,V=(0,o.Z)((0,v.G5)(),2),L=V[0],A=V[1],$=(0,o.Z)(D({onCompleted:function(e){e.moveItemsToFolder.every((function(e){return"Repl"===e.__typename||"ReplFolder"===e.__typename}))?(ge("Repl moved"),m()):Ze("Something went wrong")},onError:function(e){Ze(e.message)}}),2),W=$[0],O=$[1],H=(0,o.Z)((0,rn.Z)({onError:function(){Ze("Error forking repl")}}),2),Y=H[0],q=H[1].loading,Q=(0,o.Z)((0,v.x$)({onCompleted:function(e){"Repl"===e.pinReplToProfile2.__typename&&e.pinReplToProfile2.pinnedToProfile?(ge((0,d.BX)("span",{children:["Repl pinned to profile",(0,d.tZ)("br",{}),s.user&&x?(0,d.tZ)("a",{href:s.user.url,target:"_blank",children:"View Profile"}):null]})),h()):Ze("Something went wrong")},onError:function(e){return Ze(e.message)},variables:{replId:s.id}}),2),K=Q[0],J=Q[1],te=(0,o.Z)((0,v.cM)({onCompleted:function(e){"Repl"!==e.unpinReplFromProfile2.__typename||e.unpinReplFromProfile2.pinnedToProfile?Ze("Something went wrong"):(ge((0,d.BX)("span",{children:["Repl unpinned from profile",(0,d.tZ)("br",{}),s.user&&x?(0,d.tZ)("a",{href:s.user.url,target:"_blank",children:"View Profile"}):null]})),h())},onError:function(e){return Ze(e.message)},variables:{replId:s.id}}),2),ie=te[0],le=te[1],oe=(0,o.Z)((0,bn.k)({onCompleted:function(e){"Repl"===e.deleteRepl.__typename?(ge("Repl scheduled for deletion"),p()):Ze("Something went wrong")},onError:function(e){return Ze(e.message)},variables:{id:s.id},update:function(e,n){var t;(null===(t=n.data)||void 0===t?void 0:t.deleteRepl.id)&&(e.evict({id:n.data.deleteRepl.id}),e.gc())}}),2),ae=oe[0],de=oe[1],se=(0,o.Z)((0,v.CW)({onCompleted:function(e){"Repl"===e.removeSharedRepl.__typename?(ge("Repl removed"),p()):Ze("Something went wrong")},onError:function(e){return Ze(e.message)},variables:{id:s.id}}),2),ce=se[0],ue=se[1],me=(0,o.Z)(u.useState(null),2),fe=me[0],he=me[1],ve=(0,Re.Z)(),ge=ve.showConfirm,Ze=ve.showError,ye=s.currentUserPermissions.star;return(0,d.BX)(d.HY,{children:[(0,d.BX)(ee.G,(0,l.Z)((0,i.Z)({},w,P),{css:(a={position:"relative"," .replStar":{opacity:1}},(0,r.Z)(a,(0,We.et)("mobileMax"),{" .replStar":{opacity:s.isStarred?1:0}}),(0,r.Z)(a,":hover .replStar",{opacity:1}),(0,r.Z)(a,":focus-within .replStar",{opacity:1}),a),children:[(0,d.tZ)(Xn,{repl:s,disabled:T.length>0,onInactiveClick:G,children:(0,d.BX)(Ae.Tg,{tag:"a",elevated:!0,css:[$e.gU.listItem,ne.l0.colWithGap(8),ne.l0.color.foregroundDefault,ne.l0.p(12),(0,r.Z)({},(0,We.et)("mobileMax"),[0===c?{borderRadius:"8px 8px 0 0"}:null,1===c?{borderRadius:"0 0 8px 8px"}:null,-1===c?{borderRadius:8}:null]),X?{backgroundColor:$e.vb.interactiveBackground}:null],children:[(0,d.BX)(ee.G,{css:[ne.l0.flex.row,ne.l0.align.center,ne.l0.flex.growAndShrink(1),ye?ne.l0.pr(64):ne.l0.pr(40),{gap:8}],children:[M?(0,d.tZ)(Mn,{replId:s.id,isSelected:X,onSelection:G}):(0,d.tZ)(Ke.Z,{size:24,iconUrl:s.iconUrl,alt:""}),(0,d.BX)(ee.G,{css:[ne.l0.flex.row,ne.l0.align.baseline,ne.l0.flex.growAndShrink(1),{gap:12}],children:[(0,d.tZ)(we.xv,{multiline:!1,variant:"subheadDefault",css:[ne.l0.flex.growAndShrink(1),ne.l0.maxWidth("max-content")],children:s.title}),(0,d.BX)(ee.G,{css:[ne.l0.rowWithGap(12),ne.l0.display.none,(0,r.Z)({},(0,We.et)("mobileMax"),ne.l0.display.flex)],children:[!s.isOwner&&s.user?(0,d.BX)(we.xv,{color:"dimmer",multiline:!1,children:["@",s.user.username]}):null,(0,d.tZ)(we.xv,{color:"dimmer",multiline:!1,children:(0,Te.F)(new Date(s.timeCreated))}),g&&"ReplBytesUsed"===s.bytesUsed.__typename?(0,d.tZ)(we.xv,{color:"dimmer",multiline:!1,children:(0,Sn.fZ)(Number(s.bytesUsed.value))}):null]})]})]}),(0,d.BX)(ee.G,{css:[ne.l0.rowWithGap(12),ne.l0.display.flex,(0,r.Z)({},(0,We.et)("mobileMax"),ne.l0.display.none)],children:[!s.isOwner&&s.user?(0,d.BX)(we.xv,{color:"dimmer",multiline:!1,children:["@",s.user.username]}):null,(0,d.tZ)(we.xv,{color:"dimmer",multiline:!1,children:(0,Te.F)(new Date(s.timeCreated))})]}),(0,d.BX)(ee.G,{css:[ne.l0.rowWithGap(12)],children:["Template"===s.publishedAs?(0,d.tZ)(d.HY,{}):null,(0,d.tZ)(_n,{repl:s,showPrivacy:!1,toggleIsPrivate:U}),(0,d.tZ)(En,{repl:s}),s.isAlwaysOn?(0,d.BX)(ee.G,{css:[ne.l0.py(4),ne.l0.rowWithGap(4),ne.l0.align.center],children:[(0,d.tZ)(pn.Z,{size:16,color:ne.TV.accentPositiveStronger,css:{filter:"drop-shadow(0 0 4px ".concat(ne.TV.accentPositiveStronger,")")}}),(0,d.tZ)(we.xv,{color:"dimmest",multiline:!1,children:"Always On"})]}):null,s.publishedAs?(0,d.BX)(ee.G,{css:[ne.l0.py(4),ne.l0.rowWithGap(4),ne.l0.align.center],children:[(0,d.tZ)(mn.Z,{size:16,color:ne.TV.foregroundDimmest}),(0,d.tZ)(we.xv,{color:"dimmest",multiline:!1,children:"Published"})]}):null]})]})}),(0,d.BX)(Ae.Tg,{background:k||X?"higher":"default",elevated:!0,css:[ne.l0.rowWithGap(2),ne.l0.position.absolute,ne.l0.top(12),ne.l0.right(12),{backgroundColor:"transparent"}],children:[ye?(0,d.tZ)(Bn,{selected:s.isStarred,onClick:function(){if(!A.loading){var e=!s.isStarred;L({variables:{input:{id:s.id,isStarred:e}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,l.Z)((0,i.Z)({},s),{isStarred:e})}}}).then((function(n){n.errors?Ze(n.errors[0].message):ge(e?"Repl starred":"Repl unstarred")}))}},isDarkColorScheme:Z}):null,(0,d.tZ)(xe,{editRepl:function(){return he(In.EditRepl)},deleteRepl:function(){return he(In.DeleteRepl)},removeMultiplayerRepl:function(){return he(In.RemoveRepl)},togglePinnedToProfile:function(){J.loading||le.loading||(s.pinnedToProfile?ie():K())},moveItem:function(){return he(In.MoveItem)},forkRepl:function(){q||he(In.ForkRepl)},repl:s,selectRepl:s.isOwner?G:void 0})]})]})),(0,d.tZ)(Le.u,{isOpen:fe===In.EditRepl,onRequestClose:function(){return he(null)},children:(0,d.tZ)(Cn,{repl:s,onSubmit:function(e){he(null),function(e){var n=e.title,t=e.description;A.loading||L({variables:{input:{id:s.id,title:n,description:t}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,l.Z)((0,i.Z)({},s),{title:n})}}}).then((function(e){e.errors?Ze(e.errors[0].message):ge("Repl Updated")}))}(e)},hideModal:function(){return he(null)}})}),(0,d.tZ)(Le.u,{isOpen:fe===In.DeleteRepl,onRequestClose:function(){return he(null)},children:(0,d.tZ)(qe.Z,{name:s.title,entityType:"Repl",delete:function(){de.loading||ae()},hideModal:function(){return he(null)}})}),(0,d.tZ)(Le.u,{isOpen:fe===In.MoveItem,onRequestClose:function(){return he(null)},children:(0,d.tZ)(Ve,{item:s,teamId:b,isRepl:!0,onSubmit:function(e){O.loading||W(e)},hideModal:function(){return he(null)}})}),(0,d.tZ)(Le.u,{isOpen:fe===In.RemoveRepl,onRequestClose:function(){return he(null)},children:(0,d.BX)(re,{onSubmit:function(){ue.loading||ce()},onCancel:function(){return he(null)},hideModal:function(){return he(null)},deleteStyle:!0,submitLabel:"Yes, leave this Repl",buttonIcon:(0,d.tZ)(pe.Z,{}),children:[(0,d.tZ)(we.h4,{variant:"headerDefault",level:1,children:"Leave multiplayer Repl"}),(0,d.tZ)(we.xv,{children:"Are you sure you want to leave this multiplayer Repl? You will no longer be able to access its content."})]})}),(0,d.tZ)(Le.u,{isOpen:fe===In.ForkRepl,onRequestClose:function(){return he(null)},children:(0,d.tZ)(Je.Z,{onFork:function(e,n,t,r){Y({originId:s.id,teamId:e,title:n,description:t,isPrivate:r,forkToPersonal:!b||!e,trackingData:{forkSource:"replsDashboard"}})},initialTitle:s.title,initialDescription:null!==(t=s.description)&&void 0!==t?t:"",initialPrivacy:s.isPrivate,hideModal:function(){return he(null)},teamContext:null===(n=s.user)||void 0===n?void 0:n.username})}),(0,d.tZ)(nn.N,(0,l.Z)((0,i.Z)({},N),{uponPurchaseGoTo:!x&&y?"profile":"cyclesPage"}))]})},Un=function(e){var n,t=e.onCreate,r=e.parentId,l=e.teamId,a=(0,u.useState)(!1),s=a[0],c=a[1],p=(0,Re.Z)(),m=p.showConfirm,f=p.showError,h=(0,o.Z)(function(e){var n=(0,i.Z)({},R,e);return g.D(k,n)}(),2),v=h[0],b=h[1];return(0,u.useEffect)((function(){b.data?(m("Folder created"),c(!1),t()):b.error&&f(b.error.graphQLErrors[0].message||"Something went wrong when creating this folder")}),[b.data,b.error,t,m,f]),(0,d.BX)(d.HY,{children:[(0,d.tZ)(Le.u,{isOpen:s,onRequestClose:function(){c(!1)},children:(0,d.tZ)(De,{onSubmit:function(e){b.loading||v({variables:{name:e,parentId:r,teamId:l}})},hideModal:function(){c(!1)},loading:b.loading,errorMessage:null===(n=b.error)||void 0===n?void 0:n.message})}),(0,d.tZ)(te.zx,{iconLeft:(0,d.tZ)(ke.Z,{}),text:"New folder",onClick:function(){return c(!0)}})]})},zn=function(e){var n=e.pathnames,t=e.username;return(0,d.tZ)(E(),(0,l.Z)((0,i.Z)({},t?(0,oe.wQ)({pathnames:n,username:t}):(0,oe.xd)({pathnames:n})),{children:(0,d.BX)("a",{className:"jsx-954043164bed4624",children:[(0,d.tZ)("div",{className:"jsx-954043164bed4624 icon",children:(0,d.tZ)(Ue.Z,{size:24,css:{transform:"scaleX(-1)"}})}),(0,d.tZ)("div",{className:"jsx-954043164bed4624",children:"(up 1 level)"}),(0,d.tZ)(c(),{id:"954043164bed4624",children:".icon.jsx-954043164bed4624{color:var(--foreground-dimmest);padding:0 8px}a.jsx-954043164bed4624{min-height:64px;display:grid;grid-column-gap:20px;grid-template-columns:40px auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;margin-bottom:var(--space-24);padding:var(--space-8);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default);text-decoration:none;border:1px solid transparent}a.jsx-954043164bed4624:hover{background-color:var(--background-default)}a.jsx-954043164bed4624:active{background-color:var(--background-higher);border-color:var(--accent-primary-default)}"})]})}))},Nn=t(75205),Vn=function(e){var n=e.folder,t=e.children,r=(0,o.Z)((0,Nn.L)({accept:[C.Folder,C.Repl],drop:function(){return n},collect:function(e){var t=e.getItem()||!1;return{isActive:e.isOver()&&e.canDrop()&&t&&t.id!==n.id}}}),2),i=r[0].isActive,l=r[1];return(0,d.BX)("div",{ref:l,className:"jsx-10566ad21346f48d "+(N()({"is-active":i})||""),children:[t,(0,d.tZ)(c(),{id:"10566ad21346f48d",children:".is-active.jsx-10566ad21346f48d{outline:2px solid var(--accent-primary-default)}"})]})},Ln=t(86763),An=t.n(Ln),$n=function(e){var n=e.loadMore,t=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e=An()((function(){t.current&&function(e){var n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)}(t.current)&&n()}),200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[n]),(0,d.tZ)("div",{ref:t})},Wn=function(e){var n=e.enabled,t=e.onClick,r=(0,sn.F)().isDarkColorScheme,i=r?ne.TV.yellowStrongest:ne.TV.yellowDimmest,l=r?ne.TV.yellowDefault:ne.TV.yellowStronger;return(0,d.tZ)(ee.G,{css:[ne.l0.transition.snappy,{height:28,width:44,backgroundColor:n?ne.TV.yellowDimmest:ne.TV.backgroundDefault,borderRadius:14,border:n?"1px solid "+ne.TV.yellowDimmer:"1px solid "+ne.TV.outlineDimmest}],onClick:t,title:"Toggle starred Repls",children:(0,d.tZ)(ee.G,{css:[ne.l0.center,ne.l0.transition.snappy,{margin:1,height:24,width:24,borderRadius:"100%",backgroundColor:n?l:ne.TV.backgroundHigher,color:n?i:ne.TV.foregroundDimmer,transform:n?"translateX(16px)":"translateX(0px)"}],children:n?(0,d.tZ)(cn.Z,{size:16}):(0,d.tZ)(un.Z,{size:16})})})},On=function(e){var n=e.starred,t=e.username,r=(0,Pe.useRouter)();return(0,d.tZ)(E(),{href:{pathname:r.pathname,query:(0,l.Z)((0,i.Z)({},n?{}:{starred:!0}),{username:t})},as:{pathname:"/@".concat(t),query:(0,l.Z)((0,i.Z)({},n?{}:{starred:!0}),{username:t})},scroll:!1,shallow:!0,children:(0,d.tZ)("a",{children:(0,d.tZ)(Wn,{enabled:n,onClick:void 0})})})},Hn=t(95015),Yn=t(8622),qn=t(24743),Qn=t(32104),Kn=t(5889),Jn=t(2757),et=t(80336),nt=t(42237);function tt(){var e=(0,p.Z)(["\n  mutation ReplsDashboardBatchDeleteRepls($input: BatchDeleteReplsInput!) {\n    batchDeleteRepls(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on BatchDeleteReplsResult {\n        repls {\n          id\n        }\n      }\n    }\n  }\n"]);return tt=function(){return e},e}var rt={},it=(0,m.Ps)(tt());var lt,ot=t(75863),at=(0,Tn.X)({wrapper:[ne.l0.colWithGap(24)],replRow:[ne.l0.rowWithGap(8),ne.l0.pb(4),ne.l0.align.center],additionalReplsCount:[ne.l0.pl(12),ne.l0.pt(8)],buttons:[ne.l0.rowWithGap(12),ne.l0.justify.end]}),dt=function(e){var n=e.selectedRepls,t=e.isOpen,r=e.onClose,i=e.onDelete,l=e.deleting,o=n.length,a=(0,Jn.Z)("repl",o);return(0,d.tZ)(Le.u,{isOpen:t,onRequestClose:r,children:(0,d.BX)(ee.G,{css:at.wrapper,children:[(0,d.BX)(we.h4,{variant:"headerDefault",level:2,children:["Delete selected ",a,"?"]}),(0,d.BX)(ee.G,{children:[n.slice(0,5).map((function(e,n){return(0,d.BX)(ee.G,{css:at.replRow,children:[(0,d.tZ)(ot.ZP,{size:24,iconUrl:e.iconUrl,alt:""}),(0,d.tZ)(we.xv,{height:"singleLine",multiline:!1,children:e.title})]},n)})),o>5?(0,d.BX)(we.xv,{css:at.additionalReplsCount,multiline:!1,children:["+ ",o-5," more"]}):null]}),(0,d.BX)(ee.G,{css:at.buttons,children:[(0,d.tZ)(te.zx,{text:"Cancel",onClick:r,disabled:l}),(0,d.tZ)(te.zx,{iconLeft:(0,d.tZ)(se.Z,{}),onClick:i,disabled:l,text:"Yes, delete ".concat(o," ").concat(a),colorway:"negative"})]})]})})},st=(0,fe.F4)("\n  from { transform: translateY(100%); }\n  to { transform: translateY(0%); }\n"),ct=(0,Tn.X)({container:{position:"fixed",bottom:32,marginTop:-32,marginRight:12,padding:8,paddingLeft:16,borderRadius:16,backgroundColor:ne.TV.accentPrimaryDimmest,border:"1px solid "+ne.TV.accentPrimaryDimmer,boxShadow:ne.TV.shadow2,flexDirection:"row",alignItems:"center",alignSelf:"flex-end",animation:st+" 200ms forwards cubic-bezier(0.16, 1, 0.3, 1)"},countText:{fontWeight:ne.TV.fontWeightMedium,marginRight:12},actions:{flexDirection:"row"},iconButton:{padding:16,transition:"none"," > *":{color:ne.TV.foregroundDefault}},message:[ne.l0.rowWithGap(8),ne.l0.align.center]}),ut=function(e){var n=e.onDelete,t=(0,Pn.VO)(),r=t.selectedRepls,l=t.clearSelectedRepls,a=t.message,s=t.setMessage,c=(0,o.Z)(u.useState(!1),2),p=c[0],m=c[1],f=(0,Re.Z)(),h=f.showConfirm,v=f.showError,b=r.length,Z=(0,Jn.Z)("repls",b),x=(0,o.Z)(function(e){var n=(0,i.Z)({},rt,e);return g.D(it,n)}({onCompleted:function(e){"BatchDeleteReplsResult"===e.batchDeleteRepls.__typename?(s(null),h("".concat(b," ").concat(Z," deleted")),l(),n()):v("Unable to delete ".concat(b," ").concat(Z))},onError:function(e){return v(e.message)},variables:{input:{ids:r.map((function(e){return e.id}))}},update:function(e,n){var t,r;"BatchDeleteReplsResult"===(null===(t=n.data)||void 0===t||null===(r=t.batchDeleteRepls)||void 0===r?void 0:r.__typename)&&n.data.batchDeleteRepls.repls&&(n.data.batchDeleteRepls.repls.forEach((function(n){e.evict({id:n.id})})),e.gc())}}),2),y=x[0],R=x[1].loading,w=r.length,k=[{alt:"Delete",onClick:function(){R||m(!0)},icon:(0,d.tZ)(nt.Trash,{})},{alt:"Clear selection",onClick:l,icon:(0,d.tZ)(et.Z,{})}];return u.useEffect((function(){var e=function(e){"Escape"===e.key&&l()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[l]),0===w?null:(0,d.BX)(ee.G,{css:ct.container,children:[(0,d.tZ)(dt,{selectedRepls:r,isOpen:p,onClose:function(){return m(!1)},onDelete:function(){s("Deleting ".concat(w," ").concat(Z,"...")),y(),m(!1)},deleting:R}),a?(0,d.BX)(ee.G,{css:ct.message,children:[(0,d.tZ)(we.xv,{multiline:!1,children:a}),(0,d.tZ)(Qn.Z,{})]}):(0,d.BX)(d.HY,{children:[(0,d.BX)(we.xv,{css:ct.countText,multiline:!1,children:[w," ",Z," selected"]}),(0,d.tZ)(ee.G,{css:ct.actions,children:k.map((function(e,n){return(0,d.tZ)(on.h,{alt:e.alt,colorway:"primary",onClick:e.onClick,css:ct.iconButton,children:e.icon},n)}))})]})]})},pt=(lt={display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:4,paddingBottom:4},(0,r.Z)(lt,(0,We.et)("mobileMax"),{gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:12,paddingBottom:24}),(0,r.Z)(lt,(0,We.et)("tabletMin"),{gridTemplateColumns:"repeat(3, minmax(0, 1fr))"}),lt),mt=function(e){var n,t,r=e.path,s=e.starred,p=e.refetchRepls,m=(0,Pn.VO)(),f=m.deselectRepl,h=m.isReplSelected,v=m.clearSelectedRepls,g=(0,o.Z)(u.useState(r),2),Z=g[0],x=g[1];r!==Z&&(x(r),v());var y=function(e){var n=(0,i.Z)({},R,e);return b.a(w,n)}({fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{path:r,starred:s},ssr:!1,notifyOnNetworkStatusChange:!0}),k=y.data,I=y.loading,C=y.refetch,P=y.fetchMore,B=(0,Re.Z)(),E=B.showError,_=B.showConfirm,j=(0,o.Z)(D({onError:function(e){return E(e.message)},onCompleted:function(e){e.moveItemsToFolder.forEach((function(e){"Repl"===e.__typename&&h(e.id)&&f(e.id)}))},update:function(e,n){var t=n.data;t&&G&&(t.moveItemsToFolder.forEach((function(n){e.modify({id:e.identify({__typename:"ReplFolder",id:G.id}),optimistic:!0,fields:{folders:function(e,t){var r=t.readField;if("ReplFolder"!==n.__typename)return e;var i=e.filter((function(e){return r("id",e)!==n.id}));return i},repls:function(e,t){var r=t.readField;if("Repl"!==n.__typename)return e;var i=e.items.filter((function(e){return r("id",e)!==n.id}));return{pageInfo:e.pageInfo,items:i}}}})})),_("Item moved!"))}}),2),M=j[0],X=j[1],G=k&&k.currentUser&&k.currentUser.replFolderByPath?k.currentUser.replFolderByPath:null,U=k&&(null===(n=k.currentUser)||void 0===n?void 0:n.username),z=1===(null===G||void 0===G?void 0:G.pathnames.length)&&""===(null===G||void 0===G?void 0:G.pathnames[0])||null===G||void 0===G?void 0:G.id,N=!!s,V=G&&G.folders.length+G.repls.items.length===0,L=G&&1===G.folders.length&&0===G.repls.items.length&&"multiplayer"===G.folders[0].pathnames[0],A=!N&&(V||L)&&((null===G||void 0===G?void 0:G.canEdit)||!z),$=G&&G.repls.pageInfo.nextCursor?G&&G.repls.pageInfo.nextCursor:null,W=(null===G||void 0===G?void 0:G.ownerId)&&(null===G||void 0===G?void 0:G.ownerId)!==(null===k||void 0===k||null===(t=k.currentUser)||void 0===t?void 0:t.id)?G.ownerId:void 0,O=function(e){if(!X.loading){var n="repl"in e?[e.repl.id]:[],t="folder"in e?[e.folder.id]:[];M({variables:{replIds:n,folderIds:t,destFolderId:e.to.id,teamId:W}})}};return!k&&I?(0,d.BX)("div",{className:"jsx-4c0e34e662959d8a spinner",children:[(0,d.tZ)(Qn.Z,{}),(0,d.tZ)(c(),{id:"4c0e34e662959d8a",children:".spinner.jsx-4c0e34e662959d8a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px;width:100%;height:100%}"})]}):G?(0,d.BX)(d.HY,{children:[(0,d.BX)("div",{className:"jsx-35f163a2f8dbdb7f",children:[(0,d.BX)(ee.G,{css:[ne.l0.flex.row,ne.l0.justify.spaceBetween,ne.l0.align.center,ne.l0.pb(16)],children:[A||!G.canCreateSubFolders&&z?(0,d.tZ)("div",{className:"jsx-35f163a2f8dbdb7f"}):(0,d.tZ)("div",{className:"jsx-35f163a2f8dbdb7f new-folder",children:(0,d.tZ)(Un,{onCreate:C,parentId:z,teamId:W})}),(0,d.tZ)(On,{starred:!!s,username:U})]}),(0,d.tZ)(S.Z,{children:(0,d.BX)("div",{className:"jsx-35f163a2f8dbdb7f",children:[G.parent&&G.canEdit?(0,d.tZ)("div",{className:"jsx-35f163a2f8dbdb7f",children:(0,d.tZ)(Vn,{folder:G.parent,children:(0,d.tZ)(zn,{pathnames:G.parent.pathnames,username:U})})}):null,G.parent&&!G.canEdit?(0,d.tZ)(zn,{pathnames:G.parent.pathnames,username:U}):null,!N&&G.folders.length?(0,d.tZ)(ee.G,{css:pt,children:G.folders.map((function(e){return e.canEdit?(0,d.tZ)(Vn,{folder:e,children:(0,d.tZ)(T,{onMove:O,folder:e,children:(0,d.tZ)(He,{onDelete:C,folder:e,teamId:W,username:U,onMove:C})})},e.id):(0,d.tZ)(He,{onDelete:C,teamId:W,username:U,onMove:C,folder:e},e.id)}))}):null,(0,d.tZ)(ee.G,{css:[ne.l0.colWithGap(4)],children:G.repls.items.map((function(e,n){return(0,d.tZ)(F,{onMove:O,repl:e,children:(0,d.tZ)(Gn,{position:G.repls.items.length>1?n/(G.repls.items.length-1):-1,repl:e,onMove:C,onDelete:C,onPinToggle:p,teamId:W})},e.id)}))}),A?(0,d.BX)("div",{className:"jsx-35f163a2f8dbdb7f cta-box",children:[(0,d.tZ)(Kn.Z,{src:"public/images/empty-folder-placeholder.svg",width:"200px",height:"205px",alt:"A cactus and scorpion inside a folder with the words 'Create a new Repl?'"}),(0,d.BX)("div",{className:"jsx-35f163a2f8dbdb7f button-container",children:[(0,d.tZ)("div",{className:"jsx-35f163a2f8dbdb7f cta-button",children:(0,d.tZ)(Un,{onCreate:C,parentId:z,teamId:W})}),(0,d.tZ)("div",{className:"jsx-35f163a2f8dbdb7f cta-button",children:(0,d.tZ)(Hn.Z,{trackingContext:"repl folder",children:(0,d.tZ)(te.zx,{iconLeft:(0,d.tZ)(Yn.Z,{}),text:"New Repl"})})})]})]}):null]})}),I?(0,d.tZ)("div",{className:"jsx-35f163a2f8dbdb7f load-more-spinner",children:(0,d.tZ)(Qn.Z,{})}):null,$&&!I?(0,d.tZ)($n,{loadMore:function(){$&&!I&&P({variables:{path:r,starred:s,after:$},updateQuery:function(e,n){var t=n.fetchMoreResult;return e&&e.currentUser&&e.currentUser.replFolderByPath&&t&&t.currentUser&&t.currentUser.replFolderByPath?{__typename:"RootQueryType",currentUser:(0,l.Z)((0,i.Z)({},t.currentUser),{replFolderByPath:(0,l.Z)((0,i.Z)({},t.currentUser.replFolderByPath),{repls:{__typename:"ReplConnection",pageInfo:(0,i.Z)({},t.currentUser.replFolderByPath.repls.pageInfo),items:(0,a.Z)(e.currentUser.replFolderByPath.repls.items).concat((0,a.Z)(t.currentUser.replFolderByPath.repls.items))}})})}:e}})}}):null,(0,d.tZ)(c(),{id:"35f163a2f8dbdb7f",children:".cta-box.jsx-35f163a2f8dbdb7f{margin:15px auto;padding:40px 25px 30px 25px;border-style:dashed;border-color:var(--outline-dimmer);-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;border-width:thin;text-align:center;max-width:500px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:8px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.empty-state.jsx-35f163a2f8dbdb7f{margin:40px auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:var(--outline-default)}.button-container.jsx-35f163a2f8dbdb7f{margin-top:15px}.cta-button.jsx-35f163a2f8dbdb7f{padding:5px;display:grid;vertical-align:middle}.content.jsx-35f163a2f8dbdb7f{margin-left:4px}.spacer.jsx-35f163a2f8dbdb7f{height:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}@media screen and (min-width:450px){.cta-button.jsx-35f163a2f8dbdb7f{padding:5px;display:inline-block;vertical-align:middle}}.spinner.jsx-35f163a2f8dbdb7f{width:100%;height:100%}.spinner.jsx-35f163a2f8dbdb7f,.load-more-spinner.jsx-35f163a2f8dbdb7f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:20px}.header.jsx-35f163a2f8dbdb7f{display:grid;grid-template-columns:1fr auto auto;grid-column-gap:20px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.empty-folder.jsx-35f163a2f8dbdb7f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.new-folder.jsx-35f163a2f8dbdb7f{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.empty-folder.jsx-35f163a2f8dbdb7f *.jsx-35f163a2f8dbdb7f{padding:var(--space-16)}"})]}),(0,d.tZ)(ut,{onDelete:C})]}):(0,d.BX)("div",{className:"jsx-b9539186b6f901cf",children:[(0,d.tZ)(qn.Z,{children:"Unable to fetch repls. Please try again."}),(0,d.tZ)(c(),{id:"b9539186b6f901cf",children:"div.jsx-b9539186b6f901cf{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:var(--space-16)}"})]})}},74324:function(e,n,t){var r=t(72006),i=t(4405),l=t(74985),o=t(50959),a=t(82893),d=t.n(a),s=t(7346),c=t(61284),u=t(39541);n.Z=function(e){var n=e.links,t=e.username;return(0,l.tZ)(c.xv,{multiline:!1,children:n.map((function(e,a){var c=e.pathnames,p=e.text;return(0,l.BX)(o.Fragment,{children:[a===n.length-1?p:(0,l.tZ)(d(),(0,i.Z)((0,r.Z)({},t?(0,s.wQ)({pathnames:c,username:t}):(0,s.xd)({pathnames:c})),{children:(0,l.tZ)("a",{css:{color:u.TV.foregroundDefault},children:p})})),(0,l.tZ)("span",{css:{color:u.TV.foregroundDimmest},children:" / "})]},c.join("/"))}))})}},87198:function(e,n,t){t.d(n,{sH:function(){return g},CW:function(){return D},x$:function(){return R},cM:function(){return k},G5:function(){return x}});var r=t(72006),i=t(43119),l=t(71440);function o(){var e=(0,i.Z)(["\n  fragment ReplsDashboardReplItemActionsRepl on Repl {\n    id\n    url\n    slug\n    analyticsUrl\n    pinnedToProfile\n    isPrivate\n    currentUserPermissions {\n      changeTitle\n      changeDescription\n      changeLanguage\n      changeConfig\n      changePrivacy\n      containerWrite\n      star\n      pin\n      move\n      delete\n      leaveMultiplayer\n      viewHistory\n      fork\n    }\n  }\n"]);return o=function(){return e},e}var a=(0,l.Ps)(o()),d=t(94712),s=t(3839),c=t(79396),u=t(50216);function p(){var e=(0,i.Z)(["\n  fragment ReplsDashboardReplItemRepl on Repl {\n    id\n    title\n    description\n    timeCreated\n    isStarred\n    isPrivate\n    isOwner\n    isAlwaysOn\n    isBoosted\n    bytesUsed {\n      ... on ReplBytesUsed {\n        value\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n    powerUps {\n      __typename\n      ... on ReplPowerUpTypes {\n        boost {\n          sku\n        }\n      }\n    }\n    iconUrl\n    publishedAs\n    slug\n    url\n    hostedUrl\n    templateInfo {\n      label\n    }\n    ...ReplsDashboardReplItemActionsRepl\n    ...ReplLinkRepl\n    user {\n      id\n      image\n      username\n      ...UserLinkUser\n    }\n    config {\n      isServer\n    }\n    isRenamed\n  }\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}function m(){var e=(0,i.Z)(["\n  mutation ReplsDashboardUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}function f(){var e=(0,i.Z)(["\n  mutation ReplsDashboardReplItemPinReplToProfile($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i.Z)(["\n  mutation ReplsDashboardUnpinReplFromProfile($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function v(){var e=(0,i.Z)(["\n  mutation ReplsDashboardRemoveRepl($id: String!) {\n    removeSharedRepl(replId: $id) {\n      id\n    }\n  }\n"]);return v=function(){return e},e}var b={},g=(0,l.Ps)(p(),a,d.Y,s._),Z=(0,l.Ps)(m(),g);function x(e){var n=(0,r.Z)({},b,e);return u.D(Z,n)}var y=(0,l.Ps)(f(),c.A);function R(e){var n=(0,r.Z)({},b,e);return u.D(y,n)}var w=(0,l.Ps)(h(),c.A);function k(e){var n=(0,r.Z)({},b,e);return u.D(w,n)}var I=(0,l.Ps)(v());function D(e){var n=(0,r.Z)({},b,e);return u.D(I,n)}},37989:function(e,n,t){t.d(n,{C7:function(){return d},VO:function(){return s}});var r=t(2272),i=t(9970),l=t(74985),o=t(50959),a=o.createContext(null),d=function(e){var n=e.children,t=(0,r.Z)(o.useState([]),2),d=t[0],s=t[1],c=(0,r.Z)(o.useState(null),2),u=c[0],p=c[1];return(0,l.tZ)(a.Provider,{value:{selectedRepls:d,isReplSelected:function(e){return d.some((function(n){return n.id===e}))},selectRepl:function(e){if(50===d.length)return p("You have selected the maximum number of repls!"),void setTimeout((function(){return p(null)}),2500);s((0,i.Z)(d).concat([e]))},deselectRepl:function(e){s(d.filter((function(n){return n.id!==e})))},clearSelectedRepls:function(){s([])},message:u,setMessage:p},children:n})};function s(){var e=o.useContext(a);if(null===e)throw new Error("SelectedReplsContextProvider missing!");return e}}}]);
//# sourceMappingURL=977-7c148f521f589a9d.js.map