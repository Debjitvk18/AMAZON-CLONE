"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4421],{3033:function(e,t,r){var n=r(57135),o=r(57389),l=r(96583),a=r(74985),i=r(31992),c=r(69583),u=r(45510),s=r(25198),d=r(63128),p=r(61284),h=r(66539),f=r(85368),g=r(82568),m=r(93658),Z=r(32104),y=r(76735),v=r(39541),w=r(34338),b=r(50959),x=r(59737),G=r(38785),k=r(31366),S=(0,g.X)({self:[v.l0.colWithGap(12),v.l0.flex.growAndShrink(1)]});t.Z=function(e){var t=e.context,r=e.title,g=void 0===r?"Outbound Data Transfer":r,_=e.titleShort,U=void 0===_?"Data Transfer":_,B=(0,b.useState)(),M=B[0],P=B[1],C=(0,b.useState)(),X=C[0],R=C[1],T=(0,b.useState)(!1),W=T[0],A=T[1],E=(0,b.useState)(""),N=E[0],H=E[1],I=function(e){var t;if("CurrentUser"===(null===(t=e.currentUser)||void 0===t?void 0:t.__typename))switch(e.currentUser.egress.__typename){case"UserEgressSummary":P(e.currentUser.egress),H(e.currentUser.username);break;case"UnauthorizedError":case"UserError":R(e.currentUser.egress.message);break;default:R("Unexpected response")}else R("Unexpected response")},q=(0,x.FX)({onCompleted:I,onError:function(e){R(e.message)}}),z=q.loading,D=q.refetch,O=function(){var e=(0,n.Z)((function(){var e,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,D()];case 1:return(e=r.sent()).error?R(e.error.message):e.errors?R("Something unexpected happened, please try again"):I(e.data),[3,3];case 2:return t=r.sent(),R(t.message),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),F=M?Number(M.monthly.usage):0,j=M?Number(M.monthly.limit):0;return(0,a.BX)(d.Tg,{css:S.self,children:[z?(0,a.tZ)(f.G,{css:[v.l0.justify.center,v.l0.flex.row],children:(0,a.tZ)(Z.Z,{})}):null,X?(0,a.tZ)(s.E,{colorway:"negative",text:X}):null,M?(0,a.BX)(a.HY,{children:[(0,a.BX)(f.G,{tag:"header",css:[v.l0.rowWithGap(16),v.l0.align.center,v.l0.justify.spaceBetween,(0,o.Z)({},(0,w.EM)("mobileMax"),[v.l0.flex.wrap])],children:[(0,a.BX)(f.G,{css:[v.l0.rowWithGap(4),v.l0.align.center],children:[(0,a.tZ)(p.xv,{multiline:!1,variant:"subheadDefault",css:[v.l0.display.flex,(0,o.Z)({},(0,w.EM)("mobileMax"),[v.l0.display.none])],children:g}),(0,a.tZ)(p.xv,{multiline:!1,variant:"subheadDefault",css:[v.l0.display.none,(0,o.Z)({},(0,w.EM)("mobileMax"),{display:"unset"})],children:U}),(0,a.tZ)(h.u,{tooltip:(0,a.tZ)(p.xv,{children:"Similar to bandwidth, outbound data transfer is the amount of data that our servers send to your Repls' users and external services."}),children:(0,a.tZ)(m.Z,{css:[(0,o.Z)({},(0,w.EM)("mobileMax"),[v.l0.display.none])]})})]}),(0,a.BX)(f.G,{css:[v.l0.rowWithGap(4),v.l0.align.center],children:[M.monthly.isThrottled?(0,a.tZ)(h.u,{tooltip:(0,a.tZ)(p.xv,{children:"Bandwidth for your Repls is being throttled. Increase your limit to resume normal speeds."}),children:(0,a.tZ)(y.Z,{color:"red"})}):null,(0,a.tZ)(p.xv,{color:"dimmer",css:[v.l0.py(1)],multiline:!1,children:0!==j?"".concat((0,i.fZ)(F,{forceGib:!0,precision:1})," / ").concat((0,i.fZ)(j,{forceGib:!0,precision:1})):"".concat((0,i.fZ)(F,{precision:1}))})]})]}),(0,a.tZ)(f.G,{children:(0,a.tZ)(G.$,{summary:(0,k._)(M.monthly),context:{type:"cycles_page"===t?t:"account_page"},username:N})}),(0,a.BX)(f.G,{tag:"footer",css:[v.l0.rowWithGap(16),v.l0.justify.spaceBetween,v.l0.align.center],children:[(0,a.BX)(p.xv,{color:"dimmest",multiline:!1,children:["Resets on ",M.monthly.resets]}),M.monthly.showUpgrade?(0,a.tZ)(u.zx,{colorway:"primary",text:"Increase limit",onClick:function(){return A(!W)}}):null,M.monthly.showUpgrade||M.monthly.isEnforced?null:(0,a.tZ)(p.xv,{color:"dimmest",multiline:!1,children:"Limit not yet enforced"})]})]}):null,(0,a.tZ)(c.Z,{isOpen:W,context:t,powerUp:"egress",uponPurchaseGoTo:"account_resource_usage"===t?"account":"cyclesPage",onRequestClose:function(){A(!1),O()}})]})}},38785:function(e,t,r){r.d(t,{X:function(){return O},$:function(){return D}});var n=r(2272),o=r(9970),l=r(74985),a=r(50959),i=r(85368),c=r(82568),u=r(39541),s=r(57389),d=r(72006),p=r(4405),h=u.tX.categorical,f=.0075,g=r(51523),m=r(82893),Z=r.n(m),y=r(12259),v=r(66539),w=r(61284),b=r(31992),x=r(75863),G=(0,c.X)({self:[u.l0.rowWithGap(8),u.l0.align.center],dot:[u.l0.width(8),u.l0.height(8),{borderRadius:"50%"}],title:[u.l0.flex.grow(1)]}),k=function(e){var t=e.title,r=e.usage,n=e.iconUrl;return(0,l.BX)(i.G,{css:G.self,children:["string"===typeof n?(0,l.tZ)(x.ZP,{size:16,iconUrl:n,alt:t}):null,(0,l.tZ)(w.xv,{css:G.title,multiline:!1,children:t}),(0,l.tZ)(w.xv,{color:"dimmer",multiline:!1,children:(0,b.fZ)(r)})]})},S=(0,c.X)({self:[u.l0.height("100%")],empty:[u.l0.height("100%")]}),_=i.K.a,U=function(e){var t=e.percentage,r=e.color,n=e.linkedRepl,o=e.usage,i=e.count,c=n?(0,g.aq)(n):y.$I,u=(0,a.useState)(!1),h=u[0],f=u[1];return(0,l.tZ)(v.u,{tooltip:n?(0,l.tZ)(k,{title:n.title,usage:o,iconUrl:n.iconUrl}):(0,l.tZ)(k,{title:"+".concat(i," more"),usage:o}),placement:"top",delay:"none",isOpen:h,maxWidth:400,children:function(e,n){return(0,l.tZ)(Z(),(0,p.Z)((0,d.Z)({},c),{passHref:!0,children:(0,l.tZ)(_,{onMouseOver:function(){return f(!0)},onMouseLeave:function(){return f(!1)},ref:n,css:S.self,style:(0,s.Z)({minWidth:"calc(".concat(.75,"%)"),width:"calc(".concat(t,"% - 1px)"),backgroundColor:r},"&:lastOfType",{width:"".concat(t,"%")})})}))}})},B=r(27691),M=r(87076),P=r(36443),C=r(94045),X=r(77712),R=r(34338),T=(0,c.X)({self:[u.l0.rowWithGap(8),u.l0.align.center],dot:[u.l0.flex.grow(1),u.l0.width(8),u.l0.height(8),u.l0.minWidth(8),u.l0.maxHeight(8),{borderRadius:"50%"}],title:[u.l0.flex.grow(1),u.l0.color.foregroundDefault,(0,s.Z)({},(0,R.EM)("mobileMax"),[u.l0.flex.shrink(1),u.l0.truncate])],line:[u.l0.flex.growAndShrink(1),u.l0.height(8),u.l0.width("100%"),(0,s.Z)({},(0,R.EM)("mobileMax"),[u.l0.flex.shrink(4)])]}),W=i.K.a,A=i.K.li,E=function(e){var t=e.color,r=e.title,n=e.usage,o=e.linkedRepl,a=e.username,c=o?(0,g.aq)(o):(0,X.Ru)(a);return(0,l.tZ)(A,{children:(0,l.tZ)(Z(),(0,p.Z)((0,d.Z)({},c),{passHref:!0,children:(0,l.tZ)(W,{children:(0,l.BX)(i.G,{css:T.self,children:[(0,l.tZ)("div",{css:T.dot,style:{backgroundColor:t}}),o?(0,l.tZ)(x.ZP,{size:16,iconUrl:o.iconUrl,alt:r}):null,(0,l.tZ)(w.xv,{css:T.title,multiline:!1,children:r}),(0,l.tZ)(i.G,{css:T.line,children:(0,l.tZ)("svg",{width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("line",{x1:"0%",y1:"50%",x2:"100%",y2:"50%",stroke:u.TV.outlineDefault})})}),(0,l.tZ)(w.xv,{color:"dimmer",multiline:!1,children:(0,b.fZ)(n)})]})})}))})},N=(0,c.X)({self:[u.l0.colWithGap(4)]}),H=i.K.ul,I=function(e){var t=e.topRepls,r=e.groupedRepls,n=e.groupedTotal,o=e.context,a=e.username;if("workspace_info_modal"===o.type){var c=t.findIndex((function(e){return e.repl.id===o.replId}));return-1===c?(0,l.tZ)(i.G,{css:N.self,children:(0,l.tZ)(w.xv,{multiline:!1,children:"No storage usage"})}):(0,l.BX)(H,{css:N.self,children:[t.map((function(e,t){return(0,l.tZ)(E,{color:t===c?u.TV.accentPrimaryDefault:u.TV.accentPrimaryDimmer,title:e.repl.title,usage:e.usage,linkedRepl:e.repl,username:a},t)})),0!==r.length?(0,l.tZ)(E,{color:u.TV.backgroundHighest,title:"+".concat(r.length," more"),usage:n,username:a}):null]})}return(0,l.BX)(H,{css:N.self,children:[0===t.length?(0,l.tZ)(w.xv,{multiline:!1,children:"No resource usage"}):null,t.map((function(e,t){return(0,l.tZ)(E,{color:h[t%h.length],title:e.repl.title,usage:e.usage,linkedRepl:e.repl,username:a},t)})),0!==r.length?(0,l.tZ)(E,{color:h[t.length%h.length],title:"+".concat(r.length," more"),usage:n,username:a}):null]})},q=r(33280),z=(0,c.X)({bar:[u.l0.width("100%"),u.l0.rowWithGap(1),u.l0.height(16),u.l0.borderRadius(4),u.l0.overflow("hidden"),u.l0.backgroundColor.backgroundHigher],selfPlaceholder:[u.l0.width("100%"),u.l0.rowWithGap(1),u.l0.height(16),u.l0.borderRadius(4),u.l0.overflow("hidden"),u.l0.backgroundColor.backgroundHigher,B.p.backgroundPulse(u.TV.backgroundHigher,u.TV.backgroundRoot)],barWrapper:[u.l0.flex.grow(1)],barAndTriggerWrapper:[u.l0.rowWithGap(8),u.l0.align.center],self:[u.l0.colWithGap(8)]}),D=function(e){var t=e.summary,r=e.context,c=e.username,s=(0,a.useState)(!1),d=s[0],p=s[1],g=t.perRepl,m=t.total,Z=t.limit,y=Math.max(m,Z),v=(0,o.Z)(g).filter((function(e){return e.percentage>0})).sort((function(e,t){return t.usage-e.usage})),w=(0,n.Z)(function(e,t){if("workspace_info_modal"!==t.type)return[e.slice(0,8),e.slice(8)];var r=e.findIndex((function(e){return e.repl.id===t.replId}));if(r<8)return[e.slice(0,8),e.slice(8)];var n=e[r];return[e.slice(0,8).concat(n),e.slice(8,r).concat(e.slice(r+1))]}(v,r),2),b=w[0],x=w[1],G=new Map(b.map((function(e){return[e.repl.id,e]}))),k=x.reduce((function(e,t){return e+t.usage}),0),S=function(e,t,r){var n=new Array,o=0,l=!0,a=!1,i=void 0;try{for(var c,u=e[Symbol.iterator]();!(l=(c=u.next()).done);l=!0){var s=c.value,d=Math.max(s.percentage,f),p=d-s.percentage;0!==p&&(o+=p),n.push({percentage:d,adjusted:0!==p,grouped:!1,replIds:new Set([s.repl.id])})}}catch(k){a=!0,i=k}finally{try{l||null==u.return||u.return()}finally{if(a)throw i}}var h=0===t?0:Math.max(t,f);if(h>0){var g=h-t;g>0&&(o+=g),n.push({percentage:h,adjusted:g>0,grouped:!0,replIds:r})}if(o>0){var m=n.filter((function(e){return!e.adjusted})),Z=m.length;if(Z>0){var y=o/Z,v=!0,w=!1,b=void 0;try{for(var x,G=m[Symbol.iterator]();!(v=(x=G.next()).done);v=!0)x.value.percentage-=y}catch(k){w=!0,b=k}finally{try{v||null==G.return||G.return()}finally{if(w)throw b}}}}return n}(b,0===y?0:k/y,new Set(x.map((function(e){return e.repl.id})))),_="workspace_info_modal"===r.type,B="cycles_page"===r.type?u.TV.backgroundHighest:u.TV.backgroundHigher,X=(0,l.tZ)(M.h,{alt:d?"Hide Repls":"Show Repls",children:d?(0,l.tZ)(C.Z,{onClick:function(){return p(!d)}}):(0,l.tZ)(P.Z,{onClick:function(){return p(!d)}})}),R=S.length>0;return(0,l.BX)(i.G,{css:z.self,children:[(0,l.BX)(i.G,{css:z.barAndTriggerWrapper,children:[(0,l.tZ)(i.G,{css:z.barWrapper,children:(0,l.tZ)(i.G,{css:z.bar,style:{backgroundColor:B},children:S.map((function(e,t){var n,o=G.get(j(e));return(0,l.tZ)(U,{percentage:100*e.percentage,color:_?F(e,r.replId):h[t%h.length],linkedRepl:null===o||void 0===o?void 0:o.repl,count:e.replIds.size,usage:null!==(n=null===o||void 0===o?void 0:o.usage)&&void 0!==n?n:k},t)}))})}),R?X:null]}),R&&d?(0,l.BX)(l.HY,{children:[(0,l.tZ)(I,{topRepls:b,groupedRepls:x,groupedTotal:k,context:r,username:c}),_?(0,l.tZ)(q.R,{}):null]}):null]})},O=function(){return(0,l.tZ)(i.G,{children:(0,l.tZ)(i.G,{css:z.selfPlaceholder})})},F=function(e,t){return e.replIds.has(t)?u.TV.accentPrimaryDefault:u.TV.accentPrimaryDimmest},j=function(e){return e.replIds.keys().next().value}},31366:function(e,t,r){r.d(t,{_:function(){return a}});var n=r(72006),o=r(4405),l=r(70232),a=function(e){switch(e.__typename){case"AccountStorageUtilization":return i(e);case"MonthlyEgressSummary":return c(e);default:(0,l.Z)(e)}},i=function(e){var t=e.total,r=e.perRepl,n=e.quota;return{total:Number(t),limit:Number(n),perRepl:r.map(u)}},c=function(e){var t=e.usage,r=e.limit,n=e.perRepl;return{total:Number(t),limit:Number(r),perRepl:n.map(u)}},u=function(e){return(0,o.Z)((0,n.Z)({},e),{usage:Number(e.usage)})}},31992:function(e,t,r){r.d(t,{$s:function(){return a},fZ:function(){return o},p6:function(){return l}});var n=1048576,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.forceGib,o=void 0!==r&&r,i=t.precision,c=void 0===i?4:i;return e>n||o?"".concat(a(e).toFixed(c)," GiB"):"".concat(l(e).toFixed(c)," MiB")},l=function(e){return e/n},a=function(e){return e/1073741824}},67541:function(e,t,r){var n=r(57135),o=r(96583),l=r(24824);t.Z=function(){var e=(0,n.Z)((function(e,t){var r,n,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return e?(r=e.user,[3,4]):[3,1];case 1:return(n=t.getState().user)&&n.userInfo.isLoggedIn&&n.userInfo?(r=n.userInfo,[3,4]):[3,2];case 2:return[4,(0,l.LK)("/is_authenticated")];case 3:(a=o.sent()).success&&(r=a.user),o.label=4;case 4:return r&&(e&&(r=JSON.parse(JSON.stringify(r))),t.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:r})),[2,{user:r}]}}))}));return function(t,r){return e.apply(this,arguments)}}()},94038:function(e,t,r){r.d(t,{S:function(){return f}});var n=r(74985),o=r(13339),l=r(13961),a=r(66195),i=r(82568),c=r(87076),u=r(39541),s=r(61284),d=r(85368),p=r(3652),h=(0,i.X)({paymentMethodFormContainer:[u.l0.colWithGap(16)],paymentMethodFormHeader:[u.l0.rowWithGap(8),u.l0.align.center]});function f(){var e=(0,a.P)({step:"card_preferences"}),t=e.currentStep,r=e.goBack,i=e.goTo;switch(t.step){case"card_preferences":return(0,n.tZ)(o.t,{goToNewPaymentMethodForm:function(){return i({step:"new_payment_method_form"})}});case"new_payment_method_form":return(0,n.BX)(d.G,{css:h.paymentMethodFormContainer,children:[(0,n.BX)(d.G,{css:h.paymentMethodFormHeader,children:[(0,n.tZ)(c.h,{alt:"Back",onClick:r,children:(0,n.tZ)(p.Z,{})}),(0,n.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,n.tZ)(l.q,{onSuccess:r,context:"account_page"})]})}}},13339:function(e,t,r){r.d(t,{t:function(){return v}});var n=r(72006),o=r(74985),l=r(38861),a=r(4706),i=r(34393),c=r(45510),u=r(87076),s=r(25198),d=r(85368),p=r(82568),h=r(39541),f=r(8622),g=r(1050),m=r(32104),Z=r(76735),y=(0,p.X)({self:[h.l0.colWithGap(16)],paymentMethodContainer:[h.l0.colWithGap(16)],addPaymentMethodContainer:[h.l0.colWithGap(6)],loadingContainer:[h.l0.justify.center,h.l0.align.center,h.l0.minHeight(80)]});function v(e){var t=e.goToNewPaymentMethodForm,r=e.onPreferencesUpdated,p=(0,i.Q)(),v=p.paymentMethod,w=p.loading,b=p.error,x=(0,l.kr)({defaultAutoRefillEnabledValue:!1,onAutoRefillPreferencesUpdated:function(){r&&r()}}).cardAutoRefillPreferencesProps;return w||null!=b?(0,o.tZ)(d.G,{css:y.loadingContainer,children:(0,o.tZ)(m.Z,{})}):(0,o.BX)(d.G,{css:y.self,children:[null!=v?(0,o.BX)(d.G,{css:y.paymentMethodContainer,children:[(0,o.BX)(d.G,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,o.tZ)(u.h,{alt:"Update Payment Method",onClick:t,children:(0,o.tZ)(g.Z,{})}),(0,o.tZ)(a.R,{last4:v.last4})]}),(0,o.tZ)(l.OK,(0,n.Z)({},x))]}):null," ",null==v?(0,o.BX)(d.G,{css:y.addPaymentMethodContainer,children:[(0,o.tZ)(s.E,{colorway:"warning",icon:(0,o.tZ)(Z.Z,{}),text:"Add a payment method and enable Auto-Refill to prevent your Power Ups from being disabled when you run out of Cycles."}),(0,o.tZ)(c.zx,{text:"Add Payment Method",iconLeft:(0,o.tZ)(f.Z,{}),onClick:t})]}):null]})}},66195:function(e,t,r){r.d(t,{P:function(){return l}});var n=r(9970),o=r(50959);function l(e){var t=(0,o.useState)(e),r=t[0],l=t[1],a=(0,o.useState)([]),i=a[0],c=a[1],u=(0,o.useCallback)((function(e){c((0,n.Z)(i).concat([r])),l(e)}),[i,c,r,l]),s=(0,o.useCallback)((function(){var e=i.pop();c(i),e&&l(e)}),[i,c,l]);return{currentStep:r,goTo:u,goBack:s,canGoBack:i.length>0}}},28412:function(e,t,r){r.d(t,{r:function(){return D}});var n=r(72006),o=r(4405),l=r(74985),a=r(50959),i=r(82568),c=r(39541),u=r(63128),s=r(61284),d=r(85368),p=r(5884),h=r(31992),f=r(38785),g=r(32104),m=r(31366),Z=r(88541),y=r(26721),v=r(16750),w=r(69583),b=r(2272),x=r(51631),G=r(77712),k=r(86302),S=r(20952),_=r(29262),U=r(96351),B=r(52230),M=r(54873),P=r(87076),C=(0,i.X)({self:[c.l0.rowWithGap(4),c.l0.align.center]}),X=function(e){var t=R(e),r=t.quotaText,n=t.attribution;return(0,l.BX)(d.G,{css:C.self,children:[(0,l.tZ)(s.xv,{color:"dimmer",children:r}),(0,l.tZ)(U.D,{text:n}),"sku"in e?(0,l.tZ)(P.h,{onClick:e.onRequestDelete,alt:"Remove add-on storage",children:(0,l.tZ)(M.Z,{})}):null]})},R=function(e){if("sku"in e)return{quotaText:"+".concat(_.zd[e.sku],"GiB"),attribution:"Add-on"};var t=e.userSubscriptionType,r=t?_.XR[t]:_.XR.FREE;return{quotaText:"".concat(r,"GiB"),attribution:(0,B.s)(t)}},T=r(81232),W=r(13233),A=r(2041),E=r(45510),N=r(63837),H=r(43774),I=(0,i.X)({self:[c.l0.rowWithGap(16),c.l0.justify.spaceBetween,c.l0.align.center],quotaBreakdownAndActions:[c.l0.rowWithGap(12)],deleteModalActions:[c.l0.rowWithGap(12),c.l0.justify.end],deleteModalContent:[c.l0.colWithGap(12)],deleteModal:[c.l0.colWithGap(16)]}),q=function(e){var t=e.username,r=e.setShowUpgradeModal,i=e.userSubscriptionType,c=e.currentSku,u=(0,W.Z)(),h=u.showError,f=u.showConfirm,g=(0,a.useState)(!1),m=g[0],y=g[1],v=(0,Z.P5)({controlName:"flag-storage-utilization",logFlagToAnalytics:!1}),w=(0,b.Z)((0,T.iE)({onError:function(e){return h(e.message)},onCompleted:function(e){"ManageStorageAddOnOutput"===e.manageStorageAddOn.__typename?(f("Storage add-on removed."),y(!1)):h(e.manageStorageAddOn.message)},refetchQueries:[p.P1]}),2),U=w[0],B=w[1].loading,M=i===x.HP.HackerPro;return(0,l.BX)(d.G,{css:I.self,children:[(0,l.tZ)(k.Z,(0,o.Z)((0,n.Z)({},(0,G.Ru)(t)),{text:"Manage Repls"})),(0,l.BX)(d.G,{css:I.quotaBreakdownAndActions,children:[(0,l.tZ)(X,{userSubscriptionType:i}),c?(0,l.tZ)(X,{sku:c,onRequestDelete:function(){return y(!0)}}):null,v?(0,l.tZ)(S.U,{isPro:M,setShowUpgradeModal:r}):null]}),c?(0,l.tZ)(A.u,{centered:!0,isOpen:m,onRequestClose:function(){return y(!1)},children:(0,l.BX)(d.G,{css:I.deleteModal,children:[(0,l.BX)(s.xv,{variant:"headerDefault",children:["Remove ",_.zd[c],"GiB additional storage?"]}),(0,l.tZ)(d.G,{css:I.deleteModalContent,children:(0,l.BX)(s.xv,{children:["This additional storage costs ",(0,_.d_)(c)," ","Cycles (",(0,H.b)(c),") per month."]})}),(0,l.BX)(d.G,{css:I.deleteModalActions,children:[(0,l.tZ)(E.zx,{text:"Cancel"}),(0,l.tZ)(E.zx,{loading:B,disabled:B,colorway:"primary",text:"Yes, remove storage",iconLeft:(0,l.tZ)(N.Z,{}),onClick:function(){U({variables:{input:{setting:x.F$.Off}}})}})]})]})}):null]})},z=(0,i.X)({self:[c.l0.colWithGap(12),c.l0.flex.growAndShrink(1)],loadingWrapper:[c.l0.center],errorMessage:[c.l0.width("100%"),c.l0.center,{alignSelf:"center",justifySelf:"center"}],header:[c.l0.rowWithGap(16),c.l0.align.center,c.l0.justify.spaceBetween],footerActions:[c.l0.rowWithGap(8),c.l0.justify.spaceBetween,c.l0.align.center]}),D=function(e){var t,r=e.context,i=e.title,c=void 0===i?"Storage":i,b=(0,a.useState)(!1),x=b[0],G=b[1],k=(0,p.Pf)({fetchPolicy:"network-only",ssr:!1,notifyOnNetworkStatusChange:!0}),S=k.data,_=k.loading,U=k.refetch,B=(0,Z.P5)({controlName:"flag-dirigible-windmill",type:"boolean",logFlagToAnalytics:!1}),M=(0,Z.P5)({controlName:"flag-buzzing-astrophage",type:"boolean",logFlagToAnalytics:!1});if(_&&!S)return(0,l.tZ)(u.Tg,{css:z.self,children:(0,l.tZ)(d.G,{css:z.loadingWrapper,children:(0,l.tZ)(g.Z,{})})});if(S&&"CurrentUser"===(null===(t=S.currentUser)||void 0===t?void 0:t.__typename)&&"StorageQuota"===S.currentUser.storageInfo.storageQuota.__typename&&"StorageGracePeriodQuota"===S.currentUser.storageInfo.storageGracePeriodQuota.__typename&&"AccountStorageUtilization"===S.currentUser.storageInfo.accountStorageUtilization.__typename&&"UserPowerUpsTypes"===S.currentUser.userPowerUpsByType.__typename){var P,C,X=S.currentUser.storageInfo,R=X.accountStorageUtilization,T=X.storageQuota.quota,W=X.storageGracePeriodQuota.quota,A=R.total,E="".concat((0,h.fZ)(Number(A),{forceGib:!0,precision:1})),N="0"===T?E:"".concat(E," / ").concat((0,h.fZ)(Number(T),{forceGib:!0,precision:1})),H=null!==(P=S.currentUser.userSubscriptionType)&&void 0!==P?P:void 0,I=null!==(C=S.currentUser.userPowerUpsByType.storage.currentSku)&&void 0!==C?C:void 0,D=S.currentUser.username,F="0"!==W,j=Number(A)>=Number(T),V=F&&j&&B;return(0,l.BX)(u.Tg,{css:z.self,children:[(0,l.BX)(d.G,{css:z.header,children:[(0,l.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:c}),(0,l.tZ)(s.xv,{color:"dimmer",multiline:!1,children:N})]}),(0,l.tZ)(f.$,{context:{type:r},summary:(0,m._)((0,o.Z)((0,n.Z)({},R),{quota:T})),username:D}),V?(0,l.tZ)(v.M,{}):null,(0,l.tZ)(q,{username:D,setShowUpgradeModal:G,userSubscriptionType:H,currentSku:I}),M?(0,l.tZ)(w.Z,{isOpen:x,context:r,powerUp:"storage",uponPurchaseGoTo:"account",onRequestClose:function(){U(),G(!1)}}):(0,l.tZ)(y.Z,{isOpen:x,initialTab:"plans",context:r,uponPurchaseGoTo:"account",onPlanCheckoutComplete:function(){U(),G(!1)},onRequestClose:function(){G(!1)}})]})}return(0,l.BX)(d.G,{css:z.self,children:[(0,l.tZ)(O,{total:"0"}),(0,l.tZ)(d.G,{css:z.errorMessage,children:(0,l.tZ)(s.xv,{color:"dimmest",multiline:!1,children:"We had trouble loading your storage information. Please try again later."})})]})},O=function(e){var t=e.total;return(0,l.BX)(d.G,{css:z.header,children:[(0,l.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Storage"}),(0,l.tZ)(s.xv,{color:"dimmer",multiline:!1,children:(0,h.fZ)(Number(t),{forceGib:!0})})]})}},16750:function(e,t,r){r.d(t,{M:function(){return i}});var n=r(74985),o=r(76735),l=r(25198),a=r(85368).K.a,i=function(){return(0,n.tZ)(a,{href:"https://docs.replit.com/programming-ide/workspace-features/expandable-storage",target:"_blank",children:(0,n.tZ)(l.E,{colorway:"orange",icon:(0,n.tZ)(o.Z,{}),text:"You're over the storage limit for your plan. Don't worry, you have a grace period to upgrade your quota or clear space before the limits affect you. Click to learn more."})})}},20952:function(e,t,r){r.d(t,{U:function(){return l}});var n=r(74985),o=r(45510),l=function(e){var t=e.isPro,r=e.setShowUpgradeModal;return(0,n.tZ)(o.zx,{colorway:"primary",text:t?"Change Storage":"Upgrade Storage",onClick:function(){return r(!0)}})}},52230:function(e,t,r){r.d(t,{s:function(){return o}});var n=r(51631),o=function(e){switch(e){case n.HP.HackerPro:return"Pro plan";case n.HP.Hacker:return"Hacker plan";default:return"Free plan"}}}}]);
//# sourceMappingURL=4421-c7014ec7c0a10b7d.js.map