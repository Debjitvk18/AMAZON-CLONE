"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2005],{85577:function(e,n,t){function r(e,n){var t=Math.max(n.line+1,1),r=e.line(Math.min(t,e.lines));if(t>e.lines)return r.to;var i=r.from+n.character;return Math.min(i,r.to)}function i(e,n){var t=e.lineAt(n);return{line:t.number-1,character:n-t.from}}t.d(n,{R:function(){return r},s:function(){return i}})},67541:function(e,n,t){var r=t(57135),i=t(96583),o=t(24824);n.Z=function(){var e=(0,r.Z)((function(e,n){var t,r,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e?(t=e.user,[3,4]):[3,1];case 1:return(r=n.getState().user)&&r.userInfo.isLoggedIn&&r.userInfo?(t=r.userInfo,[3,4]):[3,2];case 2:return[4,(0,o.LK)("/is_authenticated")];case 3:(a=i.sent()).success&&(t=a.user),i.label=4;case 4:return t&&(e&&(t=JSON.parse(JSON.stringify(t))),n.dispatch({type:"FETCH_USER_INFO_SUCCESS",user:t})),[2,{user:t}]}}))}));return function(n,t){return e.apply(this,arguments)}}()},51449:function(e,n,t){t.d(n,{Z:function(){return Kt}});var r,i=t(57135),o=t(72006),a=t(96583),u=t(87861),s=t(22946);!function(e){e.USER_JOIN="USER_JOIN",e.USER_LEAVE="USER_LEAVE",e.USERS_UPDATE="USERS_UPDATE",e.USER_OPENED_FILE="USER_OPENED_FILE",e.FOLLOWED_USER_CHANGED="FOLLOWED_USER_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED"}(r||(r={}));var c=t(9970),l=t(77970),f=t(50255);var d=t(27327),p=t(87978),h=t(81202),m=t.n(h);function v(e){var n=e.container,t=e.onCommand,o=function(e){m()(h,e)||(h=e,u.emit(r.FOLLOWED_USER_CHANGED,e))},u=(0,d.ZP)();u.setMaxListeners(1/0);var s=[],h=null,v=[],E={},g=null;function y(){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){return g?[2,g]:[2,new Promise((function(e){u.once(r.USERS_UPDATE,(function(){if(!g)throw new Error("Expected presenceChannel to be set");e(g)}))}))]}))}))).apply(this,arguments)}function b(){return(b=(0,i.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:if((null===h||void 0===h?void 0:h.username)===e)throw new Error("Already following user with username ".concat(e));return h?[4,_()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,y()];case 3:return n=r.sent(),(t=s.find((function(n){return n.username===e})))?(o(t),t.sessions.forEach((function(e){n.send({followUser:{session:e.id}})})),[2]):[2]}}))}))).apply(this,arguments)}function _(){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)((function(){var e,n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:if(!h)throw new Error("No user to unfollow");return e=h,o(null),[4,y()];case 1:return n=t.sent(),e.sessions.forEach((function(e){n.send({unfollowUser:{session:e.id}})})),[2]}}))}))).apply(this,arguments)}return n.openChannel({service:"presence",name:"presencer"},(function(e){var n=e.channel;return n.onCommand((function(e){null===t||void 0===t||t(e);var n={cmd:e,emitter:u,activeUsers:s,userIdToFile:E,followedUser:h,setFollowedUser:o,followingUsers:v};switch(e.body){case"roster":!function(e){var n=e.cmd,t=e.emitter,i=e.activeUsers,o=e.userIdToFile,a=e.followedUser,u=e.followingUsers,s=e.setFollowedUser,l=n.roster;if(l){var d=l.user,p=l.files;if(d&&p){var h=new Set;if(i.splice(0,i.length),d.forEach((function(e){if(e.id&&e.name&&e.roles&&!h.has(e.id)){var n=p.filter((function(n){return n.userId===e.id})).map((function(e){if(!e.session||!e.timestamp)throw new Error("Expected session and associated with user");return{id:e.session,activeFile:e.file||null,timestamp:(0,f.gs)(e.timestamp)}}));i.push({id:e.id,username:e.name,roles:e.roles,color:(0,f.i7)(i),sessions:n}),h.add(e.id)}})),i.forEach((function(e){o[e.id]=(0,f.f0)(e)})),t.emit(r.USERS_UPDATE,(0,c.Z)(i)),u.filter((function(e){return!i.some((function(n){return n.id===e.id}))})).forEach((function(e){var n=u.indexOf(e);-1!==n&&(u.splice(n,1),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,c.Z)(u),user:e,type:"unfollow"}))})),a)if(i.some((function(e){return e.id===a.id}))){var m=o[a.id];t.emit(r.USER_OPENED_FILE,{user:a,file:m})}else s(null)}}}(n);break;case"join":!function(e){var n=e.cmd,t=e.emitter,i=e.activeUsers,o=e.userIdToFile,a=n.join;if(a.id&&a.name&&a.roles&&a.session){var u=i.find((function(e){return e.id===a.id})),s=Math.floor(Date.now()/1e3),d=l.google.protobuf.Timestamp.create({seconds:s}),p=(0,f.gs)(d);if(u)u.sessions.push({id:a.session,activeFile:null,timestamp:p});else{var h={id:a.id,username:a.name,roles:a.roles,color:(0,f.i7)(i),sessions:[{id:a.session,activeFile:null,timestamp:p}]};o[a.id]=null,i.push(h),t.emit(r.USER_JOIN,h),t.emit(r.USERS_UPDATE,(0,c.Z)(i))}}}(n);break;case"part":!function(e){var n=e.cmd,t=e.emitter,i=e.activeUsers,o=e.userIdToFile,a=e.followedUser,u=e.followingUsers,s=e.setFollowedUser;if(n.part&&n.part.id&&n.part.session){var l=n.part,d=l.id,p=l.session,h=i.findIndex((function(e){return e.id===d})),m=i[h];if(1===m.sessions.length){i.splice(h,1),delete o[m.id],t.emit(r.USER_LEAVE,m),t.emit(r.USERS_UPDATE,(0,c.Z)(i)),a&&s(null);var v=u.findIndex((function(e){return e.id===m.id}));-1!==v&&(u.splice(v,1),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,c.Z)(u),user:m,type:"unfollow"}))}else{m.sessions=m.sessions.filter((function(e){return e.id!==p}));var E=(0,f.f0)(m);o[m.id]!==E&&(o[m.id]=E,t.emit(r.USER_OPENED_FILE,{user:m,file:E}))}}}(n);break;case"fileOpened":!function(e){var n=e.emitter,t=e.cmd,i=e.activeUsers,o=e.userIdToFile;if(t.fileOpened){var a=t.fileOpened,u=a.userId,s=a.file,c=a.timestamp,l=a.session,d=s||null;if(!u||!c)throw new Error("Expected userId and timestamp associated with file opened command");var p=i.find((function(e){return e.id===u}));if(!p)throw new Error("Expected user with ID ".concat(u));var h=p.sessions.find((function(e){return e.id===l}));if(!h)throw new Error("Expected session with ID ".concat(h));h.activeFile=d,h.timestamp=(0,f.gs)(c),o[u]=d,n.emit(r.USER_OPENED_FILE,{user:p,file:d})}}(n);break;case"followUser":!function(e){var n=e.cmd,t=e.emitter,i=e.activeUsers,o=e.followingUsers,a=n.followUser;if(!a.session)throw new Error("Expected session associated with follow user");var u=a.session,s=(0,f.N5)(u,i);o.some((function(e){return e.id===s.id}))||(o.push(s),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,c.Z)(o),user:s,type:"follow"}))}(n);break;case"unfollowUser":!function(e){var n=e.cmd,t=e.emitter,i=e.activeUsers,o=e.followingUsers,a=n.unfollowUser;if(!a.session)throw new Error("Expected session associated with follow user");var u=a.session,s=(0,f.N5)(u,i),l=o.findIndex((function(e){return e.id===s.id}));-1!==l&&(o.splice(l,1),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:(0,c.Z)(o),user:s,type:"unfollow"}))}(n);break;case"sessionTimestampUpdated":!function(e){var n=e.cmd,t=e.emitter,i=e.activeUsers,o=e.userIdToFile,a=n.sessionTimestampUpdated;if(!a.session||!a.timestamp)throw new Error("Expected session and tiemstamp associated with update");var u=a.session,s=(0,f.N5)(u,i),c=o[s.id],l=s.sessions.find((function(e){return e.id===u}));if(!l)throw new Error("Expected user ".concat(s.id," to have a session with ID ").concat(u));l.timestamp=(0,f.gs)(a.timestamp);var d=l.activeFile;d!==c&&(o[s.id]=d,t.emit(r.USER_OPENED_FILE,{user:s,file:d}))}(n)}})),g=n,function(){g=null}})),{onUserLeave:function(e){return u.on(r.USER_LEAVE,e),function(){u.removeListener(r.USER_LEAVE,e)}},onUserJoin:function(e){return u.on(r.USER_JOIN,e),function(){u.removeListener(r.USER_LEAVE,e)}},onActiveUsersChange:function(e){return u.on(r.USERS_UPDATE,e),function(){u.removeListener(r.USERS_UPDATE,e)}},onUserOpenedFile:function(e){return u.on(r.USER_OPENED_FILE,e),function(){u.removeListener(r.USER_OPENED_FILE,e)}},onFollowedUserChanged:function(e){return u.on(r.FOLLOWED_USER_CHANGED,e),function(){u.removeListener(r.FOLLOWED_USER_CHANGED,e)}},onFollowingUsersChanged:function(e){return u.on(r.FOLLOWING_USERS_CHANGED,e),function(){u.removeListener(r.FOLLOWING_USERS_CHANGED,e)}},getActiveFileForUser:function(e){var n=E[e];if("undefined"===typeof n)throw new Error("Expected file for user with ID ".concat(e," to be defined"));return n},updateOpenFile:function(e){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,y()];case 1:return n.sent().send({openFile:{file:e}}),[2]}}))}))()},updateSessionTimestamp:function(){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,y()];case 1:return e.sent().send({updateSessionTimestamp:{}}),[2]}}))}))()},followUser:function(e){return b.apply(this,arguments)},unfollowUser:_,getActiveUsers:function(){return s},getFollowedUser:function(){return h},getFollowingUsers:function(){return v},getUserIdToFile:function(){return E},getPathToUserIds:function(){var e=new Map;function n(t,r){var i;if(""!==t){e.has(t)||e.set(t,[]);var o=e.get(t);if(!o)throw new Error("Expected user Ids");o.some((function(e){return e===r}))||(null===(i=e.get(t))||void 0===i||i.push(r),n((0,p.Il)(t),r))}}return s.forEach((function(e){var t=e.id,r=E[t];r&&n(r,t)})),e}}}var E,g=t(4405);!function(e){e.DEEPLINK_CHANGED="DEEPLINK_CHANGED",e.SESSION_STATE_CHANGED="SESSION_STATE_CHANGED"}(E||(E={}));var y=t(89334),w=t(20593),b=t(46335),_=t(88254),I=t(32902);var S,R=t(2272);!function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED"}(S||(S={}));var T=t(35981),N=t(81962),A=t(59165),x=t(66091),D=t(29457),C=t(1468),O="{".charCodeAt(0),L="}".charCodeAt(0),P="[".charCodeAt(0),k="]".charCodeAt(0),F='"'.charCodeAt(0),H="\\".charCodeAt(0);var Z=new TextEncoder,G=new TextDecoder,U="\r".charCodeAt(0),M="\n".charCodeAt(0);var q=function(){var e=/[a-z\d_-]+: [a-z\d_ :;.,/"'?!(){}[\]@<>=+*#$&`|~^%-]+/.source;return RegExp("(".concat(e,"\\r\\n)*(").concat(e,")$"),"i")}();function B(e,n,t){var r=G.decode(e.slice(0,n));try{return{json:JSON.parse(r),buffer:e.slice(n)}}catch(u){if((0,N.Z)(u,SyntaxError)&&"Unexpected end of JSON input"===u.message){D.kg.info("Failed to parse LSP message, falling back to json parsing",{buffer:e.toString(),length:n,msg:r,attempt:"original-length",headers:JSON.stringify(t)});var i=function(e,n){for(var t=0,r=0,i=!1,o=n;o<e.length+1;o++){if(o!==n&&!t&&!r&&!i)return o;var a=e[o];switch(a){case H:o++;continue;case F:i=!i;continue}if(!i)switch(a){case O:t++;break;case L:t--;break;case P:r++;break;case k:r--}}return-1}(e,0);if(-1!==i){var o=e.slice(0,i),a=G.decode(o);try{return{json:JSON.parse(a),buffer:e.slice(i)}}catch(s){D.kg.error("Failed to parse LSP message",{givenError:s,buffer:e.toString(),length:n,msg:r,attempt:"recomputed-length"})}}}else D.kg.error("Failed to parse LSP message",{givenError:u,buffer:e.toString(),length:n,msg:r,attempt:"content-length"});return{json:void 0,buffer:e.slice(n)}}}var j=function(){function e(n){(0,x.Z)(this,e),this.onMessage=n,this.buffer=new Uint8Array,this.read=this.read.bind(this)}var n=e.prototype;return n.consumeHeaders=function(){var e=function(e){var n=e.findIndex((function(n,t){return n===U&&e[t+1]===M&&e[t+2]===U&&e[t+3]===M}));if(-1!==n){var t=G.decode(e.slice(0,n)),r=t.match(q);if(!r)throw D.kg.error("Failed to parse LSP header, no matches",{fragment:t}),new Error("Unable to match header, text: ".concat(t));var i=Object.create(null),o=r[0].split("\r\n"),a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value,d=f.indexOf(":");if(-1===d)throw D.kg.error("Failed to parse LSP header, missing colon",{fragment:t}),new Error('Message header must separate key and value using ":"');var p=f.substr(0,d),h=f.substr(d+1).trim();if("Content-Length"===p){var m=parseInt(h,10);if(isNaN(m))throw D.kg.error("Failed to parse LSP header, NaN content length",{fragment:t}),new Error("Content-Length value must be a number.");i[p]=parseInt(h,10)}else i[p]=h}}catch(v){u=!0,s=v}finally{try{a||null==l.return||l.return()}finally{if(u)throw s}}if(null==i["Content-Length"])throw D.kg.error("Failed to parse LSP header, no Content-Length",{fragment:t}),new Error("Header must provide a Content-Length property.");return{headerLength:n,value:i}}}(this.buffer);if(e)return this.buffer=this.buffer.slice(e.headerLength+4),e},n.read=function(e){var n;for(this.buffer=function(e,n){var t=new Uint8Array(e.length+n.length);return t.set(e),t.set(n,e.length),t}(this.buffer,Z.encode(e));null!==(n=this.headers)&&void 0!==n?n:this.headers=this.consumeHeaders();){var t=this.headers.value["Content-Length"];if(this.buffer.length<t)return;var r=B(this.buffer,t,this.headers),i=r.json,o=r.buffer;if(this.headers=void 0,this.buffer=o,void 0!==i)try{this.onMessage(i)}catch(a){C.c_.captureException(a)}}},e}();function V(e,n){var t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:if(e.length!==n.length)return[2];t=0,r.label=1;case 1:return t<e.length?[4,[e[t],n[t]]]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}var K=t(91620).lW;function W(e){var n,t=e.channel,r=e.beforeRun,u=function(){f.current="terminated",p.current=[],h.current=[],v.current=null,y.handleDebugSessionEnded(),w.current=!1},s=function(e){return E.on("started",e),function(){E.removeListener("started",e)}},f=(0,T.u)("terminated"),p=(0,T.u)([]),h=(0,T.u)([]),m=(0,T.u)(new Map),v=(0,T.u)(null),E=(0,d.ZP)(),y=function(e,n){var t=function(){var e=new Map,n=new Set,t=!0,i=!1,o=void 0;try{for(var a,c=r.entries()[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var l=(0,R.Z)(a.value,2),f=l[0],d=l[1];if(0!==d.length){var p=[],h=!0,m=!1,v=void 0;try{for(var E,g=d[Symbol.iterator]();!(h=(E=g.next()).done);h=!0){var y=E.value;if(y.breakpointId&&y.line){var w=s.get(y.breakpointId),b=void 0===w?void 0:u.get(w);b&&n.add(w),p.push({dapId:w,pid1Id:y.breakpointId,line:b&&b.line||y.line,verified:Boolean(null===b||void 0===b?void 0:b.verified),logMessage:y.logMessage||void 0})}}}catch(j){m=!0,v=j}finally{try{h||null==g.return||g.return()}finally{if(m)throw v}}e.set(f,p)}}}catch(j){i=!0,o=j}finally{try{t||null==c.return||c.return()}finally{if(i)throw o}}var _=!0,I=!1,S=void 0;try{for(var T,N=u.entries()[Symbol.iterator]();!(_=(T=N.next()).done);_=!0){var x,D,C=(0,R.Z)(T.value,2),O=C[0],L=C[1];if(!n.has(O)){var P=(0,A.IT)((null===(x=L.source)||void 0===x?void 0:x.path)||(null===(D=L.source)||void 0===D?void 0:D.name)||""),k=L.line;if(P&&k){var F=e.get(P);F||(F=[],e.set(P,F));var H=!1,Z=!0,G=!1,U=void 0;try{for(var M,q=F[Symbol.iterator]();!(Z=(M=q.next()).done);Z=!0){var B=M.value;if(B.line===L.line){B.dapId=O,B.verified=L.verified,H=!0;break}}}catch(j){G=!0,U=j}finally{try{Z||null==q.return||q.return()}finally{if(G)throw U}}H||F.push({dapId:O,line:k,verified:L.verified})}}}}catch(j){I=!0,S=j}finally{try{_||null==N.return||N.return()}finally{if(I)throw S}}return e},r=new Map,u=new Map,s=new Map;function c(){return(c=(0,i.Z)((function(n){var t,i,c,l,f,d,p;return(0,a.__generator)(this,(function(h){switch(h.label){case 0:t=!0,i=!1,c=void 0,h.label=1;case 1:h.trys.push([1,6,7,8]),l=function(){var t,r,i,c,l,f,h,m,v,E,g,y,w,b,_,I,S,T,N,A,x,D,C,O,L,P,k,F,H,Z,G,U,M,q,B;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=(0,R.Z)(d.value,2),r=t[0],i=t[1],void 0!==n&&n!==r?[2,"continue"]:[4,e({command:"setBreakpoints",arguments:{source:{name:r,path:r},breakpoints:i.map((function(e){return{line:e.line,logMessage:e.logMessage||void 0}}))}})];case 1:if(!(c=a.sent()).success)return[2,"continue"];l=!0,f=!1,h=void 0;try{for(m=u[Symbol.iterator]();!(l=(v=m.next()).done);l=!0){E=(0,R.Z)(v.value,2),g=E[0],y=E[1],(null===(w=y.source)||void 0===w?void 0:w.name)===r&&u.delete(g),b=!0,_=!1,I=void 0;try{for(S=s[Symbol.iterator]();!(b=(T=S.next()).done);b=!0)N=(0,R.Z)(T.value,2),A=N[0],N[1]===g&&s.delete(A)}catch(p){_=!0,I=p}finally{try{b||null==S.return||S.return()}finally{if(_)throw I}}}}catch(p){f=!0,h=p}finally{try{l||null==m.return||m.return()}finally{if(f)throw h}}x=c,D=!0,C=!1,O=void 0;try{for(L=x.body.breakpoints[Symbol.iterator]();!(D=(P=L.next()).done);D=!0)null!=(k=P.value).id&&u.set(k.id,(0,o.Z)({source:{name:r,path:r}},k))}catch(p){C=!0,O=p}finally{try{D||null==L.return||L.return()}finally{if(C)throw O}}F=!0,H=!1,Z=void 0;try{for(G=V(i,x.body.breakpoints)[Symbol.iterator]();!(F=(U=G.next()).done);F=!0)M=(0,R.Z)(U.value,2),q=M[0],B=M[1],q.breakpointId&&null!=B.id&&s.set(q.breakpointId,B.id)}catch(p){H=!0,Z=p}finally{try{F||null==G.return||G.return()}finally{if(H)throw Z}}return[2]}}))},f=r.entries()[Symbol.iterator](),h.label=2;case 2:return(t=(d=f.next()).done)?[3,5]:[5,(0,a.__values)(l())];case 3:h.sent(),h.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return p=h.sent(),i=!0,c=p,[3,8];case 7:try{t||null==f.return||f.return()}finally{if(i)throw c}return[7];case 8:return[2]}}))}))).apply(this,arguments)}return{findPathByBreakpointId:function(e){var n=!0,t=!1,i=void 0;try{for(var o,a=r.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=(0,R.Z)(o.value,2),s=u[0];if(u[1].some((function(n){return n.breakpointId===e})))return s}}catch(c){t=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(t)throw i}}return null},getBreakpoints:t,flush:function(e){return c.apply(this,arguments)},handleDAPBreakpointEvent:function(e){var r=e.body,i=r.reason,a=r.breakpoint,s=a.id;if(null!==s&&void 0!==s){switch(i){case"changed":case"new":u.set(s,(0,o.Z)({},u.get(s),a));break;case"removed":u.delete(s);break;default:return}n(t())}},handlePID1BreakpointEvent:function(e){var i=e.absolutePath?(0,A.IT)(e.absolutePath):null;i&&(r.set(i,e.breakpoints||[]),n(t()))},handleDebugSessionEnded:function(){u.clear(),s.clear();var e=!0,i=!1,o=void 0;try{for(var a,c=r.entries()[Symbol.iterator]();!(e=(a=c.next()).done);e=!0){var l=(0,R.Z)(a.value,2),f=l[0];0===l[1].length&&r.delete(f)}}catch(d){i=!0,o=d}finally{try{e||null==c.return||c.return()}finally{if(i)throw o}}n(t())}}}(D,(function(e){m.current=e})),w=(0,T.u)(!1),b=[],_=new j((function(e){if(b.push({time:Date.now(),direction:"in",data:e}),"event"===e.type)switch(e.event){case"continued":f.current="running";break;case"stopped":var n;f.current="paused",v.current=null!==(n=e.body.threadId)&&void 0!==n?n:null,E.emit("paused",e.body.reason),function(){P.apply(this,arguments)}();break;case"breakpoint":y.handleDAPBreakpointEvent(e)}else if("response"===e.type){var t=e,r=I.get(t.request_seq);r&&(I.delete(t.request_seq),r(e))}})),I=new Map,S=100,x=!1;function D(e){return C.apply(this,arguments)}function C(){return(C=(0,i.Z)((function(e){return(0,a.__generator)(this,(function(n){return[2,new Promise((function(n){var r=S++;I.set(r,n);var i=(0,g.Z)((0,o.Z)({},e),{type:"request",seq:r});b.push({time:Date.now(),direction:"out",data:i});var a={debugInput:{session:"main",adapterInput:J(i)}};b.push({time:Date.now(),direction:"out",data:a}),t.send(a)}))]}))}))).apply(this,arguments)}function O(e){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return b.push({time:Date.now(),direction:"out",data:e}),[4,t.request(e)];case 1:if(n=r.sent(),b.push({time:Date.now(),direction:"in",data:n}),n.error)throw n.error;return[2,n]}}))}))).apply(this,arguments)}function P(){return P=(0,i.Z)((function(){var e,n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return p.current=[],h.current=[],[4,D({command:"stackTrace",arguments:{threadId:v.current}})];case 1:return(e=r.sent()).success?(p.current=e.body.stackFrames,0===p.current.length?[2]:[4,D({command:"scopes",arguments:{frameId:p.current[0].id}})]):[2];case 2:return(n=r.sent()).success?[4,Promise.all(n.body.scopes.map((function(e){return D({command:"variables",arguments:{variablesReference:e.variablesReference}}).then((function(n){return{response:n,parentVariableReference:e.variablesReference}}))})))]:[2];case 3:return t=r.sent(),h.current=t.filter((function(e){return e.response.success})).reduce((function(e,n){var t=n.response,r=n.parentVariableReference;return e.concat(t.body.variables.map((function(e){return(0,g.Z)((0,o.Z)({},e),{parentVariableReference:r})})))}),[]),[2]}}))})),P.apply(this,arguments)}function k(e){return F.apply(this,arguments)}function F(){return F=(0,i.Z)((function(e){var n,i,o,u,s,c,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if("terminated"!==f.current)throw new Error("Cant start while debugger is already running");return f.current="preinitializing",p.current=[],[4,r()];case 1:return a.sent(),"stopping"===f.current?(f.current="terminated",[2]):(x=!0,f.current="initializing",o={session:"main",readOnly:!1},e&&(o.debuggerId=e.debuggerOption.id,e.filePath&&(o.filePath=e.filePath)),u={debugMain:o},b.push({time:Date.now(),direction:"out",data:u}),[4,t.request(u)]);case 2:return s=a.sent(),b.push({time:Date.now(),direction:"in",data:s}),s.error?(E.emit("output",s.error),f.current="terminated",[2]):[4,D({command:"initialize",arguments:{clientID:"replit",clientName:"replit.com",adapterID:"cppdbg",pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsEvaluateForHovers:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!1,locale:"en-us",supportsProgressReporting:!0,supportsInvalidatedEvent:!0}})];case 3:return(c=a.sent()).success?(w.current=Boolean(null===(n=c.body)||void 0===n?void 0:n.supportsStepBack),l=!(null===(i=c.body)||void 0===i?void 0:i.supportsConfigurationDoneRequest),[4,y.flush()]):(f.current="terminated",[2]);case 4:return a.sent(),l?[3,6]:[4,D({command:"configurationDone"})];case 5:a.sent(),a.label=6;case 6:return"initializing"===f.current&&(f.current="running"),E.emit("started",l),[2]}}))})),F.apply(this,arguments)}function H(e,n){return Z.apply(this,arguments)}function Z(){return Z=(0,i.Z)((function(e,n){var t,r,i,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=n.line,r=n.otIndex,i=n.otVersion,o=n.logMessage,[4,O({debugAddBreakpointRequest:{path:(0,A.om)(e)||e,line:t,otIndex:r,otVersion:i,logMessage:o}})];case 1:return a.sent(),"terminated"===f.current?[3,3]:[4,y.flush(e)];case 2:a.sent(),a.label=3;case 3:return E.emit("breakpoint","added"),[2]}}))})),Z.apply(this,arguments)}function G(e){return U.apply(this,arguments)}function U(){return(U=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return n=y.findPathByBreakpointId(e),[4,O({debugRemoveBreakpointRequest:{breakpointId:e}})];case 1:return t.sent(),"terminated"!==f.current&&n?[4,y.flush(n)]:[3,3];case 2:t.sent(),t.label=3;case 3:return E.emit("breakpoint","removed"),[2]}}))}))).apply(this,arguments)}function M(){return(M=(0,i.Z)((function(e,n){var t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return(t=y.findPathByBreakpointId(e))?[4,O({debugUpdateBreakpointRequest:{breakpointId:e,logMessage:n.logMessage}})]:[2];case 1:return r.sent(),"terminated"===f.current?[3,3]:[4,y.flush(t)];case 2:r.sent(),r.label=3;case 3:return E.emit("breakpoint","updated"),[2]}}))}))).apply(this,arguments)}function q(){return q=(0,i.Z)((function(e,n){var t,r,i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return(i=null===(r=null===(t=m.current.get(e))||void 0===t?void 0:t.find((function(e){return e.line===n.line&&void 0!==e.pid1Id})))||void 0===r?void 0:r.pid1Id)?[4,G(i)]:[3,2];case 1:return o.sent(),[3,4];case 2:return[4,H(e,n)];case 3:o.sent(),o.label=4;case 4:return[2]}}))})),q.apply(this,arguments)}return t.onCommand((function(e){var n,t;b.push({time:Date.now(),direction:"in",data:e});var r=e.debugOutput,i=e.debugState,o=e.debugBreakpointEvent,a=e.debugSessions;if(r){if("main"!==r.session)return;r.adapterOutput&&_.read(r.adapterOutput),r.output&&E.emit("output",r.output)}if(o&&y.handlePID1BreakpointEvent(o),i&&i.state===l.api.State.Stopped&&u(),(null===a||void 0===a||null===(n=a.sessions)||void 0===n?void 0:n.main)!==l.api.State.Running&&(null===i||void 0===i?void 0:i.state)!==l.api.State.Running||"terminated"===f.current&&k(),(null===a||void 0===a||null===(t=a.sessions)||void 0===t?void 0:t.main)===l.api.State.Stopped||(null===i||void 0===i?void 0:i.state)===l.api.State.Stopped){if(x)return void(x=!1);u()}})),{state:f,stackFrames:p,variables:h,breakpoints:m,supportsStepBack:w,onOutput:function(e){return E.on("output",e),function(){E.removeListener("output",e)}},onStarted:s,onPaused:function(e){return E.on("paused",e),function(){E.removeListener("paused",e)}},onBreakpoint:function(e){return E.on("breakpoint",e),function(){E.removeListener("breakpoint",e)}},sendInput:function(e){return(0,i.Z)((function(){var n,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return n={debugInput:{session:"main",input:e}},b.push({time:Date.now(),direction:"out",data:n}),[4,t.request(n)];case 1:if(r=i.sent(),b.push({time:Date.now(),direction:"in",data:r}),r.error)throw r.error;return[2]}}))}))()},fetchVariables:function(e){return(0,i.Z)((function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,D({command:"variables",arguments:{variablesReference:e}})];case 1:if((n=t.sent()).success)return[2,n.body.variables.map((function(n){return(0,g.Z)((0,o.Z)({},n),{parentVariableReference:e})}))];throw new Error(n.message)}}))}))()},evaluate:function(e){var t=e.frameId,r=void 0===t?null===(n=p.current[0])||void 0===n?void 0:n.id:t,o=e.expression,u=e.context;return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,D({command:"evaluate",arguments:{frameId:r,expression:o,context:u}})];case 1:return[2,e.sent()]}}))}))()},addBreakpoint:H,removeBreakpoint:G,updateBreakpoint:function(e,n){return M.apply(this,arguments)},toggleBreakpoint:function(e,n){return q.apply(this,arguments)},start:k,continue:function(){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return p.current=[],f.current="running",[4,D({command:"continue",arguments:{threadId:v.current}})];case 1:return e.sent(),[2]}}))}))()},reverseContinue:function(){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return p.current=[],f.current="running",[4,D({command:"reverseContinue",arguments:{threadId:v.current}})];case 1:return e.sent(),[2]}}))}))()},back:function(){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return f.current="running",[4,D({command:"stepBack",arguments:{threadId:v.current}})];case 1:return e.sent(),[2]}}))}))()},next:function(){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return f.current="running",[4,D({command:"stepIn",arguments:{threadId:v.current}})];case 1:return e.sent(),[2]}}))}))()},skip:function(){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return f.current="running",[4,D({command:"next",arguments:{threadId:v.current,granularity:"line"}})];case 1:return e.sent(),[2]}}))}))()},stepOut:function(){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return f.current="running",[4,D({command:"stepOut",arguments:{threadId:v.current}})];case 1:return e.sent(),[2]}}))}))()},stop:function(){return(0,i.Z)((function(){var e,n,r,i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:if("terminated"===f.current)throw new Error("Debugger already terminated");return e=f.current,f.current="stopping","preinitializing"===e?[2]:"initializing"!==e?[3,2]:(n=[],[4,Promise.race([new Promise((function(e){n.push(f.subscribe((function(){return e()})))})),new Promise((function(e){n.push(s((function(){return e()})))}))])]);case 1:if(o.sent(),n.forEach((function(e){return e()})),"terminated"===f.current)return[2];o.label=2;case 2:return r={debugStop:{session:"main"}},b.push({time:Date.now(),direction:"out",data:r}),[4,t.request(r)];case 3:if(i=o.sent(),b.push({time:Date.now(),direction:"in",data:i}),i.error)throw new Error("Failed to stop debugger "+i.error);return[2]}}))}))()},getSource:function(e){return(0,i.Z)((function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,D({command:"source",arguments:{source:{path:e}}})];case 1:if(!(n=t.sent()).success)throw new Error(n.message);return[2,n.body.content]}}))}))()},getDebugLogs:function(){return Object.entries({state:f,stackFrames:p,variables:h,breakpoints:m,threadId:v}).map((function(e){var n=(0,R.Z)(e,2),t=n[0],r=n[1];return"".concat(t," = ").concat(JSON.stringify((0,N.Z)(r.current,Map)?(0,c.Z)(r.current):r.current,void 0,2))})).join("\n")+"\n\n"+b.map((function(e){return[new Date(e.time).toLocaleString(),"in"===e.direction?"->":"<-",JSON.stringify(e.data)].join(" ")})).join("\n")}}}function J(e){var n=JSON.stringify(e);return"Content-Length: ".concat(K.byteLength(n),"\r\n\r\n").concat(n)}var z=t(10702),Y=t(12379),$=t(43119),X=t(71440);function Q(){var e=(0,$.Z)(["\n  query GitHubAuth {\n    currentUser {\n      id\n      gitHubInfo {\n        accessToken\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var ee,ne=(0,X.Ps)(Q());function te(){return re.apply(this,arguments)}function re(){return(re=(0,i.Z)((function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:if(!Y.l)throw new Error("Expected apollo");return[4,Y.l.query({query:ne})];case 1:if(!(null===(e=n.sent().data)||void 0===e?void 0:e.currentUser))throw new Error("Expected current user");return[2,e.currentUser]}}))}))).apply(this,arguments)}function ie(){(0,N.Z)(document.activeElement,HTMLElement)&&document.activeElement.blur()}!function(e){e.OUTPUT="OUTPUT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED",e.CHANNEL_OPENED="CHANNEL_OPENED"}(ee||(ee={}));var oe=t(51446);var ae,ue=t(67745),se=t(91926),ce=t(77637),le=t(99127),fe=t(29143),de=function(e){var n=e.configurationSupport;return{textDocument:{synchronization:{dynamicRegistration:!0,didSave:!0},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["markdown","plaintext"]}},publishDiagnostics:{relatedInformation:!0},formatting:{dynamicRegistration:!0},documentSymbol:{dynamicRegistration:!0,hierarchicalDocumentSymbolSupport:!0,symbolKind:{valueSet:fe.Z}},definition:{dynamicRegistration:!0},typeDefinition:{dynamicRegistration:!0},implementation:{dynamicRegistration:!0},references:{dynamicRegistration:!0},rename:{dynamicRegistration:!0,prepareSupport:!0},completion:{dynamicRegistration:!0,completionItem:{documentationFormat:["markdown","plaintext"],snippetSupport:!0}},codeAction:{dynamicRegistration:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:Object.values(le.CodeActionKind)}}},hover:{dynamicRegistration:!0,contentFormat:["markdown","plaintext"]}},workspace:{applyEdit:!0,didChangeConfiguration:n.clientToServer||n.serverToClient?{dynamicRegistration:!0}:void 0,configuration:n.serverToClient,executeCommand:{dynamicRegistration:!0},workspaceEdit:{documentChanges:!0,resourceOperations:[le.ResourceOperationKind.Create,le.ResourceOperationKind.Delete,le.ResourceOperationKind.Rename]}}}},pe=t(35554),he=t.n(pe),me=t(60396),ve=t(91620).lW;function Ee(e,n){return(0,me.D)(e,n)||n}function ge(e,n){return e.line<n.line||e.line===n.line&&e.character<=n.character}function ye(){return Math.floor(Math.random()*(Math.pow(2,31)-1))}function we(e){var n=JSON.stringify((0,g.Z)((0,o.Z)({},e),{jsonrpc:"2.0"})),t=ve.byteLength(n,"utf8");return"Content-Length: ".concat(t,"\r\n\r\n").concat(n)}function be(e){var n=e.connection,t=e.isSupportedFile,r=e.clientId,u=e.getWorkspaceConfiguration,s=e.onWorkspaceConfigurationChange,c=e.applyWorkspaceEdit,l=function(e){if(!R)throw new Error("Expected rootUri");var n=e.slice(R.length+1);try{return decodeURIComponent(n)}catch(t){throw C.c_.withScope((function(e){e.setExtra("fragment_to_decode",n),C.c_.captureException(t)})),t}},f=function(e){if(!R)throw new Error("Expected rootUri");if(e.startsWith("/"))throw new Error("Path must be relative. Got: ".concat(e));return R+"/"+e},p=function(e){T!==e&&(T!==ue.a.INITIALIZED&&h(ue.N.NOT_READY),T=e,I.emit(ae.SERVER_STATE_CHANGE,T))},h=function(e){N!==e&&(N=e,I.emit(ae.SERVER_HEALTH_CHANGE,N))},v=function(e){I.emit(ae.SEND_NOTIFICATION,e),n.write(we(e))},E=function(e){var t=e.options,r=void 0===t?{}:t,i=r.id,a=void 0===i?ye():i,u=r.signal,s=r.tap,c=(0,ce.Z)(e,["options"]);if(!Number.isInteger(a))throw new Error("Request ID must be an integer");if(n.didClose())return Promise.resolve({result:null,cancelled:!0});I.emit(ae.REQUEST,{id:a,data:c}),null===u||void 0===u||u.addEventListener("abort",(function(){w(a)}),{once:!0}),n.write(we((0,g.Z)((0,o.Z)({},c),{id:a}))),null===P&&(P=setTimeout((function(){h(ue.N.STALLED)}),3e4));var l=new Promise((function(e){L.set(a,e)}));return s&&s(l),l.then((function(e){return null!==P&&(clearTimeout(P),P=null),T!==ue.a.INITIALIZED||e.cancelled||h(ue.N.READY),e}))},y=function(e,t){n.write(we((0,g.Z)((0,o.Z)({},t),{id:e})))},w=function(e){var n=L.get(e);n&&(I.emit(ae.CANCEL_REQUEST,e),n({result:null,cancelled:!0}),L.delete(e),v({method:"$/cancelRequest",params:{id:e}}))},b=function(e){if(!A)throw new Error("Expected client to be initialized");if(!A[e])throw new Error("LSP Server does not support ".concat(e.replace(/Provider$/,"")));return A[e]},_=function(e){return R&&e?e.filter((function(e){return!!e.uri&&e.uri.startsWith(R)})):e},I=(0,d.ZP)();I.setMaxListeners(1/0);var S,R=null,T=ue.a.OFFLINE,N=ue.N.NOT_READY,A=null,x=!1,O=new Map,L=new Map,P=null,k=new j((function(e){if(e.id&&L.has(e.id)){var n=L.get(e.id);L.delete(e.id);var t=e.result,i=e.error;if((void 0!==t||i)&&I.emit(ae.RESPONSE,e),"undefined"!==typeof t)return void n({result:t,cancelled:!1});if(i){var a=i.code,s=i.message,f=i.data;return D.kg.error("LSP request failed",{code:a,lspId:r,errorMessage:s,data:JSON.stringify(f)}),void n({error:i})}throw D.kg.error("LSP response message contained neither error nor result"),new Error("Expected either message or error in LSP response")}var d=e.method;if("client/registerCapability"===d){var p=e.params.registrations;if(!p||!Array.isArray(p))throw new Error("Expected registrations array");return p.forEach((function(e){var n=e.method;if(!n)throw new Error("Expected registration method");if(!A)throw new Error("Expected server capabilities");var t=e.registerOptions||!0;switch(n){case"textDocument/definition":A.definitionProvider=!0;break;case"textDocument/typeDefinition":A.typeDefinitionProvider=!0;break;case"textDocument/implementation":A.implementationProvider=!0;break;case"textDocument/references":A.referencesProvider=!0;break;case"textDocument/hover":A.hoverProvider=!0;break;case"textDocument/completion":A.completionProvider=t;break;case"textDocument/formatting":A.documentFormattingProvider=t;break;case"textDocument/rename":A.renameProvider=t;break;case"textDocument/codeAction":A.codeActionProvider=t;break;case"textDocument/signatureHelp":A.signatureHelpProvider=t;break;case"textDocument/didSave":if("number"===typeof A.textDocumentSync)break;A.textDocumentSync=(0,g.Z)((0,o.Z)({},A.textDocumentSync||{}),{save:t});break;case"textDocument/willSaveWaitUntil":if("number"===typeof A.textDocumentSync)break;A.textDocumentSync=(0,g.Z)((0,o.Z)({},A.textDocumentSync||{}),{willSave:!0});break;case"textDocument/didChange":if("number"===typeof A.textDocumentSync)break;A.textDocumentSync=(0,g.Z)((0,o.Z)({},A.textDocumentSync||{}),{change:t});break;case"textDocument/didOpen":case"textDocument/didClose":if("number"===typeof A.textDocumentSync)break;A.textDocumentSync=(0,g.Z)((0,o.Z)({},A.textDocumentSync||{}),{openClose:!0});break;case"workspace/executeCommand":A.executeCommandProvider=t;break;default:D.kg.info("Unexpected dynamically registered capability in LSP client",{method:n})}I.emit(ae.SERVER_CAPABILITIES_CHANGE,A)})),void y(e.id,{result:void 0,cancelled:!1})}if("workspace/applyEdit"!==d){if("textDocument/publishDiagnostics"===d){var h=l(e.params.uri),v=O.get(h);if(!v)return;var E=e.params.diagnostics;if(m()(v.diagnostics,E))return;return v.diagnostics=E,void I.emit(ae.DIAGNOSTICS,{path:h,diagnostics:E})}if("workspace/configuration"===d){var w,b=e.params,_=Array(b.items.length).fill(null),S=null!==(w=null===u||void 0===u?void 0:u())&&void 0!==w?w:null;S&&(_=b.items.map((function(e){return e.section?he()(S,e.section):S}))),y(e.id,{result:_,cancelled:!1})}}else{var R=c(e.params);y(e.id,{result:R,cancelled:!1})}}));n.read(k.read);var F=function(){};return{initialize:function(e){var n=e.pwd,t=e.initializationOptions;return(0,i.Z)((function(){var e,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return p(ue.a.INITIALIZING),R="file://".concat(n),[4,E({method:"initialize",params:{initializationOptions:t,capabilities:de({configurationSupport:{serverToClient:Boolean(u),clientToServer:Boolean(s)}}),processId:null,rootUri:R,workspaceFolders:[{name:R,uri:R}]}})];case 1:if("error"in(e=i.sent()))throw new Error("Something went wrong initializing the LSP client: ".concat(e.error.message));if(e.cancelled)throw new Error("Initialize request cancelled");if(!e.result)throw new Error("Expected result in initialize request");return v({method:"initialized",params:{}}),A=e.result.capabilities,S=e.result.serverInfo,I.emit(ae.SERVER_CAPABILITIES_CHANGE,A),p(ue.a.INITIALIZED),s&&(F=s((function(e){v({method:"workspace/didChangeConfiguration",params:{settings:e}})}))),u&&(r=u())&&v({method:"workspace/didChangeConfiguration",params:{settings:r}}),[2]}}))}))()},generateId:ye,notify:{didOpen:function(e,n){if(!t(e))throw new Error("Path not supported");var i,o=O.get(e);if(o&&0!==o.buffers)return o.buffers++,void O.set(e,o);var a=null!==(i=null===o||void 0===o?void 0:o.version)&&void 0!==i?i:0;O.set(e,{version:a,buffers:1,diagnostics:[]}),v({method:"textDocument/didOpen",params:{textDocument:{uri:f(e),languageId:Ee(e,r),text:n,version:a}}})},didChange:function(e,n){var t=O.get(e);if(!t)throw new Error('Document for "'.concat(e,'" is not open'));t.version++,v({method:"textDocument/didChange",params:{textDocument:{uri:f(e),version:t.version},contentChanges:n}})},didSave:function(e){if(!O.get(e))throw new Error('Document for "'.concat(e,'" is not open'));b("textDocumentSync"),v({method:"textDocument/didSave",params:{textDocument:{uri:f(e)}}})},didClose:function(e){var n=O.get(e);if(!n)throw new Error('Document for "'.concat(e,'" is not open'));n.buffers--,n.buffers>0||(v({method:"textDocument/didClose",params:{textDocument:{uri:f(e)}}}),O.delete(e))},cancelRequest:function(e){w(e)}},request:{completion:function(e,n,t,r){return b("completionProvider"),E({options:r,method:"textDocument/completion",params:{textDocument:{uri:f(e)},position:n,context:t}})},resolveCompletionItem:function(e){if(!b("completionProvider").resolveProvider)throw new Error("LSP Server does not support resolving completion items");return E({method:"completionItem/resolve",params:e})},signatureHelp:function(e,n,t){return E({options:t,method:"textDocument/signatureHelp",params:{textDocument:{uri:f(e)},position:n}})},hover:function(e,n,t){return E({options:t,method:"textDocument/hover",params:{textDocument:{uri:f(e)},position:n}})},codeActions:function(e,n){var t=O.get(e);if(!t)throw new Error("Document for path ".concat(e," is not open."));var r=t.diagnostics.filter((function(e){return t=e.range,r=n,ge(t.start,r.end)&&ge(r.start,t.end);var t,r}));return E({method:"textDocument/codeAction",params:{textDocument:{uri:f(e)},range:n,context:{diagnostics:r}}})},executeCommand:function(e,n){return E({method:"workspace/executeCommand",params:{command:e,arguments:n}})},format:function(e,n){return b("documentFormattingProvider"),E({method:"textDocument/formatting",params:{textDocument:{uri:f(e)},options:n}})},findDefinitions:function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(0,i.Z)((function(){var i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return b("definitionProvider"),[4,E({options:t,method:"textDocument/definition",params:{textDocument:{uri:f(e)},position:n}})];case 1:return"result"in(i=o.sent())?i.result&&!Array.isArray(i.result)?[2,{result:r?_([i.result]):[i.result],cancelled:!1}]:(r&&(i.result=_(i.result)),[2,i]):[2,i]}}))}))()},findTypeDefinitions:function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(0,i.Z)((function(){var i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return b("typeDefinitionProvider"),[4,E({options:t,method:"textDocument/typeDefinition",params:{textDocument:{uri:f(e)},position:n}})];case 1:return"result"in(i=o.sent())?i.result&&!Array.isArray(i.result)?[2,{result:r?_([i.result]):[i.result],cancelled:!1}]:(r&&(i.result=_(i.result)),[2,i]):[2,i]}}))}))()},findImplementations:function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(0,i.Z)((function(){var i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return b("implementationProvider"),[4,E({options:t,method:"textDocument/implementation",params:{textDocument:{uri:f(e)},position:n}})];case 1:return"result"in(i=o.sent())?i.result&&!Array.isArray(i.result)?[2,{result:r?_([i.result]):[i.result],cancelled:!1}]:(r&&(i.result=_(i.result)),[2,i]):[2,i]}}))}))()},findReferences:function(e,n,t){return b("referencesProvider"),E({method:"textDocument/references",params:{textDocument:{uri:f(e)},position:n,context:t}})},rename:function(e,n,t,r){return b("renameProvider"),E({options:r,method:"textDocument/rename",params:{textDocument:{uri:f(e)},position:n,newName:t}})},prepareRename:function(e,n){var t=b("renameProvider");if("boolean"===typeof t||!t.prepareProvider)throw new Error("LSP server does not support prepare rename");return E({method:"textDocument/prepareRename",params:{textDocument:{uri:f(e)},position:n}})},documentHighlights:function(e,n,t){return(0,i.Z)((function(){return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,E({options:t,method:"textDocument/documentHighlight",params:{position:n,textDocument:{uri:f(e)}}})];case 1:return[2,r.sent()]}}))}))()},documentSymbol:function(e,n){return(0,i.Z)((function(){var t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,E({options:n,method:"textDocument/documentSymbol",params:{textDocument:{uri:f(e)}}})];case 1:return"result"in(t=r.sent())?t.result?[2,{result:t.result,cancelled:!1}]:[2]:[2,t]}}))}))()}},onDiagnostics:(0,d.JV)(I,ae.DIAGNOSTICS),onServerStateChange:(0,d.JV)(I,ae.SERVER_STATE_CHANGE),onServerHealthChange:(0,d.JV)(I,ae.SERVER_HEALTH_CHANGE),onServerCapabilitiesChange:(0,d.JV)(I,ae.SERVER_CAPABILITIES_CHANGE),onRequest:(0,d.JV)(I,ae.REQUEST),onResponse:(0,d.JV)(I,ae.RESPONSE),onCancelRequest:(0,d.JV)(I,ae.CANCEL_REQUEST),onSendNotification:(0,d.JV)(I,ae.SEND_NOTIFICATION),shutdown:function(){for(var e in p(ue.a.EXITING),O.clear(),L)w(Number(e));F(),E({method:"shutdown"}).then((function(){v({method:"exit"}),p(ue.a.EXITED),I.removeAllListeners()}))},isDestroyed:function(){return x},destroy:function(){for(var e in x=!0,O.clear(),L)w(Number(e));F(),p(ue.a.EXITED),I.removeAllListeners()},getServerState:function(){return T},getServerHealth:function(){return N},getServerCapabilities:function(){return A},getServerInfo:function(){return S},getDiagnostics:function(e){var n=O.get(e);if(!n)throw new Error("File with path ".concat(e," is not open."));return n.diagnostics},isOpen:function(e){return O.has(e)},documentUriToPath:l,pathToDocumentURI:f,isSupportedFile:t,getLanguageId:function(e){return Ee(e,r)},clientId:r}}!function(e){e.INITIALIZED="INITIALIZED",e.READY="READY",e.DIAGNOSTICS="DIAGNOSTICS",e.SERVER_STATE_CHANGE="SERVER_STATE_CHANGE",e.SERVER_HEALTH_CHANGE="SERVER_HEALTH_CHANGE",e.SERVER_CAPABILITIES_CHANGE="SERVER_CAPABILITIES_CHANGE",e.REQUEST="REQUEST",e.RESPONSE="RESPONSE",e.CANCEL_REQUEST="CANCEL_REQUEST",e.SEND_NOTIFICATION="SEND_NOTIFICATION"}(ae||(ae={}));var _e,Ie=t(59053),Se=["typescript","javascript","javascriptreact","typescriptreact"];!function(e){e.ON_CLIENT="ON_CLIENT"}(_e||(_e={}));var Re=t(53294),Te=t(49242),Ne=t(29339),Ae=t.n(Ne);function xe(e){var n=e.container,t=e.beforeRun,r=(0,d.ZP)(),o=Te.Z.Idle,u=new Date(0),s=!1;r.on(Te.z.TEST_RESULT,(function(e){s=s&&"passed"===e.body}));var c=function(e){r.emit(Te.z.STATE_CHANGED,e),o=e},f=function(){var e=(0,i.Z)((function(e,n){var t,i,o,u,s,f,d,p,h,m,v;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(t=Re.api.Payload.fromObject(n),i=Re.api.Payload.verify(t))throw i;return o=new(Ae())((function(e){var n=Re.api.Response.fromObject(e),i=Re.api.Response.verify(n);if(i)_.Tb(new TypeError("invalid payload received"),(function(r){return r.setExtras({validationError:i,payload:t,message:e,response:n})}));else switch(n.body){case"error":return r.emit(Te.z.ERROR,n.error);case"instructionResult":return r.emit(Te.z.INSTRUCTION_RESULT,n.instructionResult);case"testResult":return r.emit(Te.z.TEST_RESULT,n.testResult);case"status":switch(n.status){case Re.api.Status.Ready:return c(Te.Z.Ready);case Re.api.Status.Building:return c(Te.Z.Building);case Re.api.Status.Running:return c(Te.Z.Running)}}})),u=e.onCommand((function(e){if(e.output)try{o.submit(e.output)}catch(p){_.Tb(new SyntaxError("invalid response received from i/o testing binary"),(function(r){return r.setExtras({err:p,payload:t,cmd:e})}))}})),s=e.request({exec:{args:["io-tester"],splitStderr:!0,lifecycle:l.api.Exec.Lifecycle.STDIN,splitLogs:!0}}),[4,new Promise((function(e,n){var t,i=function(){t(),e()};r.once(Te.z.STATE_CHANGED,i);var o=setTimeout((function(){t(),n(new Error("timeout while waiting for iotester to start"))}),2e4);t=function(){clearTimeout(o),r.off(Te.z.STATE_CHANGED,i)}}))];case 1:return a.sent(),[4,e.request({input:JSON.stringify(t)+"\n"})];case 2:if(!(f=a.sent()).ok)throw p=new Error(null!==(d=f.error)&&void 0!==d?d:"unexpected error occurred while sending input to i/o testing binary"),_.Tb(p,(function(e){return e.setExtra("status",f)})),p;return[4,s];case 3:return(h=a.sent()).ok||(v=new Error(null!==(m=h.error)&&void 0!==m?m:"unexpected error occurred while executing i/o testing binary"),_.Tb(v,(function(e){return e.setExtra("result",h)}))),u(),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}();return{run:function(e){if(o!==Te.Z.Idle)throw new Error("iotester already running");return c(Te.Z.Starting),u=new Date,s=!0,t().then((function(){return new Promise((function(t){var r=n.openChannel({service:"exec"},(function(n){var i="",o="",a=n.channel.onCommand((function(e){e.log?i+=e.log:e.stderr&&(o+=e.stderr)}));return t(f(n.channel,e).finally((function(){a(),r(),(o||i)&&_.Tb(new Error("logs received from IOTester"),(function(n){return n.setExtras({logs:i,stderr:o,payload:e})}))}))),r}))}))})).catch((function(e){return s=!1,Promise.reject(e)})).finally((function(){return c(Te.Z.Idle)}))},get lastRunAt(){return u},get state(){return o},get lastRunDidPass(){return s},onInstructionResult:function(e){return r.on(Te.z.INSTRUCTION_RESULT,e),function(){r.off(Te.z.INSTRUCTION_RESULT,e)}},onStateChanged:function(e){return r.on(Te.z.STATE_CHANGED,e),function(){r.off(Te.z.STATE_CHANGED,e)}},onTestResult:function(e){return r.on(Te.z.TEST_RESULT,e),function(){r.off(Te.z.TEST_RESULT,e)}},onError:function(e){return r.on(Te.z.ERROR,e),function(){r.off(Te.z.ERROR,e)}}}}var De=t(3341),Ce=t.n(De),Oe=t(68525),Le=t(97532);function Pe(e,n){var t=(0,Oe.rF)(n.fileTypeAttrs);return!t&&n.language&&(t=Oe.$R.from(n.language)),!(!t||!(0,Le.JW)(e,t))}function ke(e,n){var t,r,i,o,a,u;return n&&n?!!Ce()(null===e||void 0===e?void 0:e.fileTypeAttrs,n.fileTypeAttrs)&&(!!Ce()(null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.startCommand,null===(r=n.config)||void 0===r?void 0:r.startCommand)&&(!!Ce()(null===e||void 0===e||null===(i=e.config)||void 0===i?void 0:i.initializationOptionsJson,null===(o=n.config)||void 0===o?void 0:o.initializationOptionsJson)&&!!Ce()(null===e||void 0===e||null===(a=e.config)||void 0===a?void 0:a.configurationJson,null===(u=n.config)||void 0===u?void 0:u.configurationJson))):Boolean(n)===Boolean(n)}function Fe(e,n){return He.apply(this,arguments)}function He(){return(He=(0,i.Z)((function(e,n){var t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.exec("pwd")];case 1:return null!==(t=r.sent()).error?n()?[2,Fe(e,n)]:[2,{error:new Error("LSPNix: Could not get working directory "+t.error),workingDirectory:null}]:[2,{error:null,workingDirectory:t.output.replace("\n","")}]}}))}))).apply(this,arguments)}var Ze,Ge=t(57389),Ue=t(19692);function Me(e){if("object"!==typeof(n=e)||null===n||null===Object.getPrototypeOf(n))throw new Error("encodeBareStruct must be called with a plain object");var n;return{fields:Object.entries(e).reduce((function(e,n){var t=(0,R.Z)(n,2),r=t[0],i=t[1];return void 0===i||"object"===typeof i&&i&&0===Object.keys(i).length?e:(0,g.Z)((0,o.Z)({},e),(0,Ge.Z)({},r,qe(i)))}),{})}}function qe(e){switch("undefined"===typeof e?"undefined":(0,Ue.Z)(e)){case"string":return{kind:"stringValue",stringValue:e};case"number":return{kind:"numberValue",numberValue:e};case"boolean":return{kind:"boolValue",boolValue:e};case"object":return null===e?{kind:"nullValue",nullValue:null}:Array.isArray(e)?{kind:"listValue",listValue:{values:e.map(qe)}}:{kind:"structValue",structValue:Me(e)};default:throw new Error("Unexpected value: ".concat(e))}}!function(e){e.CHANNEL_OPENED="CHANNEL_OPENED",e.EVENT_SENT="EVENT_SENT"}(Ze||(Ze={}));var Be=t(73299),je=["git diff -z --name-only --diff-filter=U","echo -n ".concat("\x1f"),"{ git grep -z -l -E '<{7,}|={7,}|>{7,}' || exit $(( $? == 1 ? 0 : $? )); }"].join(" && ");function Ve(e){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,i.Z)((function(e){var n,t,r,i,o,u,s,c,l,f,d;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,e(je)];case 1:if((n=a.sent()).error)return[2,n];if(t=(0,R.Z)(n.output.split("\x1f").map((function(e){return(0,Be.so)(e,"\0")})),2),r=t[0],i=t[1],!r.length)return[2,{files:new Map,error:null}];o=new Map,u=!0,s=!1,c=void 0;try{for(l=r[Symbol.iterator]();!(u=(f=l.next()).done);u=!0)d=f.value,o.set(d,!i.includes(d))}catch(p){s=!0,c=p}finally{try{u||null==l.return||l.return()}finally{if(s)throw c}}return[2,{files:o,error:null}]}}))})),Ke.apply(this,arguments)}var We=t(12404),Je=t(73377),ze="cat '.git/MERGE_HEAD'",Ye='git for-each-ref --format="%(objectname)\t%(refname)" refs/heads/ refs/remotes/';function $e(e){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,i.Z)((function(e){var n,t,r,i,o,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,(0,We.ZP)(e)];case 1:return(n=a.sent()).error?[2,n]:n.state!==We.yG.MERGING?[2,{error:Je.aq.INVALID_STATE}]:[4,e(ze)];case 2:return(t=a.sent()).error?[2,t]:(r=(0,Be.so)(t.output,"\n")).length?(i="{ grep -F '".concat(r.join("\n"),"' || exit 0; }"),[4,e("".concat(Ye," | ").concat(i))]):[2,{commits:[],branches:[],error:null}];case 3:return(o=a.sent()).error?[2,o]:o.output?(u=(0,Be.so)(o.output,"\n").map((function(e){return e.split("\t")[1]})).map(Be.C),[2,{commits:r,branches:u,error:null}]):[2,{commits:r,branches:[],error:null}]}}))}))).apply(this,arguments)}var Qe="if [ -f '.git/FETCH_HEAD' ]; then stat -c %Y '.git/FETCH_HEAD'; fi";function en(e){return nn.apply(this,arguments)}function nn(){return(nn=(0,i.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,e(Qe)];case 1:return(n=r.sent()).error?[2,n]:n.output?(t=parseInt(n.output,10),isNaN(t)?[2,{lastFetched:null,error:null}]:(t*=1e3,[2,{lastFetched:new Date(t),error:null}])):[2,{lastFetched:null,error:null}]}}))}))).apply(this,arguments)}var tn=t(32985),rn=t(47711);function on(e,n){return an.apply(this,arguments)}function an(){return(an=(0,i.Z)((function(e,n){var t,r,i,o,u,s;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=(0,tn.Qj)(n),t=n.startsWith("refs/heads/"),r=n.startsWith("refs/remotes/"),t?[3,2]:(i=r?n:"refs/remotes/".concat(n),[4,e("git show-ref --verify ".concat(i))]);case 1:if(!(o=a.sent()).error)return[2,{exists:!0,ref:(0,rn.L)(i),error:null}];if(o.error!==Je.aq.INVALID_REFERENCE)return[2,o];a.label=2;case 2:return r?[3,4]:(u=t?n:"refs/heads/".concat(n),[4,e("git show-ref --verify ".concat(u))]);case 3:if(!(s=a.sent()).error)return[2,{exists:!0,ref:(0,rn.L)(u),error:null}];if(s.error!==Je.aq.INVALID_REFERENCE)return[2,s];a.label=4;case 4:return[2,{exists:!1,ref:null,error:null}]}}))}))).apply(this,arguments)}var un="( (grep -q -e '^+<* \\.our$' && echo '1') || echo '0')";function sn(e,n,t){return cn.apply(this,arguments)}function cn(){return(cn=(0,i.Z)((function(e,n,t){var r,i,o,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if((0,tn.Pi)(n,t)){if(n=(0,tn.bF)(n,!0),t=(0,tn.bF)(t),n===t)return[2,{canMerge:!0,error:null}]}else n=(0,tn.bF)(n),t=(0,tn.bF)(t);return n=(0,Be.Gw)(n),t=(0,Be.Gw)(t),r="git merge-base ".concat(n," ").concat(t),i='git merge-tree "$('.concat(r,')" ').concat(n," ").concat(t),o="set -eo pipefail; (".concat(i," | ").concat(un,") || test $? -eq 141"),[4,e(o)];case 1:return(u=a.sent()).error?[2,u]:[2,{canMerge:"0"===u.output,error:null}]}}))}))).apply(this,arguments)}function ln(e){var n=e.branch,t=e.message;n=(0,tn.Qj)(n);var r=["--quiet","--no-edit","--no-ff","--overwrite-ignore","--commit"];return t&&r.push("-m",(0,Be.Gw)(t)),r.push((0,Be.Gw)(n)),"git merge ".concat(r.join(" "))}function fn(e,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,i.Z)((function(e,n){var t,r,i,o,u,s,c,l,f,d;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=n.branch,r=n.message,i=n.allowConflicts,o=void 0!==i&&i,[4,(0,We.ZP)(e)];case 1:return(u=a.sent()).error?[2,u]:(s=u.state,u.type!==We.y5.NORMAL||s===We.yG.DIRTY_WORKTREE||s===We.yG.DIRTY_INDEX?[2,{error:Je.aq.INVALID_STATE}]:[4,on(e,t)]);case 2:return(c=a.sent()).error?[2,c]:c.exists?o?[3,4]:[4,sn(e,t,"HEAD")]:[2,{error:Je.aq.INVALID_REFERENCE}];case 3:if((l=a.sent()).error)return[2,l];if(!l.canMerge)return[2,{error:Je.aq.MERGE_CONFLICT}];a.label=4;case 4:return f=ln({branch:t,message:r}),[4,e(f)];case 5:return(d=a.sent()).error!==Je.aq.MERGE_CONFLICT?[3,8]:o?[3,7]:[4,e("git merge --abort")];case 6:return a.sent(),[2,d];case 7:return[2,{hasConflicts:!0,error:null}];case 8:return d.error?[2,d]:[2,{hasConflicts:!1,error:null}]}}))}))).apply(this,arguments)}function pn(e){return hn.apply(this,arguments)}function hn(){return(hn=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,e("git merge --abort")];case 1:return(n=t.sent()).error?[2,n]:[2,{error:null}]}}))}))).apply(this,arguments)}function mn(e){return vn.apply(this,arguments)}function vn(){return(vn=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,e("GIT_EDITOR=/bin/true git merge --continue")];case 1:return(n=t.sent()).error?[2,n]:[2,{error:null}]}}))}))).apply(this,arguments)}var En=t(49760);function gn(e,n){return yn.apply(this,arguments)}function yn(){return yn=(0,i.Z)((function(e,n){var t,r,i,o,u,s,c,l,f,d,p,h,m;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if("string"===typeof n){if(""===n)return[2,{error:null}];n=[n]}return!0!==n&&0===n.length?[2,{error:null}]:[4,(0,En.Z)(e)];case 1:if((t=a.sent()).error)return[2,t];r=[],i=[],o=!0,u=!1,s=void 0;try{for(c=t.changes[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)if(f=l.value,!0===n||n.includes(f.path))switch(f.type.worktree){case En.h.UNMODIFIED:continue;case En.h.UNTRACKED:r.push((0,Be.Gw)(f.path));break;default:i.push((0,Be.Gw)(f.path))}}catch(v){u=!0,s=v}finally{try{o||null==c.return||c.return()}finally{if(u)throw s}}return 0===r.length&&0===i.length?[2,{error:null}]:(d=[],r.length&&(p=["--quiet","--force","--",r.join(" ")],d.push("git --literal-pathspecs clean ".concat(p.join(" ")))),i.length&&(h=["--quiet","--no-overlay","--worktree","--",i.join(" ")],d.push("git --literal-pathspecs restore ".concat(h.join(" ")))),[4,e(d)]);case 2:return(m=a.sent()).error?[2,m]:[2,{error:null}]}}))})),yn.apply(this,arguments)}var wn=t(86763),bn=t.n(wn);function _n(e,n){return In.apply(this,arguments)}function In(){return(In=(0,i.Z)((function(e,n){var t,r,i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return t=n.name,r=n.url,t=(0,Be.ss)(t),(0,tn.GE)(t)?(t=(0,Be.Gw)(t),r=(0,Be.Gw)(r),[4,e("git remote add ".concat(t," ").concat(r))]):[2,{error:Je.aq.INVALID_REFERENCE}];case 1:return(i=o.sent()).error?[2,i]:[2,{error:null}]}}))}))).apply(this,arguments)}function Sn(e){var n,t=e.message,r=e.files,i=["--allow-empty","--allow-empty-message","--cleanup=whitespace","--no-edit","--quiet","-m ".concat((0,Be.Gw)(t))];r&&(n=i).push.apply(n,["--only","--"].concat((0,c.Z)(r.map(Be.Gw))));return"git --literal-pathspecs commit ".concat(i.join(" "))}function Rn(e,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,i.Z)((function(e,n){var t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,e(Sn(n))];case 1:return(t=r.sent()).error?[2,t]:[2,{error:null}]}}))}))).apply(this,arguments)}function Nn(e,n){return An.apply(this,arguments)}function An(){return(An=(0,i.Z)((function(e,n){var t,r,i,o,u,s;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=(0,tn.Qj)(n,!0),[4,on(e,n)];case 1:return(t=a.sent()).error?[2,t]:t.exists?(r=["--quiet","--no-guess"],t.ref.type!==rn.l.REMOTE_BRANCH?[3,3]:(i=t.ref.branch,o=t.ref.name,[4,on(e,"refs/heads/".concat(i))])):[2,{error:Je.aq.INVALID_REFERENCE}];case 2:return(u=a.sent()).error?[2,u]:(u.exists?r.push((0,Be.Gw)(i),"--"):r.push("-t","-b",(0,Be.Gw)(i),(0,Be.Gw)(o),"--"),[3,4]);case 3:r.push((0,Be.Gw)(t.ref.name),"--"),a.label=4;case 4:return[4,e("git checkout ".concat(r.join(" ")))];case 5:return(s=a.sent()).error?[2,s]:[2,{error:null}]}}))}))).apply(this,arguments)}function xn(e,n){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,i.Z)((function(e,n){var t,r,i,o,u,s,c,l,f,d,p;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=n.name,r=n.startPoint,i=void 0===r?"HEAD":r,o=n.track,u=n.checkout,s=void 0!==u&&u,t=(0,Be.C)(t),[4,on(e,t)];case 1:if((c=a.sent()).error)return[2,c];if(c.exists)return[2,{error:Je.aq.BRANCH_ALREADY_EXISTS}];if("HEAD"===i){if(!0===o)return[2,{error:Je.aq.INVALID_REFERENCE}];o=!1}return!1===o?[3,3]:[4,on(e,i)];case 2:if((l=a.sent()).error)return[2,l];if(!l.exists&&!0===o)return[2,{error:Je.aq.INVALID_REFERENCE}];l.exists&&l.ref.type===rn.l.REMOTE_BRANCH&&void 0===o&&(o=!0),a.label=3;case 3:return f=["--quiet",o?"--track":"--no-track",(0,Be.Gw)(t),(0,Be.Gw)(i)],[4,e("git branch ".concat(f.join(" ")))];case 4:return(d=a.sent()).error?[2,d]:s?[4,Nn(e,t)]:[3,6];case 5:if((p=a.sent()).error)return[2,p];a.label=6;case 6:return[2,{error:null}]}}))}))).apply(this,arguments)}function Cn(e){return On.apply(this,arguments)}function On(){return On=(0,i.Z)((function(e){var n,t,r,i,o=arguments;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t=["--quiet"],n.depth&&(r=n.deepen?"--deepen":"--depth",t.push("".concat(r,"=").concat(n.depth))),n.remote?t.push((0,Be.Gw)(n.remote)):t.push("--all"),[4,e("git fetch ".concat(t.join(" ")))];case 1:return(i=a.sent()).error?[2,i]:[2,{error:null}]}}))})),On.apply(this,arguments)}var Ln='\nif [ -f ".git/refs/remotes/$remote/HEAD" ]; then\n  echo "$(sed -e "s/^ref: refs\\/remotes\\/$remote\\///" < .git/refs/remotes/$remote/HEAD)"\nelse\n  remote_result="$(git ls-remote --symref "$remote" HEAD)"\n  if [ -z "$remote_result" ]; then\n    echo ""\n  else\n    echo "$(\n      echo "$remote_result" | \\\n      head -1 | \\\n      awk \'{print $2}\' | \\\n      sed -e "s/^refs\\/heads\\///"\n    )"\n  fi\nfi\n'.trim(),Pn=["main","master","trunk","dev","develop","development","staging","prod","production"].map((function(e){return'if [ $(git rev-parse --verify --quiet "heads/'.concat(e,'") ]; then\n      echo "refs/heads/').concat(e,'"\n    fi')})).join("\n"),kn='\ngit remote | while IFS= read -r remote; do\n  if [ -z "$remote" ]; then continue; fi\n  branch="$('.concat(Ln,')"\n  if [ -z "$branch" ]; then continue; fi\n  echo "refs/remotes/$remote/$branch"\n  if [ $(git rev-parse --verify --quiet "heads/$branch") ]; then\n    echo "refs/heads/$branch"\n  fi\ndone\n').concat(Pn,"\n").trim();function Fn(e){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,e(kn)];case 1:return(n=t.sent()).error?[2,n]:[2,{refs:(0,c.Z)(new Set((0,Be.so)(n.output,"\n"))).map((function(e){return(0,rn.L)(e)})),error:null}]}}))}))).apply(this,arguments)}var Zn=t(85281);function Gn(e,n){return Un.apply(this,arguments)}function Un(){return(Un=(0,i.Z)((function(e,n){var t,r,i,o,u,s,c,l,f,d,p,h;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=(0,tn.bF)(n,!0),(0,tn.Dc)(n)?(t=(0,Be.C)(n),r=(0,R.Z)((0,Be.Tg)(n),2),i=r[0],o=r[1],u=["refs/heads/".concat(t),"refs/remotes/*/".concat(t)],i&&o&&(u.push("refs/heads/".concat(o)),u.push("refs/remotes/".concat(i,"/").concat(o))),[4,(0,Zn.ZP)(e,{pattern:u})]):[2,{error:Je.aq.INVALID_REFERENCE}];case 1:if((s=a.sent()).error)return[2,s];if(0===s.branches.length)return[2,{error:Je.aq.INVALID_REFERENCE}];c=!0,l=!1,f=void 0;try{for(d=s.branches[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){if((h=p.value).type!==Zn.HO.REMOTE&&h.name===t)return[2,{branch:h,error:null}];if(i&&o&&h.type!==Zn.HO.LOCAL&&h.remote===i&&h.name===o)return[2,{branch:h,error:null}]}}catch(m){l=!0,f=m}finally{try{c||null==d.return||d.return()}finally{if(l)throw f}}return[2,{error:Je.aq.INVALID_REFERENCE}]}}))}))).apply(this,arguments)}function Mn(e,n){return qn.apply(this,arguments)}function qn(){return(qn=(0,i.Z)((function(e,n){var t,r,i,o,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=n.path,r=n.revision,i=void 0===r?"":r,o=(0,Be.Gw)("".concat(i,":").concat(t)),[4,e("git --no-pager show --textconv ".concat(o),{verbatim:!0})];case 1:return(u=a.sent()).error?u.error===Je.aq.PATH_MATCHED_NO_FILES?[2,{content:null,error:null}]:[2,u]:[2,{content:u.output,error:null}]}}))}))).apply(this,arguments)}function Bn(e){return jn.apply(this,arguments)}function jn(){return(jn=(0,i.Z)((function(e){var n,t,r,i,o,u,s,c,l,f,d,p,h,m;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,e("git remote -v")];case 1:if((n=a.sent()).error)return[2,n];if(""===n.output)return[2,{remotes:new Map,error:null}];t=new Map,r=!0,i=!1,o=void 0;try{for(u=(0,Be.so)(n.output,"\n")[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)c=s.value,l=(0,R.Z)(c.split(/\s+/),3),f=l[0],d=l[1],p=l[2],f&&d&&p&&(m=null!==(h=t.get(f))&&void 0!==h?h:{name:f,fetch:"",push:""},"(fetch)"===p?(m.fetch=d,""===m.push&&(m.push=d),t.set(f,m)):"(push)"===p&&(m.push=d,""===m.fetch&&(m.fetch=d),t.set(f,m)))}catch(v){i=!0,o=v}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return[2,{remotes:t,error:null}]}}))}))).apply(this,arguments)}var Vn='git commit --allow-empty --no-edit --quiet -m "Initial commit"',Kn='git add -A && git commit --allow-empty --no-edit --quiet -m "Initial commit"';function Wn(e){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,i.Z)((function(e){var n,t,r,i,o,u,s,c,l,f=arguments;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},t=n.initialCommit,r=void 0===t||t,i=n.includeAllInitialFiles,o=void 0===i||i,[4,(0,We.ZP)(e)];case 1:return(u=a.sent()).error?[2,u]:u.type!==We.y5.INITIALIZING?[2,{error:Je.aq.ALREADY_INITIALIZED}]:u.state!==We.yG.ON_UNBORN_BRANCH?[3,4]:r?[4,e(o?Kn:Vn)]:[3,3];case 2:if((s=a.sent()).error)return[2,s];a.label=3;case 3:return[2,{error:null}];case 4:return[4,e(["git init","git checkout -b main"])];case 5:return(c=a.sent()).error?[2,c]:r?[4,e(o?Kn:Vn)]:[3,7];case 6:if((l=a.sent()).error)return[2,l];a.label=7;case 7:return[2,{error:null}]}}))})),Jn.apply(this,arguments)}function zn(e){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,e("git rev-parse --is-inside-work-tree")];case 1:return(n=t.sent()).error?n.error===Je.aq.NOT_INITIALIZED?[2,{initialized:!1,error:null}]:[2,n]:[2,{initialized:"true"===n.output,error:null}]}}))}))).apply(this,arguments)}var $n="\0",Xn='--format="format:'+["%D","%H","%P","%an","%ae","%at","%cn","%ce","%ct","%s","%b"].join("%x1f")+'"';function Qn(e){var n=(0,R.Z)(e.trimStart().split("\x1f"),11),t=n[0],r=n[1],i=n[2],o=n[3],a=n[4],u=n[5],s=n[6],c=n[7],l=n[8],f=n[9],d=n[10],p=[],h=i?i.split(" "):null,m=!1,v=!0,E=!1,g=void 0;try{for(var y,w=(0,Be.so)(t,",")[Symbol.iterator]();!(v=(y=w.next()).done);v=!0){var b=y.value;"grafted"!==b?p.push((0,rn.L)(b)):m=!0}}catch(_){E=!0,g=_}finally{try{v||null==w.return||w.return()}finally{if(E)throw g}}return{refs:p,hash:r,parents:h,grafted:m,author:{name:o,email:a,date:1e3*parseInt(u,10)},committer:{name:s,email:c,date:1e3*parseInt(l,10)},subject:f?f.trim():"",body:d?d.trim():""}}function et(e){var n=e.max,t=void 0===n?25:n,r=e.skip,i=e.revRange,o=e.path,a=["-z","--decorate=full","--full-history",Xn];return t=Math.max(1,Math.min(t,200)),a.push("-n ".concat(t)),r&&a.push("--skip ".concat(r)),i&&a.push(i),a.push("--"),o&&a.push(o),"git log ".concat(a.join(" "))}function nt(e){return tt.apply(this,arguments)}function tt(){return tt=(0,i.Z)((function(e){var n,t,r=arguments;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},[4,e(et(n))];case 1:return(t=i.sent()).error?t.error===Je.aq.NO_COMMITS?[2,{commits:[],error:null}]:[2,t]:[2,{commits:(0,Be.so)(t.output,$n).map(Qn),error:null}]}}))})),tt.apply(this,arguments)}function rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];return e.cached&&n.push("--cached"),e.deleted&&n.push("--deleted"),e.modified&&n.push("--modified"),e.others&&n.push("--others"),e.ignored&&n.push("--ignored"),e.directory&&n.push("--directory"),e.noEmptyDirectory&&n.push("--no-empty-directory"),"git ls-files ".concat(n.join(" "))}function it(e){return ot.apply(this,arguments)}function ot(){return ot=(0,i.Z)((function(e){var n,t,r=arguments;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},[4,e(rt(n))];case 1:return(t=i.sent()).error?[2,t]:[2,{files:t.output.split("\n").filter((function(e){return e.length>0})),error:null}]}}))})),ot.apply(this,arguments)}var at=t(84682);function ut(e){return st.apply(this,arguments)}function st(){return st=(0,i.Z)((function(e){var n,t,r,i,o,u,s,c,l,f,d,p,h=arguments;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:{},[4,(0,En.Z)(e)];case 1:if((t=a.sent()).error)return[2,t];if(!t.branch)return[2,{error:Je.aq.HEAD_DETACHED}];if(r=null,i=null,n.publish){if(t.upstream)return[2,{error:Je.aq.BRANCH_ALREADY_EXISTS}];r=n.publish.remote,i=null!==(o=n.publish.name)&&void 0!==o?o:t.branch,r=(0,Be.C)(r),i=(0,Be.C)(i)}else{if(!t.upstream)return[2,{error:Je.aq.UPSTREAM_NOT_SET}];if(!n.force&&t.upstream.behind>0)return[2,{error:Je.aq.PUSH_REJECTED}];u=(0,R.Z)((0,Be.Tg)(t.upstream.branch),2),r=u[0],i=u[1]}return r&&i?n.force?[3,3]:[4,Cn(e,{remote:r})]:[2,{error:Je.aq.UPSTREAM_NOT_SET}];case 2:if((s=a.sent()).error)return[2,s];a.label=3;case 3:return n.publish?(c="refs/remotes/".concat(r,"/").concat(i),[4,on(e,c)]):[3,5];case 4:if((l=a.sent()).error)return[2,l];if(l.exists&&l.ref.type===rn.l.REMOTE_BRANCH)return[2,{error:Je.aq.BRANCH_ALREADY_EXISTS}];a.label=5;case 5:return f=["--quiet"],n.force&&!n.publish&&f.push("--force-with-lease"),n.publish&&f.push("--set-upstream"),d="refs/heads/".concat(t.branch,":refs/heads/").concat(i),f.push((0,Be.Gw)(r),(0,Be.Gw)(d)),[4,e("git push ".concat(f.join(" ")))];case 6:return(p=a.sent()).error?[2,p]:[2,{error:null}]}}))})),st.apply(this,arguments)}function ct(e,n){return lt.apply(this,arguments)}function lt(){return(lt=(0,i.Z)((function(e,n){var t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n=(0,Be.ss)(n),(0,tn.GE)(n)?[4,e("git remote rm ".concat((0,Be.Gw)(n)))]:[2,{error:Je.aq.INVALID_REFERENCE}];case 1:return(t=r.sent()).error?[2,t]:[2,{error:null}]}}))}))).apply(this,arguments)}function ft(e,n){return dt.apply(this,arguments)}function dt(){return(dt=(0,i.Z)((function(e,n){var t,r,i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return t=n.remote,r=n.url,t=(0,Be.ss)(t),(0,tn.GE)(t)?(0,tn.LY)(r)?(t=(0,Be.Gw)(t),r=(0,Be.Gw)(r),[4,e("git remote set-url ".concat(t," ").concat(r))]):[2,{error:Je.aq.INVALID_REFERENCE}]:[2,{error:Je.aq.INVALID_REFERENCE}];case 1:return(i=o.sent()).error?[2,i]:[2,{error:null}]}}))}))).apply(this,arguments)}function pt(e){if("all"in e)return e.all?["git add -A"]:["git reset -q -- ."];var n=e.add,t=e.reset;if(!(null===n||void 0===n?void 0:n.length)&&!(null===t||void 0===t?void 0:t.length))return null;var r=[];if(n){var i=n.map(Be.Gw).join(" ");r.push("git --literal-pathspecs add -- ".concat(i))}if(t){var o=t.map(Be.Gw).join(" ");r.push("git --literal-pathspecs reset -q -- ".concat(o))}return r}function ht(e,n){return mt.apply(this,arguments)}function mt(){return(mt=(0,i.Z)((function(e,n){var t,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return(t=pt(n))?[4,e(t)]:[2,{error:null}];case 1:return(r=i.sent()).error?[2,r]:[2,{error:null}]}}))}))).apply(this,arguments)}var vt=t(79597);function Et(){var e=(0,$.Z)(['\n  fragment GitServiceGitHubUser on CurrentUser {\n    image\n    username\n    email\n    gitHubInfo {\n      accessToken\n      userInfo {\n        username\n        email\n        avatarUrl\n      }\n    }\n    repositories(count: 1, after: "0") {\n      ... on RepositoryConnection {\n        items {\n          id\n        }\n      }\n    }\n  }\n']);return Et=function(){return e},e}function gt(){var e=(0,$.Z)(["\n  query GitServiceCurrentUser {\n    currentUser {\n      id\n      ...GitServiceGitHubUser\n    }\n  }\n  ","\n"]);return gt=function(){return e},e}var yt=(0,X.Ps)(Et()),wt=(0,X.Ps)(gt(),yt);function bt(e){var n,t;return"RepositoryConnection"===(null===e||void 0===e||null===(n=e.currentUser)||void 0===n||null===(t=n.repositories)||void 0===t?void 0:t.__typename)}function _t(e){return It.apply(this,arguments)}function It(){return(It=(0,i.Z)((function(e){var n,t,r,i,o,u,s,c,l,f,d,p,h,m,v,E,g,y;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=e.defaultUsername,t=e.defaultUserId,r=e.onProfiles,u=new Map,[4,null===Y.l||void 0===Y.l?void 0:Y.l.query({query:wt,fetchPolicy:"network-only",context:{noBatch:!0}})];case 1:return c=(null!==(s=a.sent())&&void 0!==s?s:{data:null}).data,f=null!==(l=null===c||void 0===c?void 0:c.currentUser)&&void 0!==l?l:{username:n,id:t},d=f.id,p=f.username,d&&p&&(v={provider:Je.rG.REPLIT_DEFAULT,email:"".concat(d,"-").concat(p,"@").concat(vt.J),username:p,avatar:null!==(m=null===c||void 0===c||null===(h=c.currentUser)||void 0===h?void 0:h.image)&&void 0!==m?m:null},u.set(v.provider,v)),(E=null===c||void 0===c||null===(i=c.currentUser)||void 0===i||null===(o=i.gitHubInfo)||void 0===o?void 0:o.userInfo)&&E.email&&E.username&&bt(c)&&(y={provider:Je.rG.GITHUB,email:E.email,username:E.username,avatar:null!==(g=E.avatarUrl)&&void 0!==g?g:null},u.set(y.provider,y)),r(u),[2]}}))}))).apply(this,arguments)}var St="replit-git-askpass";function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.author,t=e.committer,r={GIT_AUTHOR_NAME:"",GIT_AUTHOR_EMAIL:"",GIT_COMMITTER_NAME:"",GIT_COMMITTER_EMAIL:"",GIT_ASKPASS:St,GIT_PAGER:"",GIT_EDITOR:"",PAGER:"",EDITOR:""};if(n){r.GIT_AUTHOR_NAME=n.username,r.GIT_COMMITTER_NAME=n.username;var i=Tt(n);r.GIT_AUTHOR_EMAIL=i,r.GIT_COMMITTER_EMAIL=i,t&&(r.GIT_COMMITTER_NAME=t.username,r.GIT_COMMITTER_EMAIL=Tt(t))}return r}function Tt(e){if("id"in e)return"".concat(e.id,"-").concat(e.username,"@users.noreply.replit.com");if("email"in e)return e.email;throw new Error("Invalid user")}var Nt=t(12583),At=t(4561),xt=".git";function Dt(e,n,t){var r=function(){if(!o){o=!0;var t=!0;n.watchDir(xt,{onChange:function(){t?t=!1:s()},onMoveOrDelete:function(){o=!1,s()},onError:function(n,t){return e.unrecoverableError(n,t)}})}},o=!1,u=!1,s=function(e,n){var t,r=n.wait,i=n.cooldown,o=n.maxWait,a=null,u=!1,s=bn()((function(n){return a=setTimeout((function(){return a=null}),i),u=!1,t=e.apply(void 0,(0,c.Z)(n))}),r,{maxWait:o}),l=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null!==a?t:(u||(u=!0),s(n))};return l.cancel=function(){null!==a?(clearTimeout(a),a=null):(s.cancel(),u=!1)},l.flush=function(){return null!==a?(clearTimeout(a),a=null,t):s.flush()},l.isPending=function(){return u},l.isInCooldown=function(){return null!==a},l}((function(){return t.emit(Je.dq.FS_CHANGE)}),{wait:1e3,cooldown:5e3,maxWait:5e3});function l(){return l=(0,i.Z)((function(){var t;return(0,a.__generator)(this,(function(i){return t=!0,n.watchDir(Nt.Ql,{onChange:function(e){o||e.find((function(e){return e.filename===xt&&e.type===At.Tv.Directory}))&&(r(),t||s());t&&(t=!1)},onError:function(n,t){return e.unrecoverableError(n,t)}}),[2]}))})),l.apply(this,arguments)}!function(){l.apply(this,arguments)}(),n.onStatusChange((function(e){o&&(e===At.kO.Syncing&&s.isInCooldown()?u=!0:e===At.kO.Clean&&(u||s(),u=!1))}))}var Ct=function(){function e(n,t){(0,x.Z)(this,e),this.cache=new Map,this.lastInvalidation=0,this.ttl=n,this.debounceTime=t}var n=e.prototype;return n.has=function(e){return this.cache.has(e)},n.get=function(e){var n=this.cache.get(e);if(!n)throw new Error("No value found for key: ".concat(e));return n.result},n.set=function(e,n){var t=this,r=this.cache.get(e);r&&(clearTimeout(r.timeout),this.cache.delete(e));var i={result:n,timeout:setTimeout((function(){return t.cache.delete(e)}),this.ttl),pending:!0};n.finally((function(){return i.pending=!1})),this.cache.set(e,i)},n.invalidate=function(){if(!(Date.now()-this.lastInvalidation<this.debounceTime)){var e=new Map,n=!0,t=!1,r=void 0;try{for(var i,o=this.cache[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=(0,R.Z)(i.value,2),u=a[0],s=a[1];s.pending?e.set(u,s):clearTimeout(s.timeout)}}catch(c){t=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}this.cache=e,this.lastInvalidation=Date.now()}},n.clear=function(){var e=!0,n=!1,t=void 0;try{for(var r,i=this.cache.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;clearTimeout(o.timeout)}}catch(a){n=!0,t=a}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}this.cache.clear(),this.lastInvalidation=0},e}(),Ot=t(98059),Lt=/^(fatal: |error: |CONFLICT \([^)]+\): )/im;function Pt(e){return new RegExp("^fatal: ".concat(e.source),"im")}function kt(e){return new RegExp("^error: ".concat(e.source),"im")}var Ft,Ht=[{error:Je.aq.NOT_INITIALIZED,match:[Pt(/not a git repository/)]},{error:Je.aq.UNAUTHENTICATED,match:[Pt(/Authentication failed/),Pt(/unable to access/),Pt(/repository \S+ not found/),Pt(/could not read Username/),Pt(/could not read Password/),Pt(/Could not read from remote/)]},{error:Je.aq.INDEX_FILE_CORRUPT,match:[Pt(/index file corrupt/),Pt(/index file smaller than expected/),kt(/index file .*?\.idx is too small/)]},{error:Je.aq.UNKNOWN_REMOTE,match:[Pt(/No such remote/),kt(/No such remote/)]},{error:Je.aq.INDEX_LOCKED,match:[Pt(/Unable to create .*?\.git\/index\.lock/)]},{error:Je.aq.NO_COMMITS,match:[Pt(/your current branch '.*?' does not have any commits yet/)]},{error:Je.aq.PATH_MATCHED_NO_FILES,match:[Pt(/pathspec '.*?' did not match any files/),Pt(/pathspec '.*?' did not match any file\(s\) known to git/),Pt(/path '.*?' does not exist/),Pt(/path '.*?' exists on disk, but not in/)]},{error:Je.aq.USER_NOT_CONFIGURED,match:[Pt(/unable to auto-detect email address/),Pt(/unable to auto-detect name/),Pt(/empty ident name \(for <.*?>\) not allowed/)]},{error:Je.aq.INVALID_REFERENCE,match:[Pt(/invalid reference: .*?$/),Pt(/'.*?' - not a valid ref/)]},{error:Je.aq.BRANCH_ALREADY_EXISTS,match:[Pt(/A branch named '.*?' already exists/)]},{error:Je.aq.MERGE_CONFLICT,match:[Pt(/Not possible to fast-forward, aborting/),Pt(/refusing to merge unrelated histories/),Pt(/Exiting because of an unresolved conflict/),Pt(/Exiting because of unfinished merge/),kt(/Failed to merge in the changes/),(Ft=/Merge conflict in/,new RegExp("^CONFLICT \\([^\\)]+\\): ".concat(Ft.source),"im"))]},{error:Je.aq.UPSTREAM_NOT_SET,match:[Pt(/The current branch \S+ has no upstream branch/),Pt(/No configured push destination/)]},{error:Je.aq.HEAD_DETACHED,match:[Pt(/HEAD does not point to a branch/),Pt(/ref HEAD is not a symbolic ref/)]},{error:Je.aq.DIRTY_WORKTREE,match:[kt(/Your local changes to the following files would be overwritten/),kt(/The following untracked working tree files would be overwritten/),kt(/\S+ is not possible because you have unmerged files/),kt(/cannot rebase: You have unstaged changes/)]},{error:Je.aq.PUSH_REJECTED,match:[kt(/failed to push some refs to/)]},{error:Je.aq.REMOTE_ALREADY_EXISTS,match:[Pt(/remote .*? already exists/),kt(/remote .*? already exists/)]},{error:Je.aq.INVALID_STATE,match:[Pt(/There is no merge in progress/),Pt(/There is no merge to abort/),Pt(/No rebase in progress/)]}];function Zt(e){if(Lt.test(e)){for(var n=0;n<Ht.length;n++)for(var t=0;t<Ht[n].match.length;t++)if(Ht[n].match[t].test(e))return Ht[n].error;return Je.aq.UNKNOWN}return Je.aq.UNKNOWN_NOT_GIT}var Gt=t(61871);function Ut(e,n,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,i.Z)((function(e,n,t){var r,i,o,u,s,c,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if("open"!==e.status)return[2,{output:"JS Error\nchannel closed before command was run",error:Je.aq.CHANNEL_CLOSED}];a.label=1;case 1:return a.trys.push([1,3,,4]),r="",i=e.onCommand((function(e){null!==e.output&&void 0!==e.output&&(r+=e.output)})),o=void 0,(u=Promise.race([new Promise((function(e){return o=setTimeout(e,9e4)})),e.request({exec:{env:t,args:n,blocking:!0}})])).finally((function(){i(),clearTimeout(o)})),[4,u];case 2:return void 0===(s=a.sent())?(C.c_.withScope((function(e){e.setTag("service","git"),e.setExtra("command",n),e.setExtra("env",t),C.c_.captureException(new Error("Git Request Timeout"))})),[2,{output:r,error:Je.aq.TIMEOUT}]):!s.ok&&s.channelClosed?[2,{output:"JS Error\nchannel closed during command execution",error:Je.aq.CHANNEL_CLOSED}]:s.error||!s.ok?[2,{output:c="".concat(s.error,"\n").concat(r),error:Zt(c)}]:[2,{output:r,error:null}];case 3:return l=a.sent(),C.c_.withScope((function(e){e.setTag("service","git"),e.setExtra("command",n),e.setExtra("env",t),C.c_.captureException(l)})),[2,{output:"JS Error\n".concat(String(l)),error:Je.aq.UNKNOWN_NOT_GIT}];case 4:return[2]}}))}))).apply(this,arguments)}var qt=function(){function e(n){var t=n.container,r=n.getEnv,o=n.awaitPromise,u=this;(0,x.Z)(this,e),this.cache=new Ct(3e4,2e3),this.running=(0,T.u)(!1),this.queue=[],t.openChannel({service:"exec"},(function(e){var n=e.channel,t=function(){var e=(0,i.Z)((function(e,t){var i,u,s;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(0===e.length)throw new Error("Expected at least one command");return o?[4,o]:[3,2];case 1:a.sent(),a.label=2;case 2:return i=Date.now(),u=Array.isArray(e)?e.join(" && "):e,[4,Ut(n,["bash","-c",u],r())];case 3:return s=a.sent(),(0,Ot.J)(e,s,!1,i),s.error?[2,s]:[2,{output:(null===t||void 0===t?void 0:t.verbatim)?s.output:s.output.trim(),error:null}]}}))}));return function(n,t){return e.apply(this,arguments)}}(),s=function(e,n){if(0===e.length)throw new Error("Expected at least one command");var r=Array.isArray(e)?e.join(" && "):e;if(u.cache.has(r)){var i=u.cache.get(r);return i.then((function(n){(0,Ot.J)(e,n,!0)})),i}var o=t(r,n);return u.cache.set(r,o),o},c=function(e,n){return u.cache.clear(),t(e,n)},l=u,f=function(){var e=(0,i.Z)((function(){var e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return l.queue.length>0?"open"!==n.status?[3,7]:(e=l.queue.shift())?"read"!==e.type?[3,2]:[4,e.fn(s)]:[3,6]:[3,7];case 1:return r.sent(),[3,6];case 2:return"write"!==e.type?[3,4]:[4,e.fn(c)];case 3:return r.sent(),[3,6];case 4:return[4,e.fn(t)];case 5:r.sent(),r.label=6;case 6:return[3,0];case 7:return 0===l.queue.length&&l.running.set(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return u.running.current&&f(),u.running.subscribe((function(e){e&&f()}))}))}var n=e.prototype;return n.add=function(e,n){var t=(0,Gt.Z)();return this.queue.push({type:n,fn:function(){var n=(0,i.Z)((function(n){var r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,e(n)];case 1:return r=i.sent(),t.resolve(r),[2]}}))}));return function(e){return n.apply(this,arguments)}}()}),this.running.current||this.running.set(!0),t.promise},n.wrap=function(e,n){var t=this;if("function"!==typeof e)throw new Error("Expected a function");return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.add((function(n){return e.apply(void 0,[n].concat((0,c.Z)(i)))}),n)}},e}();var Bt=t(5218),jt=t(9353),Vt=t(625);function Kt(e){var n=e.runnerMode,t=void 0===n?"shellrunner":n,r=e.onUnrecoverableError,c=e.openFile,f=e.openMultipleFiles,p=e.onFirewallDenied,h=e.channelRequestPriority,N=e.enableUserEvents,A=void 0!==N&&N,x=e.onPresenceCommand,O=(0,u.ZP)({onUnrecoverableError:r,onFirewallDenied:p}),L=function(e){var n=e.container,t=e.enabled,r=e.onEventSent,u=(0,d.ZP)();r&&u.on(Ze.EVENT_SENT,r);var s=null;function c(e,n){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((function(e,r){var i,s,c,l,d,p,h,m,v;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t?[4,f()]:[2];case 1:return c=a.sent(),l=n.getContext(),d=null===l||void 0===l||null===(i=l.currentUser)||void 0===i?void 0:i.id,p=null===l||void 0===l||null===(s=l.repl)||void 0===s?void 0:s.id,h=window.location.href,m=Me((0,o.Z)({userId:d,replId:p,url:h},r)),v={userEvent:{eventName:e,eventData:m}},"open"!==c.status?(C.c_.withScope((function(e){e.setTag("service","user-events"),e.setExtra("command",v),e.setExtra("userId",d),e.setExtra("replId",p),e.setExtra("url",h),e.setExtra("channelId",c.id),C.c_.captureException(new Error("UserEvents channel is not open: ".concat(c.status)))})),[2]):(u.emit(Ze.EVENT_SENT,e,r),c.send(v),[2])}}))}))).apply(this,arguments)}function f(){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){return s?[2,s]:[2,new Promise((function(e){u.once(Ze.CHANNEL_OPENED,(function(n){e(n)}))}))]}))}))).apply(this,arguments)}return c("meta:start",{}),n.openChannel({service:"null",skip:function(){return!t}},(function(e){var n=e.channel;return c("meta:ready",{}),s=n,u.emit(Ze.CHANNEL_OPENED,n),function(){s=null}})),{emit:c}}({container:O,enabled:Boolean(A)}),P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e){m()(a,e)||(a=e,r.emit(E.SESSION_STATE_CHANGED,a))},t=function(e,n){var t=n||a.openFiles.length;if(e<0||e>=t||!Number.isInteger(e))throw new Error("Invalid index: ".concat(e,". Index must be an integer between 0 and ").concat(t))},r=(0,d.ZP)();r.setMaxListeners(1e3);var i=null,a={openFiles:[],activeTab:0};return{onSessionStateChanged:function(e){return r.on(E.SESSION_STATE_CHANGED,e),function(){r.removeListener(E.SESSION_STATE_CHANGED,e)}},onDeeplinkUpdated:function(e){return r.on(E.DEEPLINK_CHANGED,e),i&&(e(i),i=null),function(){r.removeListener(E.DEEPLINK_CHANGED,e)}},openFile:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.openFile)e.openFile({path:r,newTab:i.newTab,newPane:i.newPane,newPaneEdge:i.newPaneEdge,col:i.col,line:i.line});else{var u=i.tabIndex,s=i.newTab;if(void 0===u)if(a.openFiles.includes(r))n((0,g.Z)((0,o.Z)({},a),{activeTab:a.openFiles.indexOf(r)}));else{var c=a.openFiles.slice();if(s){var l=0===c.length?0:a.activeTab+1;return c.splice(l,0,r),void n({openFiles:c,activeTab:l})}var f=a.activeTab;c.splice(f,1,r),n({openFiles:c,activeTab:f})}else{t(u,a.openFiles.length+1);var d=a.openFiles.slice(),p=a.openFiles.indexOf(r);if(-1===p)return d.splice(u,1,r),void n({openFiles:d,activeTab:d.indexOf(r)});if(p===u)return void n((0,g.Z)((0,o.Z)({},a),{activeTab:d.indexOf(r)}));d.splice(p,1),d.splice(u,0,r);var h=d.indexOf(r);n({openFiles:d,activeTab:h})}}},updateDeeplink:function(e){r.emit(E.DEEPLINK_CHANGED,e),i=e},getActiveFile:function(){var e=a.openFiles,n=a.activeTab;if(0!==e.length)return e[n]},getState:function(){return a}}}({openFile:c}),k=(0,w.Z)({container:O,channelRequestPriority:null===h||void 0===h?void 0:h.fs}),F=v({container:O,onCommand:x}),H=(0,z.Z)({container:O,fs:k,channelRequestPriority:null===h||void 0===h?void 0:h.dotReplit}),Z=function(e){var n=e.container,t=(0,d.ZP)(),r=null;function o(){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){return r&&"open"===r.status?[2,r]:[2,new Promise((function(e){t.once(ee.CHANNEL_OPENED,(function(n){e(n)}))}))]}))}))).apply(this,arguments)}function s(){return c.apply(this,arguments)}function c(){return(c=(0,i.Z)((function(){return(0,a.__generator)(this,(function(e){return[2,(0,oe.Y)({container:n,service:"nix"})]}))}))).apply(this,arguments)}n.openChannel({service:"nix"},(function(e){var n=e.channel;return r=n,t.emit(ee.CHANNEL_OPENED,n),function(){r=null}}));var l={searchPackages:function(){var e=(0,i.Z)((function(e){var n,t,r,i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return[4,s()];case 1:return n=R.Z.apply(void 0,[o.sent(),2]),t=n[0],r=n[1],[4,t.request({nixPackageSearchRequest:{query:e}})];case 2:return(i=o.sent()).channelClosed?[2,{error:"Channel closed",packages:null}]:(r(),i.error?[2,{error:i.error,packages:null}]:i.nixPackageSearchResponse?[2,{packages:i.nixPackageSearchResponse.packages,error:null}]:[2,{error:"Response expected but none received",packages:null}])}}))}));return function(n){return e.apply(this,arguments)}}(),listPackages:(0,i.Z)((function(){var e,n,t,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,s()];case 1:return e=R.Z.apply(void 0,[i.sent(),2]),n=e[0],t=e[1],[4,n.request({nixPackageListRequest:{}})];case 2:return(r=i.sent()).channelClosed?[2,{error:"Channel closed",packages:null}]:(t(),r.error?[2,{error:r.error,packages:null}]:r.nixPackageListResponse?[2,{packages:r.nixPackageListResponse.packages,error:null}]:[2,{error:"Response expected but none received",packages:null}])}}))})),getChannels:(0,i.Z)((function(){var e,n,t,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,s()];case 1:return e=R.Z.apply(void 0,[i.sent(),2]),n=e[0],t=e[1],[4,n.request({nixChannelsRequest:{}})];case 2:return(r=i.sent()).channelClosed?[2,{error:"Channel closed",channels:null}]:(t(),r.error?[2,{error:r.error,channels:null}]:r.nixChannelsResponse?[2,{channels:r.nixChannelsResponse.channels,error:null}]:[2,{error:"Response expected but none received",channels:null}])}}))})),getLatestStableChannel:(0,i.Z)((function(){var e,n,t,r;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,s()];case 1:return e=R.Z.apply(void 0,[i.sent(),2]),n=e[0],t=e[1],[4,n.request({nixChannelLatestStableRequest:{}})];case 2:return(r=i.sent()).channelClosed?[2,{error:"Channel closed",channel:null}]:(t(),r.error?[2,{error:r.error,channel:null}]:r.nixChannelLatestStableResponse?[2,{channel:r.nixChannelLatestStableResponse.channel,error:null}]:[2,{error:"Response expected but none received",channel:null}])}}))})),addPackages:function(){var e=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,o()];case 1:return[4,t.sent().request({nixPackageAddRequest:{packages:e}})];case 2:return(n=t.sent()).channelClosed?[2,"channel closed"]:n.error?[2,n.error]:n.nixPackageAddResponse?[2,null]:[2,"response expected but non received"]}}))}));return function(n){return e.apply(this,arguments)}}(),removePackages:function(){var e=(0,i.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,o()];case 1:return[4,t.sent().request({nixPackageRemoveRequest:{packages:e}})];case 2:return(n=t.sent()).channelClosed?[2,"channel closed"]:n.error?[2,n.error]:n.nixPackageRemoveResponse?[2,null]:[2,"response expected but non received"]}}))}));return function(n){return e.apply(this,arguments)}}()};return l}({container:O}),G=(0,s.Z)({container:O,dotReplit:H}),U=function(e){var n=e.container,t=e.fs,r=e.openMultipleFiles,o=new Set,u=!1,s=null;return n.openChannel({service:"open"},(function(e){e.channel.onCommand((function(e){if("replspaceApiOpenMultipleFiles"===e.body){if(!e.replspaceApiOpenMultipleFiles)throw new Error("Expected replspaceApiOpenMultipleFiles");var n=e.replspaceApiOpenMultipleFiles.files;if(!r||0===n.length)return;ie(),r({paths:n})}}))})),n.openChannel({service:"git"},(function(e){var n=e.channel;return n.onCommand(function(){var e=(0,i.Z)((function(e){var i,c,l,f,d,p,h,m,v,E,g,y,w,b,_,I;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:switch(e.body){case"replspaceApiOpenFile":return[3,1];case"replspaceApiGetGitHubToken":return[3,7]}return[3,9];case 1:if(!e.replspaceApiOpenFile)throw new Error("Expected replspaceApiOpenFile");return i=e.replspaceApiOpenFile,c=i.file,l=i.waitForClose,f=i.nonce,r?[3,3]:c.endsWith(".git/COMMIT_EDITMSG")?(d=window.prompt("Enter a commit message"),[4,t.writeFile(c,null!==d&&void 0!==d?d:"")]):(l&&n.send({replspaceApiCloseFile:{file:c,nonce:f}}),window.alert("tried to open ".concat(c," but failed")),[2]);case 2:return a.sent(),l?[3,5]:[2];case 3:return ie(),r({paths:[c]}),l&&s?[4,s(c)]:[2];case 4:a.sent(),a.label=5;case 5:return[4,t.flush()];case 6:return a.sent(),"open"!==n.status||n.send({replspaceApiCloseFile:{file:c,nonce:f}}),[2];case 7:if(!e.replspaceApiGetGitHubToken)throw new Error("Expected replspaceApiGetGitHubToken");return p=function(){var t;"open"===n.status&&n.send({replspaceApiGitHubToken:{token:"",nonce:null===(t=e.replspaceApiGetGitHubToken)||void 0===t?void 0:t.nonce}})},[4,te()];case 8:if(null==(h=a.sent()).gitHubInfo)return p(),[2];if(!o.size)return p(),D.kg.error("Got a replspaceApiGetGitHubToken command but no confirm listener is set up"),[2];if(m=function(){var t,r;"open"===n.status&&n.send({replspaceApiGitHubToken:{token:null===(t=h.gitHubInfo)||void 0===t?void 0:t.accessToken,nonce:null===(r=e.replspaceApiGetGitHubToken)||void 0===r?void 0:r.nonce}})},u)return m(),[2];v=!1,E=function(){var e=!0,n=!1,t=void 0;try{for(var r,i=o[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)(0,r.value)(null)}catch(a){n=!0,t=a}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}},g=!0,y=!1,w=void 0;try{for(b=o[Symbol.iterator]();!(g=(_=b.next()).done)&&(I=_.value,!v);g=!0)I((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!v){if(v=!0,!e)return p(),void E();n&&(u=e),m(),E()}}))}catch(S){y=!0,w=S}finally{try{g||null==b.return||b.return()}finally{if(y)throw w}}a.label=9;case 9:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()),function(){}})),{onConfirmSendToken:function(e){var n=function(n){return e(n)};return o.add(n),function(){o.delete(n)}},setWaitForFileClose:function(e){s=e}}}({container:O,fs:k,openMultipleFiles:f}),M=function(){var e=(0,i.Z)((function(e,n){var r,i,u,s,c,f,d,p,h,m,v;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return r=q.configs.current,L.emit("user:run:prerun",(0,o.Z)({runnerMode:t},n)),[4,k.flush({consistency:l.api.Flush.Consistency.Disk})];case 1:if(a.sent(),e&&e("prerun flush finished"),!(null===r||void 0===r?void 0:r.packagers))return[3,9];i=!0,u=!1,s=void 0,a.label=2;case 2:a.trys.push([2,7,8,9]),c=r.packagers[Symbol.iterator](),a.label=3;case 3:return(i=(f=c.next()).done)?[3,6]:(d=f.value).guessImports?[4,G.installPackages(d.id)]:[3,5];case 4:p=a.sent(),e&&(p.error?e("prerun packager install finished",{packagerId:d.id,language:d.language,errorMessage:p.error,success:!1}):(h=p.value||[],m=h.length,e("prerun packager install finished",{packagerId:d.id,language:d.language,guessedPkgs:h,guessedPkgsCount:m,guessedAnyPkgs:m>0,success:!0}),(0,Vt.j)(jt.U3.PACKAGER_PACKAGES_GUESSED,{packages:h}))),a.label=5;case 5:return i=!0,[3,3];case 6:return[3,9];case 7:return v=a.sent(),u=!0,s=v,[3,9];case 8:try{i||null==c.return||c.return()}finally{if(u)throw s}return[7];case 9:return L.emit("user:run:initiate",{}),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),q=(0,Bt.Z)({container:O,dotReplit:H}),B=(0,y.Z)({mode:t,container:O,toolchain:q,beforeRun:M,packager:G}),j=function(e){var n=e.container,t=e.beforeRun,r=(0,T.u)(null);return{mainClient:r,connect:function(){return new Promise((function(e){r.current||n.openChannel({service:"debugger"},(function(n){return r.current=W({channel:n.channel,beforeRun:t}),e(null),function(){r.current=null}}))}))}}}({container:O,beforeRun:M}),V=function(e){var n,t=e.container,r=(0,d.ZP)(),o=new Promise((function(e){return n=e})),u=null,s=new Map;return t.openChannel({service:"chat",name:"broadcaster"},(function(e){var t=e.channel,i=e.context;return i.currentUser&&(u=i.currentUser.username),t.onCommand((function(e){if("chatMessage"===e.body){var n=e.chatMessage;if(!n||!n.username||!n.text)throw new Error("unexpected broadcast without a message");r.emit(S.MESSAGE_RECEIVED,{text:n.text,username:n.username})}})),n(t),function(){o=new Promise((function(e){return n=e}))}})),{broadcastMessage:function(e,n){var t=n.text;return(0,i.Z)((function(){var n,r,i,c,l,f,d,p,h,m;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,o];case 1:if(n=a.sent(),!u)throw new Error("Cannot broadcast without as username. Is currentUser in context?");r={text:t,username:u},i=!0,c=!1,l=void 0;try{for(f=s[Symbol.iterator]();!(i=(d=f.next()).done);i=!0)p=(0,R.Z)(d.value,2),h=p[0],m=p[1],h!==e&&m(r)}catch(v){c=!0,l=v}finally{try{i||null==f.return||f.return()}finally{if(c)throw l}}return n.send({chatMessage:r}),[2]}}))}))()},onBroadcastReceived:function(e,n){return s.set(e,n),r.on(S.MESSAGE_RECEIVED,n),function(){r.removeListener(S.MESSAGE_RECEIVED,n),s.delete(e)}}}}({container:O}),K=function(e){var n=e.container,t=e.fs,r=function(e){o!==e&&(o=e,i.emit(_e.ON_CLIENT,o))},i=(0,d.ZP)(),o=null,a=!1,u=0,s=null,c=function(){r(null)},f=!1,p={start:function(){f||(f=!0,c=n.openChannel({service:"lsp",skip:function(e){if(e.repl.language.startsWith("nix")||e.repl.language.startsWith("html"))return!0;var n=se.Z.get(e.repl.language).entrypoint;return!(0,me.D)(n,e.repl.language)||!se.Z.supportsLSP(e.repl.language)}},(function(e){var i=e.channel,o=e.context,c=!1,f=function(){},d=se.Z.get(o.repl.language).entrypoint,h=(0,me.D)(d,o.repl.language);if(!h)throw new Error("Expected languageId");var m=be({connection:{read:function(e){"open"===i.status&&i.onCommand((function(n){n.output&&e(n.output)}))},write:function(e){"open"===i.status&&i.send({input:e})},didClose:function(){return"open"!==i.status}},clientId:"legacy-"+h,isSupportedFile:function(e){var n=(0,me.D)(e,h);return n===h||!(!Se.includes(h)||!Se.includes(n||""))},applyWorkspaceEdit:function(e){var n=e.edit;return(0,Ie.w)({edit:n,fs:t,client:m})}});n.exec("pwd").then((function(e){if(!c){var n=e.output?e.output.replace(/\n/,""):null;if(!n)throw new Error("Expected pwd");if(!m)throw new Error("Expected client");m.initialize({pwd:n}),f=m.onServerStateChange((function(e){c||e===ue.a.INITIALIZED&&r(m)}))}}));var v=i.onCommand((function(e){e.output||e.state===l.api.State.Stopped&&(D.kg.error("LSP server unexpectedly disconnected",{lspId:h,appService:"lsp"}),u++,p.stop(),s=setTimeout((function(){return p.start()}),1e3*Math.pow(2,u)))}));return function(){m&&(m.destroy(),r(null)),c=!0,f(),v(),a&&(a=!1)}})))},getClient:function(){return(null===o||void 0===o?void 0:o.getServerState())===ue.a.EXITED?null:o},onClient:function(e){return(0,d.NH)(i,_e.ON_CLIENT,e)},stop:function(){if(a=!0,f=!1,null!==s&&clearTimeout(s),o){var e=o.onServerStateChange((function(n){n===ue.a.EXITED&&(e(),c())}));return o.destroy(),void r(null)}c()}};return p}({container:O,fs:k}),J=function(e){var n=e.container,t=e.toolchain,r=e.allowNonNix,o=void 0!==r&&r,u=e.fs,s=function(e){var n=v[e];if(!n)throw new Error("LSPNix: removeLanguage called with lspId never configured");var t=n.client;if(t){n.client=null,t.destroy();var r=!0,i=!1,o=void 0;try{for(var a,u=h[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=(0,R.Z)(a.value,2),c=s[0],l=s[1];if(m.get(c)===t){m.delete(c);var f=!0,d=!1,p=void 0;try{for(var E,g=l[Symbol.iterator]();!(f=(E=g.next()).done);f=!0)(0,E.value)(null)}catch(y){d=!0,p=y}finally{try{f||null==g.return||g.return()}finally{if(d)throw p}}}}}catch(y){i=!0,o=y}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}n.closeChannel(),delete v[e]},c=function(e,n){if(v[e])throw new Error("LSPNix: addLanguage called with lspId already configured");v[e]={client:null,option:n,closeChannel:function(){}},E&&y(e)},f=function(e){if(!E)return!1;var n=v[e];return!!n&&!n.client},d=function(e,n,t){if((new Date).getTime()-t.getTime()<5e3)if(n<3){var r=1e3*Math.pow(2,n);setTimeout((function(){f(e)&&y(e,n+1)}),r)}else D.kg.error("LSP server is crash-looping. Giving up.",{lspId:e,appService:"lspnix"});else setTimeout((function(){f(e)&&y(e)}))},p=function(e){var n=null===e||void 0===e?void 0:e.languageServers;if(n&&0!==n.length){var t={},r=!0,i=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var l=a.value;t[l.id]=l}}catch(O){i=!0,o=O}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var f=!0,d=!1,p=void 0;try{for(var h,m=Object.keys(v)[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){var E=h.value;t[E]||s(E)}}catch(O){d=!0,p=O}finally{try{f||null==m.return||m.return()}finally{if(d)throw p}}var g=!0,y=!1,w=void 0;try{for(var b,_=Object.keys(t)[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var I=b.value,S=v[I],R=t[I];S?ke(S.option,R)||(s(I),c(I,R)):c(I,R)}}catch(O){y=!0,w=O}finally{try{g||null==_.return||_.return()}finally{if(y)throw w}}}else{var T=!0,N=!1,A=void 0;try{for(var x,D=Object.keys(v)[Symbol.iterator]();!(T=(x=D.next()).done);T=!0){var C=x.value;s(C)}}catch(O){N=!0,A=O}finally{try{T||null==D.return||D.return()}finally{if(N)throw A}}}},h=new Map,m=new Map,v={},E=!0,g=new Map;function y(e){return w.apply(this,arguments)}function w(){return w=(0,i.Z)((function(e){var t,r,s,c,f,p,y,w,b=arguments;return(0,a.__generator)(this,(function(_){switch(_.label){case 0:if(t=b.length>1&&void 0!==b[1]?b[1]:0,!E)throw new Error("LSPNix: Called startClient while not enabled");if(!v[e])throw new Error("LSPNix: No config found for lspId: ".concat(e));return g.get(e)?[4,g.get(e)]:[3,2];case 1:if(_.sent())return[2];_.label=2;case 2:if(r=v[e],s=r.client,r.closeChannel,c=r.option,s)throw new Error("LSPNix: A previous client is already set for language: ".concat(e));return f=function(){},p=new Promise((function(e){f=e})),g.set(e,p),y=[],w=n.openChannel({service:"lsp2",skip:function(e){if(o)return!1;var n=e.repl.language,t=n.startsWith("nix")||n.startsWith("html");return t||f(null),!t}},(function(r){var o=r.channel,s=null,p=function(){var n,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(f(null),g.delete(e)),y.forEach((function(e){return e()})),null===s||void 0===s||s.destroy(),(null===(n=v[e])||void 0===n?void 0:n.client)===s&&(v[e].client=null),t&&E||w();var r=!0,i=!1,o=void 0;try{for(var a,u=h[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=(0,R.Z)(a.value,2),l=c[0],d=c[1];if(m.get(l)===s){m.delete(l);var p=!0,b=!1,_=void 0;try{for(var I,S=d[Symbol.iterator]();!(p=(I=S.next()).done);p=!0){(0,I.value)(null)}}catch(T){b=!0,_=T}finally{try{p||null==S.return||S.return()}finally{if(b)throw _}}}}}catch(T){i=!0,o=T}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}};if("open"===o.status){var b=new Date;return o.request({startLSP:{languageServerId:e}}).then((function(r){if(r.ok){if(E&&v[e]){y.push(o.onCommand((function(n){if(n.state===l.api.State.Stopped){if(D.kg.error("LSP server unexpectedly disconnected",{lspId:e,appService:"lspnix"}),p(),!E)return;d(e,t,b)}})));var w=0;Fe(n,(function(){return w++<5&&E&&ke(v[e].option,c)&&"open"===o.status})).then((function(n){var t;if(ke(v[e].option,c))if("open"===o.status)if(n.error){var r;D.kg.error("LSPNix: failed to get working directory",{lspId:e,appService:"lspnix",originalError:null===(r=n.error)||void 0===r?void 0:r.message})}else{var l;if(s=be({connection:{read:function(e){"open"===o.status&&o.onCommand((function(n){n.output&&e(n.output)}))},write:function(e){"open"===o.status?o.send({input:e}):(null===s||void 0===s?void 0:s.isDestroyed())&&D.kg.error("LSPNix: tried to write to channel but the lsp client is already destroyed")},didClose:function(){return"open"!==o.status}},clientId:e,isSupportedFile:function(e){return Pe(e,c)},applyWorkspaceEdit:function(e){var n=e.edit;return s?(0,Ie.w)({edit:n,fs:u,client:s}):{applied:!1}},getWorkspaceConfiguration:function(){var e;if(!(null===(e=c.config)||void 0===e?void 0:e.configurationJson))return null;var n=null;try{n=JSON.parse(c.config.configurationJson)}catch(t){D.kg.error("Failed to parse LSP workspace configuration",{configurationJson:c.config.configurationJson})}return n}}),null===(t=c.config)||void 0===t?void 0:t.initializationOptionsJson)try{l=JSON.parse(c.config.initializationOptionsJson)}catch(E){D.kg.error("Failed to parse LSP initializationOptions",{initializationOptionsJson:c.config.initializationOptionsJson})}var d=s.initialize({pwd:n.workingDirectory,initializationOptions:l}).catch((function(n){if("Initialize request cancelled"!==(null===n||void 0===n?void 0:n.message))throw D.kg.error("LSPNix: failed to initialize client",{lspId:e,appService:"lspnix",originalError:null===n||void 0===n?void 0:n.message}),n}));y.push(s.onServerStateChange(function(){var n=(0,i.Z)((function(n){var t,r,i,u,l,E,y,w,b,_,I,S,T;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return"open"!==o.status?(D.kg.info("LSPNix: channel wasn't open on state change",{lspId:e,appService:"lspnix",state:n}),p(),[2]):s?ke(v[e].option,c)?n===ue.a.EXITED?(D.kg.info("LSP server exited via 'exit' notification",{lspId:e,appService:"lspnix"}),p(),[2]):n!==ue.a.INITIALIZED?[2]:[4,d]:(D.kg.info("LSPNix: configuration changed and received state change",{lspId:e,appService:"lspnix",state:n}),p(),[2]):(D.kg.info("LSPNix: client was null on state change. This should never happen",{lspId:e,appService:"lspnix",state:n}),p(),[2]);case 1:if(a.sent(),"open"!==o.status)return D.kg.info("LSPNix: channel wasn't open after initialization",{lspId:e,appService:"lspnix"}),p(),[2];f(s),g.delete(e),v[e].client=s,t=!0,r=!1,i=void 0;try{for(u=h[Symbol.iterator]();!(t=(l=u.next()).done);t=!0)if(E=(0,R.Z)(l.value,2),y=E[0],w=E[1],Pe(y,c)&&!m.has(y)){m.set(y,s),b=!0,_=!1,I=void 0;try{for(S=w[Symbol.iterator]();!(b=(T=S.next()).done);b=!0)(0,T.value)(s)}catch(N){_=!0,I=N}finally{try{b||null==S.return||S.return()}finally{if(_)throw I}}}}catch(N){r=!0,i=N}finally{try{t||null==u.return||u.return()}finally{if(r)throw i}}return[2]}}))}));return function(e){return n.apply(this,arguments)}}()))}else D.kg.error("LSPNix: channel wasn't open after getting working directory",{lspId:e,appService:"lspnix"});else D.kg.info("LSPNix: configuration changed while getting working directory",{lspId:e,appService:"lspnix"})}))}}else D.kg.error("LSP server failed to start",{lspId:e,appService:"lspnix",serverError:r.error})})),function(e){var n=e.willReconnect;p(n)}}D.kg.error("LSPNix got a channel that wasn't open. This is expected to be impossible.",{lspId:e,appService:"lspnix"})})),v[e].closeChannel=w,[2]}}))})),w.apply(this,arguments)}function b(){return(b=(0,i.Z)((function(){var e;return(0,a.__generator)(this,(function(n){try{e=t.configs.current,p(e),t.configs.subscribe(p)}catch(r){D.kg.error("LSP initialization failed: "+r.message)}return[2]}))}))).apply(this,arguments)}return function(){b.apply(this,arguments)}(),{disable:function(){if(E){E=!1;var e=!0,n=!1,t=void 0;try{for(var r,i=Object.values(v)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o,a=r.value;a.closeChannel(),null===(o=a.client)||void 0===o||o.destroy(),a.client=null;var u=!0,s=!1,c=void 0;try{for(var l,f=h[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var d=(0,R.Z)(l.value,2),p=d[0],g=d[1];if(m.has(p)){m.delete(p);var y=!0,w=!1,b=void 0;try{for(var _,I=g[Symbol.iterator]();!(y=(_=I.next()).done);y=!0)(0,_.value)(null)}catch(S){w=!0,b=S}finally{try{y||null==I.return||I.return()}finally{if(w)throw b}}}}}catch(S){s=!0,c=S}finally{try{u||null==f.return||f.return()}finally{if(s)throw c}}}}catch(S){n=!0,t=S}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}},enable:function(){if(!E){E=!0;var e=!0,n=!1,t=void 0;try{for(var r,i=Object.keys(v)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0)y(r.value)}catch(o){n=!0,t=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}},onClient:function(e,n){var t;h.has(e)||h.set(e,[]),null===(t=h.get(e))||void 0===t||t.push(n);var r=m.get(e);if(r)n(r);else{var i=!0,o=!1,a=void 0;try{for(var u,s=Object.values(v)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;if(Pe(e,c.option)){c.client&&n(c.client);break}}}catch(l){o=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}return function(){var t,r=null!==(t=h.get(e))&&void 0!==t?t:[];h.set(e,r.filter((function(e){return e!==n})))}}}}({container:O,toolchain:q,fs:k}),Y=xe({container:O,beforeRun:M}),$=function(e){var n=e.container,t=e.fs,r=e.provideProfiles,o=void 0===r?_t:r,u=(0,d.ZP)();u.setMaxListeners(1/0);var s=Rt(),c=!1,l=new Map,f=null,p=n.getContext(),h=function(){var e=(0,i.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return[4,o({defaultUsername:null===p||void 0===p||null===(n=p.currentUser)||void 0===n?void 0:n.username,defaultUserId:null===p||void 0===p||null===(t=p.currentUser)||void 0===t?void 0:t.id,onProfiles:function(n){var t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=(0,R.Z)(o.value,2),c=s[0],d=s[1];l.set(c,d),u.emit(Je.dq.NEW_PROFILE)}}catch(m){r=!0,i=m}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}n.has(Je.rG.GITHUB)||l.delete(Je.rG.GITHUB);var p=l.get(Je.rG.REPLIT_DEFAULT),h=l.get(Je.rG.GITHUB);if(f&&!e&&(e=f.provider),e===Je.rG.GITHUB&&h)f=h;else{if(!p)return;f=p}u.emit(Je.dq.CHANGED_PROFILE)}})];case 1:return[2,r.sent()]}}))}));return function(n){return e.apply(this,arguments)}}(),m=h(Je.rG.GITHUB),v=new qt({container:n,getEnv:function(){return s},awaitPromise:m});return u.on(Je.dq.FS_CHANGE,(function(){return v.cache.invalidate()})),u.on(Je.dq.FORCED_REFRESH,(function(){return v.cache.invalidate()})),u.on(Je.dq.NEW_PROFILE,(function(){return v.cache.invalidate()})),u.on(Je.dq.CHANGED_PROFILE,(function(){return v.cache.invalidate()})),u.on(Je.dq.CHANGED_PROFILE,(function(){null!=f&&(s=Rt({author:{username:f.username,email:f.email}}))})),{getProfiles:function(){return Array.from(l.values())},hasProfile:function(e){return l.has(e)},getProfile:function(e){var n=l.get(e);if(!n)throw new Error("Fetched a profile that has not been setup!");return n},addProfile:function(e){l.set(e.provider,e),u.emit(Je.dq.NEW_PROFILE)},getCurrentProfile:function(){return f},setCurrentProfile:function(e){var n=l.get(e);if(!n)throw new Error("Can't set a non-existent profile!");f=n,s=Rt({author:{username:n.username,email:n.email}}),u.emit(Je.dq.CHANGED_PROFILE)},onProfileAdded:function(e){var n=function(){var n=Array.from(l.values());e(n)};return u.on(Je.dq.NEW_PROFILE,n),function(){u.off(Je.dq.NEW_PROFILE,n)}},onCurrentProfileChanged:function(e){var n=function(){e(f)};return u.on(Je.dq.CHANGED_PROFILE,n),function(){u.off(Je.dq.CHANGED_PROFILE,n)}},refreshProfiles:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preferredProvider;return h(e)},onRefresh:function(e){c||(Dt(n,t,u),c=!0);var r=function(){return e(Je.dq.FS_CHANGE)},i=function(){return e(Je.dq.FORCED_REFRESH)},o=function(){return e(Je.dq.NEW_PROFILE)},a=function(){return e(Je.dq.CHANGED_PROFILE)};return u.on(Je.dq.FS_CHANGE,r),u.on(Je.dq.FORCED_REFRESH,i),u.on(Je.dq.NEW_PROFILE,o),u.on(Je.dq.CHANGED_PROFILE,a),function(){u.off(Je.dq.FS_CHANGE,r),u.off(Je.dq.FORCED_REFRESH,i),u.off(Je.dq.NEW_PROFILE,o),u.off(Je.dq.CHANGED_PROFILE,a)}},forceRefresh:function(){u.emit(Je.dq.FORCED_REFRESH)},isBusy:function(){return v.running.current},onBusyChange:function(e){var n=!1,t=bn()(e,200);return v.running.subscribe((function(e){n&&!e?(t(!1),n=!1):!n&&e&&(t(!0),n=!0)}))},init:v.wrap(Wn,"write"),isInitialized:v.wrap(zn,"read"),lsFiles:v.wrap(it,"read"),status:v.wrap(En.Z,"read"),log:v.wrap(nt,"read"),findDefaultBranches:v.wrap(Fn,"read"),listBranches:v.wrap(Zn.ZP,"read"),stageFiles:v.wrap(ht,"write"),commit:v.wrap(Rn,"write"),switchBranch:v.wrap(Nn,"write"),branchExists:v.wrap(on,"read"),createBranch:v.wrap(xn,"write"),getRemotes:v.wrap(Bn,"read"),fetch:v.wrap(Cn,"write"),canMergeBranches:v.wrap(sn,"read"),pull:v.wrap(at.Z,"write"),push:v.wrap(ut,"write"),getRepositoryState:v.wrap(We.ZP,"read"),getFileContents:v.wrap(Mn,"read"),addRemote:v.wrap(_n,"write"),removeRemote:v.wrap(ct,"write"),setRemoteURL:v.wrap(ft,"write"),getBranch:v.wrap(Gn,"read"),restoreFiles:v.wrap(gn,"write"),lastFetched:v.wrap(en,"read"),merge:v.wrap(fn,"write"),mergeContinue:v.wrap(mn,"write"),mergeAbort:v.wrap(pn,"write"),getConflictingFiles:v.wrap(Ve,"read"),getMergingRefs:v.wrap($e,"read")}}({container:O,fs:k}),X=function(e){var n,t=e.container,r=e.nixService;function o(e){return u.apply(this,arguments)}function u(){return u=(0,i.Z)((function(e){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return e&&(n=void 0),n||(n=new Promise(function(){var e=(0,i.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return[4,r.listPackages()];case 1:return(null===(t=i.sent())||void 0===t||null===(n=t.packages)||void 0===n?void 0:n.some((function(e){return"pkgs.postgresql"===e.name})))?[3,3]:[4,r.addPackages(["pkgs.postgresql"])];case 2:return i.sent(),e(),[3,4];case 3:e(),i.label=4;case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}())),[4,n];case 1:return t.sent(),[2]}}))})),u.apply(this,arguments)}return{ensureNixPsqlPackageInstalled:o,run:function(){var e=(0,i.Z)((function(e){var n,r,i,u,s,c,f,d,p,h,m,v,E;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=e.query,r=e.connectionString,[4,o()];case 1:a.sent(),i=(0,b.Z)({container:t}),u=[],s=null,c=new I.t((function(e){return u.push(e)})),f=null,d=!1,p=new Promise((function(e){var n=i.onStateChanged((function(t){var r=t.state,i=t.stderrBuffer;r!==l.api.State.Running?d&&(f=i,n(),e()):d=!0}))})),i.onOutput((function(e){try{c.process(e)}catch(n){s||(s=n,_.Tb(n,(function(n){return n.setExtra("chunk",e)})))}})),a.label=2;case 2:return a.trys.push([2,,5,6]),[4,i.request({args:["psql",r,"--csv","--command",n],splitStderr:!0})];case 3:return h=a.sent(),[4,p];case 4:return a.sent(),h.error&&!f&&(f=h.error),c.flush(),[3,6];case 5:return i.dispose(),[7];case 6:return f?[2,{columns:c.headers(),rows:u,error:f}]:s?(m=s.message,[2,{columns:null!==(v=c.headers())&&void 0!==v?v:[],rows:u,error:m}]):[2,{columns:null!==(E=c.headers())&&void 0!==E?E:[],rows:u,error:null}]}}))}));return function(n){return e.apply(this,arguments)}}()}}({container:O,nixService:Z});return{session:P,presence:F,packager:G,container:O,fs:k,runner:B,debuggest:j,broadcast:V,dotReplit:H,nixService:Z,lsp:K,lspnix:J,iotester:Y,git:$,psql:X,userEvents:L,replspaceApi:U,toolchain:q}}},12404:function(e,n,t){t.d(n,{ZP:function(){return f},y5:function(){return i},yG:function(){return r}});var r,i,o=t(57135),a=t(96583),u=t(73377);function s(e){switch(e){case r.NOT_INITIALIZED:case r.ON_UNBORN_BRANCH:return i.INITIALIZING;case r.MERGING:case r.REBASING:case r.REVERTING:case r.CHERRY_PICKING:case r.APPLYING_MAILBOX:case r.BISECTING:return i.INTERMEDIATE;case r.DIRTY_WORKTREE:case r.DIRTY_INDEX:case r.CLEAN:return i.NORMAL;case r.DETACHED_HEAD:return i.DETACHED_HEAD}}function c(e,n){return"{ ".concat(e,"; } > /dev/null 2>&1 && echo -n '").concat(n,"' && exit 0")}!function(e){e.NOT_INITIALIZED="NOT_INITIALIZED",e.ON_UNBORN_BRANCH="ON_UNBORN_BRANCH",e.MERGING="MERGING",e.REBASING="REBASING",e.REVERTING="REVERTING",e.CHERRY_PICKING="CHERRY_PICKING",e.APPLYING_MAILBOX="APPLYING_MAILBOX",e.BISECTING="BISECTING",e.DIRTY_WORKTREE="DIRTY_WORKTREE",e.DIRTY_INDEX="DIRTY_INDEX",e.CLEAN="CLEAN",e.DETACHED_HEAD="DETACHED_HEAD"}(r||(r={})),function(e){e.INITIALIZING="INITIALIZING",e.INTERMEDIATE="INTERMEDIATE",e.NORMAL="NORMAL",e.DETACHED_HEAD="DETACHED_HEAD"}(i||(i={}));var l=[c("! git rev-parse --is-inside-work-tree",r.NOT_INITIALIZED),c('[ "$(! git rev-parse HEAD -- 2>&1)" = "fatal: bad revision \'HEAD\'" ]',r.ON_UNBORN_BRANCH),c("git rev-parse -q --verify MERGE_HEAD",r.MERGING),c("[ -d '.git/rebase-apply' ] && [ -f '.git/rebase-apply/applying' ]",r.APPLYING_MAILBOX),c("[ -d '.git/rebase-apply' ] || [ -d '.git/rebase-merge' ]",r.REBASING),c("git rev-parse -q --verify REVERT_HEAD",r.REVERTING),c("git rev-parse -q --verify CHERRY_PICK_HEAD",r.CHERRY_PICKING),c("[ -f '.git/BISECT_LOG' ]",r.BISECTING),c("! git symbolic-ref -q HEAD",r.DETACHED_HEAD),"git update-index -q --refresh > /dev/null || exit $?",c('{ ! git diff-files --quiet; } || [ -n "$(git ls-files --others --exclude-standard)" ]',r.DIRTY_WORKTREE),c("! git diff-index --cached --quiet HEAD --",r.DIRTY_INDEX),'echo -n "CLEAN"'].join(";");function f(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)((function(e){var n,t,i;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return[4,e(l)];case 1:return(n=o.sent()).error?[2,n]:n.output in r?(t=n.output,i=s(t),[2,{state:t,type:i,error:null}]):[2,{error:u.aq.UNKNOWN}]}}))}))).apply(this,arguments)}},32985:function(e,n,t){t.d(n,{CH:function(){return v},Dc:function(){return f},GE:function(){return d},LY:function(){return p},Pi:function(){return E},Qj:function(){return m},bF:function(){return h},dC:function(){return l}});var r=t(2272),i=t(73299),o=t(47711),a=t(85281),u=/[~^:?*[\\\0-\x20\x7F]/,s=/^(([A-Za-z0-9]+@|http(|s):\/\/)|(http(|s):\/\/[A-Za-z0-9]+@))([A-Za-z0-9.]+(:\d+)?)(?::|\/)([\d/\w.-]+?)$/,c=new RegExp([u,/^$/,/^\//,/\/$/,/\.lock$/,/\/{2,}/,/^\./,/\.$/,/\/\./,/\.\./,/@\{/,/^@$/,/^-/].map((function(e){return"(?:".concat(e.source,")")})).join("|"));function l(e){return 0===e.length||!u.test(e)}function f(e){return!c.test(e)}function d(e){return!c.test(e)}function p(e){return s.test(e)}function h(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"===typeof e?(0,i.C)(e):"commit"in e?e.type===a.HO.LOCAL||n&&e.type===a.HO.TRACKED?e.name:"".concat(e.remote,"/").concat(e.name):e.name}function m(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"===typeof e)return e;if("commit"in e)return e.type===a.HO.LOCAL||n&&e.type===a.HO.TRACKED?"refs/heads/".concat(e.name):"refs/remotes/".concat(e.remote,"/").concat(e.name);if(e.type===o.l.BRANCH)return"refs/heads/".concat(e.name);if(e.type===o.l.REMOTE_BRANCH)return"refs/remotes/".concat(e.remote,"/").concat(e.branch);throw new Error("Unknown branch object")}function v(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"===typeof e){if(n&&!e.startsWith("refs/remotes/"))return null;var t=(0,r.Z)((0,i.Tg)(e),1),u=t[0];return u}if("commit"in e)return n&&e.type!==a.HO.REMOTE?null:e.remote;if(e.type===o.l.BRANCH)return null;if(e.type===o.l.REMOTE_BRANCH)return e.remote;throw new Error("Unknown branch object")}function E(e,n){return e===n||null!==e&&null!==n&&m(e)===m(n)}},47711:function(e,n,t){t.d(n,{L:function(){return d},l:function(){return r}});var r,i=t(2272),o=t(55749),a="HEAD -> ",u="refs/heads/",s="refs/remotes/",c="tag: ",l="refs/tags/",f=/^refs\/remotes\/([^/]+)\/HEAD$/;function d(e){switch(function(e){return"HEAD"===e||"refs/HEAD"===e||e.startsWith(a)?r.HEAD:e.startsWith(u)?r.BRANCH:e.startsWith(s)?f.test(e)?r.REMOTE_HEAD:r.REMOTE_BRANCH:e.startsWith(l)||e.startsWith(c)?r.TAG:r.BRANCH}(e)){case r.HEAD:return e.startsWith(a)?e.endsWith("(detached)")?{type:r.HEAD,name:"HEAD",detached:!0,ref:null}:{type:r.HEAD,name:"HEAD",detached:!1,ref:d(e.slice(a.length))}:{type:r.HEAD,name:"HEAD",detached:!1,ref:null};case r.REMOTE_HEAD:var n=e.slice(s.length),t=(0,i.Z)(n.split("/"),1)[0];return{type:r.REMOTE_HEAD,name:"HEAD",remote:t};case r.BRANCH:return{type:r.BRANCH,name:e.startsWith(u)?e.slice(u.length):e};case r.REMOTE_BRANCH:var p=e.slice(s.length),h=(0,o.Z)(p.split("/")),m=h[0],v=h.slice(1).join("/");return{type:r.REMOTE_BRANCH,name:p,remote:m,branch:v};case r.TAG:return e.startsWith(c)&&(e=e.slice(c.length)),e.startsWith(l)&&(e=e.slice(l.length)),{type:r.TAG,name:e}}}!function(e){e.HEAD="HEAD",e.REMOTE_HEAD="REMOTE_HEAD",e.BRANCH="BRANCH",e.REMOTE_BRANCH="REMOTE_BRANCH",e.TAG="TAG"}(r||(r={}))},85281:function(e,n,t){t.d(n,{HO:function(){return r},ZP:function(){return m},p3:function(){return f}});var r,i=t(57135),o=t(2272),a=t(9970),u=t(96583),s=t(73299),c=t(47711),l='--format="'+["%(refname)","%(push)","%(objectname)","%(authorname)","%(authoremail)","%(authordate:unix)"].join("%09")+'"';function f(e,n){return!(!e||!n)&&(e===n||e.name===n.name&&e.remote===n.remote)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!1===e.local&&!1===e.remote)throw new Error("Cannot specify both local and remote as false");var n,t,r=[];if(r.push(l),e.max&&r.push("--count=".concat(e.max)),e.pattern)if("string"===typeof e.pattern)r.push((0,s.Gw)(e.pattern));else{var i,o=e.pattern.map((function(e){return(0,s.Gw)(e)}));(i=r).push.apply(i,(0,a.Z)(o))}else(null===(n=e.local)||void 0===n||n)&&r.push("refs/heads"),(null===(t=e.remote)||void 0===t||t)&&r.push("refs/remotes");return"git for-each-ref ".concat(r.join(" "))}function p(e){var n=(0,o.Z)(e.split("\t"),6),t=n[0],i=n[1],a=n[2],u=n[3],l=n[4],f=n[5],d=(0,c.L)(t),p={hash:a,author:{name:u,email:(0,s.tc)(l),date:1e3*parseInt(f,10)}};if(d.type===c.l.BRANCH){var h=i?(0,c.L)(i):null,m=!h||h.type!==c.l.REMOTE_BRANCH&&h.type!==c.l.BRANCH?null:h;return{type:r.LOCAL,name:d.name,push:m,remote:null,tracking:null,commit:p}}return d.type===c.l.REMOTE_BRANCH?{type:r.REMOTE,name:d.branch,remote:d.remote,push:null,tracking:null,commit:p}:null}function h(e){var n=[],t=[],i=!0,o=!1,u=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var f=s.value;f.type===r.LOCAL?n.push(f):f.type===r.REMOTE&&t.push(f)}}catch(b){o=!0,u=b}finally{try{i||null==l.return||l.return()}finally{if(o)throw u}}var d=new Set,p=[],h=!0,m=!1,v=void 0;try{for(var E,g=function(){var e=E.value,t=n.find((function(n){return n.push&&n.push.type===c.l.REMOTE_BRANCH&&n.push.remote===e.remote&&n.push.branch===e.name&&n.name===e.name}));t&&(d.add(e),d.add(t),p.push({type:r.TRACKED,name:t.name,remote:e.remote,push:t.push,tracking:e,commit:t.commit}))},y=t[Symbol.iterator]();!(h=(E=y.next()).done);h=!0)g()}catch(b){m=!0,v=b}finally{try{h||null==y.return||y.return()}finally{if(m)throw v}}var w=e.filter((function(e){return!d.has(e)}));return(0,a.Z)(w).concat((0,a.Z)(p))}function m(e){return v.apply(this,arguments)}function v(){return v=(0,i.Z)((function(e){var n,t,r,i,o,a=arguments;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},t=d(n),[4,e(t)];case 1:return(r=u.sent()).error?[2,r]:(i=(0,s.so)(r.output,"\n").map(p).filter((function(e){return null!==e})),(o=h(i)).sort((function(e,n){return n.commit.author.date-e.commit.author.date})),[2,{branches:o,error:null}])}}))})),v.apply(this,arguments)}!function(e){e.LOCAL="LOCAL",e.REMOTE="REMOTE",e.TRACKED="TRACKED"}(r||(r={}))},84682:function(e,n,t){t.d(n,{T:function(){return r},Z:function(){return l}});var r,i=t(57135),o=t(2272),a=t(96583),u=t(73377),s=t(73299),c=t(49760);function l(e){return f.apply(this,arguments)}function f(){return f=(0,i.Z)((function(e){var n,t,i,l,f,d,p,h,m,v=arguments;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:{},[4,(0,c.Z)(e)];case 1:if((t=a.sent()).error)return[2,t];if(!t.branch)return[2,{error:u.aq.HEAD_DETACHED}];if(!t.upstream)return[2,{error:u.aq.UPSTREAM_NOT_SET}];if(i=(0,o.Z)((0,s.Tg)(t.upstream.branch),2),l=i[0],f=i[1],!l||!f)return[2,{error:u.aq.UPSTREAM_NOT_SET}];if(t.changes.length>0)return[2,{error:u.aq.DIRTY_WORKTREE}];if((p=null!==(d=n.mode)&&void 0!==d?d:r.FF_ONLY)===r.FF_ONLY&&t.upstream.ahead>0)return[2,{error:u.aq.MERGE_CONFLICT}];switch(p!==r.FF_ONLY&&0===t.upstream.ahead&&(p=r.FF_ONLY),h=["--quiet","--no-edit"],p){case r.FF_ONLY:h.push("--no-rebase","--ff-only");break;case r.MERGE:h.push("--no-rebase","--ff");break;case r.REBASE:h.push("--rebase")}return h.push((0,s.Gw)(l),(0,s.Gw)(f)),[4,e("git pull ".concat(h.join(" ")))];case 2:if((m=a.sent()).error!==u.aq.MERGE_CONFLICT)return[3,8];if(n.allowConflicts)return[2,{hasConflicts:!0,error:null}];switch(p){case r.MERGE:return[3,3];case r.REBASE:return[3,5]}return[3,7];case 3:return[4,e("git merge --abort")];case 4:case 6:return a.sent(),[3,7];case 5:return[4,e("git rebase --abort")];case 7:return[2,m];case 8:return m.error?[2,m]:[2,{hasConflicts:!1,error:null}]}}))})),f.apply(this,arguments)}!function(e){e.FF_ONLY="FF_ONLY",e.MERGE="MERGE",e.REBASE="REBASE"}(r||(r={}))},79597:function(e,n,t){t.d(n,{J:function(){return r},O:function(){return i}});var r="users.noreply.replit.com",i="users.noreply.github.com"},98059:function(e,n,t){t.d(n,{J:function(){return i},e:function(){return r}});var r=(0,t(35981).u)(null);function i(e,n,t){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now();Array.isArray(e)||(e=[e]);var a=null!==(i=n.output)&&void 0!==i?i:"",u=n.error,s=t?o:Date.now(),c="".concat(o,"-").concat(Math.random());r.set({input:e,output:a,error:u,start:o,end:s,cached:t,key:c})}},73377:function(e,n,t){var r,i,o;t.d(n,{aq:function(){return r},dq:function(){return i},rG:function(){return o}}),function(e){e.UNKNOWN_NOT_GIT="UNKNOWN_NOT_GIT",e.UNKNOWN="UNKNOWN",e.TIMEOUT="TIMEOUT",e.CHANNEL_CLOSED="CHANNEL_CLOSED",e.NOT_INITIALIZED="NOT_INITIALIZED",e.UNAUTHENTICATED="UNAUTHENTICATED",e.INDEX_FILE_CORRUPT="INDEX_FILE_CORRUPT",e.UNKNOWN_REMOTE="UNKNOWN_REMOTE",e.INDEX_LOCKED="INDEX_LOCKED",e.NO_COMMITS="NO_COMMITS",e.PATH_MATCHED_NO_FILES="PATH_MATCHED_NO_FILES",e.USER_NOT_CONFIGURED="USER_NOT_CONFIGURED",e.INVALID_REFERENCE="INVALID_REFERENCE",e.BRANCH_ALREADY_EXISTS="BRANCH_ALREADY_EXISTS",e.MERGE_CONFLICT="MERGE_CONFLICT",e.UPSTREAM_NOT_SET="UPSTREAM_NOT_SET",e.HEAD_DETACHED="HEAD_DETACHED",e.DIRTY_WORKTREE="DIRTY_WORKTREE",e.PUSH_REJECTED="PUSH_REJECTED",e.REMOTE_ALREADY_EXISTS="REMOTE_ALREADY_EXISTS",e.ALREADY_INITIALIZED="ALREADY_INITIALIZED",e.INVALID_STATE="INVALID_STATE"}(r||(r={})),function(e){e.FS_CHANGE="FS_CHANGE",e.FORCED_REFRESH="FORCED_REFRESH",e.NEW_PROFILE="NEW_PROFILE",e.CHANGED_PROFILE="CHANGED_PROFILE"}(i||(i={})),function(e){e.REPLIT_DEFAULT="REPLIT_DEFAULT",e.GITHUB="GITHUB"}(o||(o={}))},49242:function(e,n,t){var r,i;t.d(n,{Z:function(){return i},z:function(){return r}}),function(e){e.INSTRUCTION_RESULT="INSTRUCTION_RESULT",e.TEST_RESULT="TEST_RESULT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED"}(r||(r={})),function(e){e[e.Idle=0]="Idle",e[e.Starting=1]="Starting",e[e.Ready=2]="Ready",e[e.Building=3]="Building",e[e.Running=4]="Running"}(i||(i={}))},59053:function(e,n,t){t.d(n,{w:function(){return u}});var r=t(29820),i=t(4561),o=t(22011);function a(e){var n=e.path,t=e.fs,o=e.edits,a=!1,u=t.watchTextFile(n,{onReady:function(e){var n=e.writeChange,t=e.initialContent;n((0,r.Z)(o,t.toString())),a=!0},onStatusChange:function(e){e===i.KF.Clean&&a&&u()}})}function u(e){var n=e.edit,t=e.fs,r=e.client,u=n.documentChanges,s=n.changes;if(u&&u.forEach((function(e){if("textDocument"in e){var n=e.edits,u=e.textDocument;a({path:r.documentUriToPath(u.uri),fs:t,edits:n})}else switch(e.kind){case"create":var s=r.documentUriToPath(e.uri),c=e.options,l=Boolean((null===c||void 0===c?void 0:c.overwrite)||!(null===c||void 0===c?void 0:c.ignoreIfExists)),f=function(){t.writeFile(s,o.Z.from("")).then((function(e){if(e.error)throw new Error("Something went wrong writing to a file")}))};if(l){f();break}t.stat(s).then((function(e){e.exists||f()}));break;case"delete":var d=r.documentUriToPath(e.uri),p=e.options,h=Boolean(null===p||void 0===p?void 0:p.recursive),m=Boolean(null===p||void 0===p?void 0:p.ignoreIfNotExists);t.stat(d).then((function(e){if(!e.exists)throw new Error("Expected file to exist");if(e.type===i.Tv.Directory&&!h)throw new Error("Trying to delete a directory without recursive option enabled");t.deleteFile(d).then((function(e){var n=e.error;if((n!==i.Df.NotFound||!m)&&n)throw new Error("Something went wrong deleting the file")}))}));break;case"rename":var v=r.documentUriToPath(e.oldUri),E=r.documentUriToPath(e.newUri),g=e.options,y=Boolean((null===g||void 0===g?void 0:g.overwrite)||!(null===g||void 0===g?void 0:g.ignoreIfExists)),w=function(){t.moveFile(v,E).then((function(e){if(e.error)throw new Error("Something went wrong moving the file")}))};if(y){w();break}t.stat(E).then((function(e){e.exists||w()}))}})),s)for(var c in s){var l=r.documentUriToPath(c),f=s[c];a({path:l,fs:t,edits:f})}return{applied:!0}}},60396:function(e,n,t){t.d(n,{D:function(){return o},v:function(){return a}});var r=t(48960),i=[{id:"abap",name:"ABAP",extensions:[".abap"]},{id:"aes",name:"AES",extensions:[".aes"]},{id:"apex",name:"Apex",extensions:[".cls"]},{id:"azcli",name:"Azure CLI",extensions:[".azcli"]},{id:"bat",name:"Batch",extensions:[".bat",".cmd"]},{id:"bibtex",name:"BibTeX",extensions:[".bib",".bbl"]},{id:"bicep",name:"Bicep",extensions:[".bicep"]},{id:"c",name:"C",extensions:[".c",".h"]},{id:"cameligo",name:"CameLigo",extensions:[".mligo"]},{id:"clojure",name:"Clojure",extensions:[".clj",".cljs",".cljc",".edn"]},{id:"coffeescript",name:"Coffeescript",extensions:[".coffee"]},{id:"cpp",name:"C++",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"]},{id:"csharp",name:"C#",extensions:[".cs",".csx",".cake"]},{id:"css",name:"CSS",extensions:[".css"]},{id:"d",name:"D",extensions:[".d"]},{id:"dart",name:"Dart",extensions:[".dart"]},{id:"diff",name:"Diff",extensions:[".diff",".patch"]},{id:"dockerfile",name:"Dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"]},{id:"ecl",name:"ECL",extensions:[".ecl"]},{id:"ejs",name:"EJS",extensions:[".ejs"]},{id:"elisp",name:"Emacs Lisp",extensions:[".el"]},{id:"elixir",name:"Elixir",extensions:[".ex",".exs"]},{id:"elm",name:"Elm",extensions:[".elm"]},{id:"erlang",name:"Erlang",extensions:[".erl",".hrl"]},{id:"flow9",name:"Flow9",extensions:[".flow"]},{id:"forth",name:"Forth",extensions:[".fth"]},{id:"fortran",name:"Fortran",extensions:[".f",".for",".f90"]},{id:"freemarker2",name:"FreeMarker 2",extensions:[".ftl",".ftlh",".ftlx"]},{id:"fsharp",name:"F#",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"]},{id:"gitignore",name:"Ignore"},{id:"glsl",name:"OpenGL Shading Language",extensions:[".vert",".tesc",".tese",".geom",".frag",".comp",".glsl",".glslv",".glslf",".glslg"]},{id:"go",name:"Go",extensions:[".go"]},{id:"graphql",name:"GraphQL",extensions:[".graphql",".gql"]},{id:"groovy",name:"Groovy",extensions:[".groovy",".gvy",".gy",".gsh"]},{id:"handlebars",name:"Handlebars",extensions:[".handlebars",".hbs"]},{id:"haskell",name:"Haskell",extensions:[".hs",".lhs"]},{id:"hcl",name:"HCL",extensions:[".tf",".tfvars",".hcl"]},{id:"html",name:"HTML",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"]},{id:"erb",name:"Ruby",extensions:[".erb",".rhtml",".rhtm"]},{id:"ini",name:"Ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"]},{id:"jade",name:"JADE",extensions:[".jade",".pug"]},{id:"java",name:"Java",extensions:[".java",".jav"]},{id:"javascript",name:"JavaScript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],filenames:["jakefile"]},{id:"javascriptreact",name:"JavaScript JSX",extensions:[".jsx"]},{id:"json",name:"JSON",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"]},{id:"julia",name:"Julia",extensions:[".jl"]},{id:"kotlin",name:"Kotlin",extensions:[".kt",".kts"]},{id:"latext",name:"LaTeX",extensions:[".tex"]},{id:"less",name:"Less",extensions:[".less"]},{id:"lexon",name:"Lexon",extensions:[".lex"]},{id:"liquid",name:"Liquid",extensions:[".liquid"]},{id:"lisp",name:"Lisp",extensions:[".lisp",".lsp",".l",".fasl"]},{id:"lua",name:"Lua",extensions:[".lua"]},{id:"m3",name:"Modula-3",extensions:[".m3",".i3",".mg",".ig"]},{id:"makefile",name:"Makefile",filenames:["Makefile","makefile","GNUmakefile"],extensions:[".mak",".MAKE"]},{id:"markdown",name:"Markdown",extensions:[".md",".mdx",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"]},{id:"mips",name:"MIPS",extensions:[".s"]},{id:"msdax",name:"X++",extensions:[".dax",".msdax"]},{id:"nim",name:"Nim",extensions:[".nim"]},{id:"objective-c",name:"Objective-C",extensions:[".m"]},{id:"objective-cpp",name:"Objective-C++",extensions:[".mm"]},{id:"ocaml",name:"OCaml",extensions:[".ml",".mli"]},{id:"pascal",name:"Pascal",extensions:[".pas",".p",".pp"]},{id:"pascaligo",name:"PascaLigo",extensions:[".ligo"]},{id:"perl",name:"Perl",extensions:[".pl"]},{id:"perl6",name:"Perl 6",extensions:[".pl6",".p6",".pm6",".pod6",".t6",".raku",".rakumod",".rakutest"]},{id:"php",name:"PHP",extensions:[".php",".php4",".php5",".phtml",".ctp"]},{id:"pla",name:"PLA",extensions:[".pla"]},{id:"plaintext",name:"Plain Text",extensions:[".txt"]},{id:"postiats",name:"Postiats",extensions:[".dats",".sats",".hats"]},{id:"powerquery",name:"Power Query",extensions:[".pq",".pqm"]},{id:"powershell",name:"Powershell",extensions:[".ps1",".psm1",".psd1"]},{id:"processing",name:"Processing",extensions:[".pde"]},{id:"prolog",name:"Prolog",extensions:[".pro",".plg"]},{id:"proto",name:"Proto",extensions:[".proto"]},{id:"python",name:"Python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"]},{id:"qsharp",name:"Q#",extensions:[".qs"]},{id:"r",name:"R",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"]},{id:"razor",name:"Razor",extensions:[".cshtml"]},{id:"reason",name:"Reason",extensions:[".re",".rei"]},{id:"redis",name:"Redis",extensions:[".redis"]},{id:"restructuredtext",name:"reStructuredText",extensions:[".rst"]},{id:"ruby",name:"Ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"]},{id:"rust",name:"Rust",extensions:[".rs",".rlib"]},{id:"sass",name:"Sass",extensions:[".sass"]},{id:"sb",name:"Small Basic",extensions:[".sb"]},{id:"scala",name:"Scala",extensions:[".scala",".sc",".sbt"]},{id:"scheme",name:"Scheme",extensions:[".scm",".ss",".sch",".rkt"]},{id:"scss",name:"SCSS",extensions:[".scss"]},{id:"shellscript",name:"Shell Script",extensions:[".sh",".bash"]},{id:"sol",name:"Solidity",extensions:[".sol"]},{id:"sparql",name:"SPARQL",extensions:[".rq"]},{id:"sql",name:"SQL",extensions:[".sql"]},{id:"st",name:"Structured Text",extensions:[".st",".iecst",".iecplc",".lc3lib"]},{id:"svelte",name:"Svelte",extensions:[".svelte"]},{id:"swift",name:"Swift",extensions:[".swift"]},{id:"systemverilog",name:"SystemVerilog",extensions:[".sv",".svh"]},{id:"tcl",name:"Tcl",extensions:[".tcl"]},{id:"toml",name:"TOML",extensions:[".toml"],filenames:[".replit"]},{id:"twig",name:"Twig",extensions:[".twig"]},{id:"typescript",name:"TypeScript",extensions:[".ts"]},{id:"typescriptreact",name:"TypeScript JSX",extensions:[".tsx"]},{id:"vb",name:"Visual Basic",extensions:[".vb"]},{id:"verilog",name:"Verilog",extensions:[".v",".vh"]},{id:"vue",name:"Vue",extensions:[".vue"]},{id:"xml",name:"XML",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"]},{id:"yaml",name:"YAML",extensions:[".yaml",".yml"]}],o=function(e,n){var t=(0,r.extname)(e),o=(0,r.basename)(e),a=i.filter((function(e){var n,r;return(null===(n=e.extensions)||void 0===n?void 0:n.includes(t))||(null===(r=e.filenames)||void 0===r?void 0:r.includes(o))}));if(n){var u=a.find((function(e){return e.id===n.toLowerCase()}));if(u)return u.id}return a.length>0?a[0].id:null},a=function(e,n){var t=o(e,n);if(!t)return null;var r=i.find((function(e){return e.id===t}));return r?r.name:null}},29143:function(e,n,t){var r=t(7225);n.Z=[r.SymbolKind.Array,r.SymbolKind.Boolean,r.SymbolKind.Class,r.SymbolKind.Constant,r.SymbolKind.Constructor,r.SymbolKind.Enum,r.SymbolKind.EnumMember,r.SymbolKind.Event,r.SymbolKind.Field,r.SymbolKind.File,r.SymbolKind.Function,r.SymbolKind.Interface,r.SymbolKind.Key,r.SymbolKind.Method,r.SymbolKind.Module,r.SymbolKind.Namespace,r.SymbolKind.Object,r.SymbolKind.Operator,r.SymbolKind.Package,r.SymbolKind.Property,r.SymbolKind.String,r.SymbolKind.Struct,r.SymbolKind.TypeParameter,r.SymbolKind.Variable]},29820:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(2272),i=t(14806),o=t(8082),a=t(85577);function u(e,n){var t=i.xv.of(n.split("\n")),u=i.as.empty(t.length);if(!e.length)return u;if(1===e.length){var s=(0,r.Z)(e,1)[0],c=s.range,l=c.start,f=c.end,d=s.newText,p=(0,a.R)(t,l);if(0===p||-1===p){var h=(0,a.R)(t,f);if(h===t.length||-1===h)return(0,o.F)(n,d)}}var m=[],v=!0,E=!1,g=void 0;try{for(var y,w=e[Symbol.iterator]();!(v=(y=w.next()).done);v=!0){var b=y.value,_=b.range,I=b.newText,S=(0,a.R)(t,_.start),R=(0,a.R)(t,_.end);m.push({from:S,to:R,insert:I})}}catch(T){E=!0,g=T}finally{try{v||null==w.return||w.return()}finally{if(E)throw g}}return i.as.of(m,n.length)}},67745:function(e,n,t){var r,i;t.d(n,{N:function(){return r},a:function(){return i}}),function(e){e.NOT_READY="NOT_READY",e.READY="READY",e.STALLED="STALLED"}(r||(r={})),function(e){e.OFFLINE="OFFLINE",e.INITIALIZING="INITIALIZING",e.INITIALIZED="INITIALIZED",e.EXITING="EXITING",e.EXITED="EXITED"}(i||(i={}))},50255:function(e,n,t){t.d(n,{N5:function(){return u},f0:function(){return a},gs:function(){return s},i7:function(){return o}});var r=t(17249),i=Object.values(r.Z.multiplayer);function o(e){var n={};return i.forEach((function(e){n[e]=0})),e.forEach((function(e){n[e.color]++})),Object.keys(n).sort((function(e,t){return n[e]-n[t]}))[0]}function a(e){var n=e.sessions.sort((function(e,n){return e.timestamp-n.timestamp})),t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(u.activeFile)return u.activeFile}}catch(s){r=!0,i=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}return null}function u(e,n){var t=n.find((function(n){return n.sessions.some((function(n){return n.id===e}))}));if(!t)throw new Error("Expected user with session ID ".concat(e));return t}function s(e){var n=e.seconds,t=e.nanos;return Number(n||0)+(t||0)/1e9}},17249:function(e,n){n.Z={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"},brands:{github:"#181717",twitter:"#00A8FF",discord:"#7289DA",facebook:"#3B5998",linkedin:"#0077B5"}}},59165:function(e,n,t){function r(e){return e.startsWith("/")?e:null}function i(e){var n=r(e);if(null===n)throw new Error("Expected an absolute path but got ".concat(e));return n}function o(e){return e.startsWith("/home/runner/")?e.split("/").slice(4).join("/"):null}t.d(n,{IT:function(){return r},ZF:function(){return i},om:function(){return o}})},4024:function(e,n,t){t.d(n,{Cq:function(){return o},fl:function(){return i}});var r=t(77970),i=function(e){return e?"string"===typeof e||Array.isArray(e)?e:e.args?e.blocking||e.splitLogs||e.splitStderr||Object.keys(null!==(n=e.env)&&void 0!==n?n:{}).length>0||(null!==(t=e.lifecycle)&&void 0!==t?t:r.api.Exec.Lifecycle.NON_BLOCKING)!==r.api.Exec.Lifecycle.NON_BLOCKING?e:e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?3===e.args.length?e.args[2]:e.args.slice(2):1===e.args.length?e.args[0]:0===e.args.length?"":e.args:"":"";var n,t},o=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""}},75665:function(e,n,t){t.d(n,{$0:function(){return c},D3:function(){return o},If:function(){return i},Jk:function(){return l},KB:function(){return p},KQ:function(){return r},TT:function(){return m},X6:function(){return f},lw:function(){return s},pi:function(){return d},qR:function(){return a},xz:function(){return u},zk:function(){return h}});var r=function(e){return{op:"add",path:"run",value:JSON.stringify(e)}},i=function(e){return{op:"add",path:"entrypoint",value:JSON.stringify(e)}},o=function(e){return{op:"add",path:"compile",value:JSON.stringify(e)}},a=function(e){return{op:"add",path:"onBoot",value:JSON.stringify(e)}},u=function(e){return{op:"remove",path:"string"===typeof e?e:e.join("/"),value:""}},s=function(e){return{op:"add",path:"interpreter",value:JSON.stringify(e)}},c=function(e){return{op:"add",path:"auth/pageEnabled",value:JSON.stringify(e)}},l=function(e){return{op:"add",path:"auth/buttonEnabled",value:JSON.stringify(e)}},f=function(e){return{path:"deployment/run",op:"add",value:JSON.stringify(["sh","-c",e])}},d=function(e){return{path:"deployment/build",op:"add",value:JSON.stringify(["sh","-c",e])}},p=function(e){return{path:"deployment/ignorePorts",op:"add",value:e.toString()}},h=function(e){return{path:"deployment/deploymentTarget",op:"add",value:JSON.stringify(e)}},m=function(e){return{path:"deployment/publicDir",op:"add",value:JSON.stringify(e)}}},46335:function(e,n,t){t.d(n,{Z:function(){return s}});var r,i=t(57135),o=t(96583);!function(e){e.CHANNEL_OPENED="CHANNEL_OPENED",e.OUTPUT_RECEIVED="OUTPUT_RECEIVED",e.STDERR_RECEIVED="STDERR_RECEIVED",e.STATE_CHANGED="STATE_CHANGED"}(r||(r={}));var a=t(27327),u=t(77970);function s(e){var n=e.container,t=(0,a.ZP)(),s=null,c=!1;function l(){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)((function(){return(0,o.__generator)(this,(function(e){if(c)throw new Error("closed");return s?[2,s]:[2,new Promise((function(e){t.once(r.CHANNEL_OPENED,(function(n){e(n)}))}))]}))}))).apply(this,arguments)}var d="",p="",h=n.openChannel({service:"exec"},(function(e){var n=e.channel,i=!1;return n.onCommand((function(e){if(null!=e.output)d+=e.output,t.emit(r.OUTPUT_RECEIVED,e.output);else if(null!=e.stderr)p+=e.stderr,t.emit(r.STDERR_RECEIVED,e.stderr);else if(null!=e.state){if(!i)return void(i=!0);t.emit(r.STATE_CHANGED,{state:e.state,outputBuffer:d,stderrBuffer:p}),e.state===u.api.State.Stopped&&(d="",p="")}})),s=n,t.emit(r.CHANNEL_OPENED,n),function(){s=null}}));return{request:function(){var e=(0,i.Z)((function(e){var n,t,r,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=e.env,t=e.args,r=e.splitStderr,i=void 0!==r&&r,[4,l()];case 1:return[2,o.sent().request({exec:{env:n,args:t,lifecycle:u.api.Exec.Lifecycle.BLOCKING,splitStderr:i}})]}}))}));return function(n){return e.apply(this,arguments)}}(),onOutput:function(e){return t.on(r.OUTPUT_RECEIVED,e),function(){t.off(r.OUTPUT_RECEIVED,e)}},onStderr:function(e){return t.on(r.STDERR_RECEIVED,e),function(){t.off(r.STDERR_RECEIVED,e)}},onStateChanged:function(e){return t.on(r.STATE_CHANGED,e),function(){t.off(r.STATE_CHANGED,e)}},getStatus:function(){return s?s.status:"closed"},dispose:function(){c=!0,h(),s=null}}}}}]);
//# sourceMappingURL=2005-341b3733e0e7bfd1.js.map