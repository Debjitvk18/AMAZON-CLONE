(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{72272:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(40868)}])},65440:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(74985),i=(t(50959),t(43312)),l=t(90171),o=t(5889),s=t(85368),a=t(61284),c=t(39541),u=t(30504),d=t(77511),p=t(34937),h=t(45510),f=function(){return(0,r.tZ)("svg",{width:"6px",height:"9px",viewBox:"0 0 6 9",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,r.tZ)("g",{children:(0,r.BX)("g",{fill:"var(--accent-yellow-default)",children:[(0,r.tZ)("rect",{x:"0",y:"0",width:"3",height:"3"}),(0,r.tZ)("rect",{x:"3",y:"3",width:"3",height:"3"}),(0,r.tZ)("rect",{x:"0",y:"6",width:"3",height:"3"})]})})})},m=(0,i.F4)("\n  0% {\n    width: 16px;\n  }\n  10% {\n    width: 16px;\n  }\n  100% {\n    width: 100%;\n  }\n"),v=(0,i.F4)("\n  0% {\n    width: 0%;\n  }\n  50% {\n    width: 0%;\n  }\n  100% {\n    width: 100%;\n  }\n"),Z=(0,i.F4)("\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n");function g(){var e=(0,l.useRouter)(),n=(0,p.Z)();return(0,d.Vg)(e)?(0,r.tZ)(s.G,{css:[c.l0.position.relative,c.l0.flex.column,c.l0.center,c.l0.color.foregroundDimmer,c.l0.minHeight("calc(100vh - 100px)")],children:(0,r.tZ)(s.G,{children:(0,r.tZ)(o.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"})})}):n?(0,r.tZ)(s.G,{css:[c.l0.position.relative,c.l0.flex.column,c.l0.center,c.l0.minHeight("calc(100vh - 100px)")],children:(0,r.BX)(s.G,{css:[c.l0.center,c.l0.colWithGap(16)],children:[(0,r.tZ)(o.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"}),(0,r.tZ)(a.h4,{level:1,variant:"headerDefault",children:"The page you're looking for could not be found."}),(0,r.BX)(a.xv,{multiline:!1,children:["If you think this is a mistake, check the"," ",(0,r.tZ)("a",{href:u.K5,children:"status page"})," for active incidents,"," ",(0,r.tZ)("a",{href:u.av,children:"contact support"})," or"," ",(0,r.tZ)("a",{href:u.xz,children:"ask the community"}),"."]}),(0,r.tZ)(h.zx,{text:"Return to Home",colorway:"primary",stretch:!1,onClick:function(){e.push("/desktopApp/home")}})]})}):(0,r.BX)(s.G,{css:[c.l0.position.relative,c.l0.flex.column,c.l0.center,c.l0.color.foregroundDimmer,c.l0.minHeight("calc(100vh - 100px)")],children:[(0,r.tZ)(s.G,{children:(0,r.tZ)(o.Z,{src:"/public/images/404.svg",width:"500px",height:"500px",alt:"broken computer with 404 message on screen"})}),(0,r.BX)(s.G,{css:[c.l0.justify.center,c.l0.flex.column,c.l0.pl(8),c.l0.pr(8),c.l0.fontSize(c.TV.fontSizeSubheadDefault),c.l0.color.accentNegativeStronger,c.l0.minHeight("70px"),{margin:"0 auto"}],children:[(0,r.BX)(s.G,{css:[c.l0.pl(16),c.l0.overflow("hidden"),c.l0.position.relative,{whiteSpace:"nowrap"},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}},{animation:"".concat(m," 2.5s steps(60, end)")}],children:[(0,r.BX)(s.G,{css:[c.l0.flex.row,c.l0.align.center],children:[(0,r.tZ)(s.G,{css:[c.l0.position.absolute,c.l0.left(0),{"@media(max-width:550px)":{top:8}}],children:(0,r.tZ)(f,{})}),"Not found error: This is not the page you\u2019re looking for."]}),(0,r.tZ)(s.G,{tag:"br"})]}),(0,r.BX)(s.G,{css:[c.l0.display.block,c.l0.pl(16),c.l0.overflow("hidden"),{lineHeight:"25px"},{whiteSpace:"nowrap"},{animation:"".concat(v," 5s steps(60, end)")},{"@media(max-width: 550px)":{animation:"none",width:"auto",whiteSpace:"normal",overflow:"auto"}}],children:["If you think this is a mistake, check the"," ",(0,r.tZ)("a",{href:u.K5,children:"status page"})," for active incidents,"," ",(0,r.tZ)("a",{href:u.av,children:"contact support"})," or"," ",(0,r.tZ)("a",{href:u.xz,children:"ask the community"}),"."," ",(0,r.tZ)(s.G,{tag:"span",css:[c.l0.display.inline,c.l0.color.accentNegativeStronger,{animation:"".concat(Z," 1s infinite")}],children:"_"})]})]})]})}},19066:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(2272),i=t(50959);function l(){var e=(0,r.Z)(i.useState({}),2)[1];return i.useCallback((function(){e({})}),[])}},52816:function(e,n,t){"use strict";t.d(n,{a:function(){return h},t:function(){return p}});var r=t(72006),i=t(4405),l=t(74985),o=(t(50959),t(66482)),s=t(39541),a=t(85368),c=t(45510),u=t(1050),d={visibility:"hidden",opacity:0,pointerEvents:"none"},p=function(e){var n=e.dir,t=e.slider,c=e.currentSlide;if(!t)return null;var u="left"===n,p=t.details().size,h=(u?0===c:c===p-1)?d:{},f=u?"-":"";return(0,l.tZ)(a.G,{css:[s.l0.center,s.l0.backgroundColor.foregroundDimmest,s.l0.color.backgroundRoot,s.l0.position.absolute,s.l0.cursor.pointer,s.l0.width(36),s.l0.height(36),s.l0.top("50%"),s.l0.left(u?0:"auto"),s.l0.right(u?"auto":0),s.l0.zIndex(1),s.l0.borderRadius("full"),(0,i.Z)((0,r.Z)({opacity:.75,transform:"translateX(".concat(f,"25%) translateY(-50%)"),transition:"background 0.1s, opacity 0.1s, transform 0.1s"},h),{":hover":{transform:"translateX(".concat(f,"25%) translateY(-50%) scale(1.2)"),background:"var(--foreground-dimmer)",opacity:1}})],onClick:function(){u?t.prev():t.next()},children:(0,l.tZ)(o.Z,{size:24,rotate:u?90:-90})})},h=function(e){var n=e.slider,t=e.currentSlide,r=e.openPickModal,i=e.isOwner;if(!n)return null;var o=null===n||void 0===n?void 0:n.details().size;return(0,l.BX)(a.G,{css:[s.l0.rowWithGap(16),s.l0.center],children:[(0,l.tZ)(a.G,{css:[s.l0.rowWithGap(12),s.l0.align.center],children:Array.from({length:o},(function(e,r){var i=t===r;return(0,l.tZ)(a.G,{css:[i?s.l0.cursor.default:s.l0.cursor.pointer,s.l0.width(16),s.l0.height(16),s.l0.justify.center,s.l0.align.center],onClick:function(){return e=r,void n.moveToSlide(e);var e},children:(0,l.tZ)(a.G,{css:[i?s.l0.backgroundColor.accentPrimaryDefault:s.l0.backgroundColor.foregroundDimmest,s.l0.width(8),s.l0.height(8),s.l0.borderRadius("full")]})},r)}))}),i?(0,l.tZ)(c.zx,{onClick:r,iconLeft:(0,l.tZ)(u.Z,{}),text:"Edit pinned Repls",small:!0,outlined:!0}):null]})}},89518:function(e,n,t){"use strict";t.d(n,{h:function(){return u}});var r=t(43119),i=t(71440),l=t(10184),o=t(3768),s=t(75834),a=t(79566);function c(){var e=(0,r.Z)(["\n  fragment OldPostPost on Post {\n    id\n    title\n    preview(removeMarkdown: true, length: 150)\n    url\n    commentCount\n    isPinned\n    isAnnouncement\n    timeCreated\n    ...PostLinkPost\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n    repl {\n      id\n      ...ReplPostRepl\n    }\n    board {\n      id\n      name\n      color\n    }\n    recentComments(count: 3) {\n      id\n      preview(removeMarkdown: true, length: 500)\n      timeCreated\n      user {\n        id\n        ...ReplPostRecentCommentUser\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}var u=(0,i.Ps)(c(),l.p,o.n,s.f_,a.b)},76516:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(72006),i=t(4405),l=t(74985),o=(t(50959),t(82893)),s=t.n(o),a=t(43312),c=t(61284),u=t(63128),d=t(85368),p=t(39541),h=t(8879),f=t(8404),m=t(41693),v=t(62376),Z=t(90942),g=t(17807),w=d.K.a,x=(0,a.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function b(e){var n,t=e.post,o=e.onPostClick,a=e.onTagClick,b=e.onCommentClick,y=e.onUserClick,R=t.user,B=t.repl;return R?(0,l.BX)(d.G,{css:[p.l0.colWithGap(8)],children:[(0,l.tZ)(d.G,{css:[p.l0.rowWithGap(8),p.l0.justify.spaceBetween,p.l0.align.center],children:(0,l.tZ)(f.Z,{user:R,timeCreated:t.timeCreated,postType:"post",onUserClick:y})}),(0,l.BX)(u.Tg,{css:[g.gU.filled,p.l0.borderRadius(8),p.l0.colWithGap(8),p.l0.p(8),p.l0.position.relative],children:[(0,l.BX)(d.G,{css:[p.l0.colWithGap(16)],children:[(0,l.BX)(d.G,{css:[p.l0.rowWithGap(8),p.l0.align.start,p.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(d.G,{css:[p.l0.flex.growAndShrink(1),p.l0.colWithGap(4)],children:(0,l.tZ)(s(),(0,i.Z)((0,r.Z)({passHref:!0},(0,Z.i)(t)),{children:(0,l.tZ)(w,{css:[{color:"inherit"},x],onClick:o,children:(0,l.tZ)(c.xv,{variant:"subheadBig",multiline:!1,children:t.title})})}))}),(0,l.tZ)(d.G,{css:[p.l0.rowWithGap(8),p.l0.align.center],children:B?(0,l.tZ)(v.Vs,{tags:B.tags,onTagClick:a}):null})]}),(0,l.tZ)(c.xv,{maxLines:2,css:{marginBottom:"0px"},multiline:!1,children:t.preview}),B?(0,l.BX)(d.G,{css:[p.l0.rowWithGap(8),p.l0.align.center],children:[(0,l.tZ)(h.Z,{size:16,alt:B.title,iconUrl:B.templateInfo.iconUrl}),(0,l.tZ)(c.xv,{multiline:!1,children:B.templateInfo.label})]}):null]}),(null===(n=t.recentComments)||void 0===n?void 0:n.length)?(0,l.tZ)(d.G,{css:[p.l0.p(16)],children:(0,l.tZ)(m.Z,{onCommentClick:b,comments:t.recentComments.map((function(e){return{id:e.id,user:e.user||void 0,body:e.preview,timeCreated:e.timeCreated}}))})}):null]})]}):null}},10184:function(e,n,t){"use strict";t.d(n,{p:function(){return l}});var r=t(43119);function i(){var e=(0,r.Z)(["\n  fragment PostLinkPost on Post {\n    id\n    url\n  }\n"]);return i=function(){return e},e}var l=(0,t(71440).Ps)(i())},90942:function(e,n,t){"use strict";t.d(n,{i:function(){return r}});var r=function(e){return{as:e.url,href:{pathname:"/post",query:{id:String(e.id)}}}}},41693:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(74985),i=(t(50959),t(39541)),l=t(61284),o=t(3923),s=t(90349),a=t(85368),c=t(77712),u=t(55923),d=a.K.a;function p(e){var n=e.comments,t=e.onCommentClick;return(0,r.tZ)(a.G,{css:[i.l0.colWithGap(8)],children:n.map((function(e){var n=e.id,p=e.body,h=e.timeCreated,f=e.user;return f?(0,r.BX)(a.G,{css:[i.l0.rowWithGap(8),i.l0.align.center],children:[(0,r.tZ)(u.Z,{username:f.username,children:(0,r.tZ)(c.ZP,{user:f,children:(0,r.BX)(d,{onClick:t,css:[i.l0.rowWithGap(4),i.l0.align.center,i.l0.focusRing,i.l0.borderRadius(16),{color:i.TV.foregroundDimmer,position:"relative",zIndex:1,":focus":{outlineOffset:1}}],children:[(0,r.tZ)(s.q,{username:f.username,src:f.image,size:16}),(0,r.tZ)(l.xv,{multiline:!1,children:f.username})]})})}),(0,r.tZ)(l.xv,{color:"dimmest",css:[i.l0.flex.growAndShrink(1)],multiline:!1,children:p}),(0,r.tZ)(o.E,{date:h,textColor:"dimmest",textVariant:"small"})]},n):null}))})}},12749:function(e,n,t){"use strict";t.d(n,{mx:function(){return f}});var r=t(43119),i=t(71440),l=t(27849),o=t(75834),s=t(3768),a=t(17864),c=t(7958);function u(){var e=(0,r.Z)(["\n  fragment ReplCardPostRepl on Repl {\n    id\n    ...LikeButtonRepl\n    ...ReplPostReplCardRepl\n    recentComments {\n      id\n      ...ReplPostReplComment\n    }\n  }\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}function d(){var e=(0,r.Z)(["\n  fragment ReplCardPostPost on Post {\n    id\n    title\n    timeCreated\n    isPinned\n    isAnnouncement\n    ...ReplViewPostActionPermissions\n    repl {\n      id\n      ...ReplViewReplActionsPermissions\n      ...ReplCardPostRepl\n    }\n    recentReplComments {\n      id\n      ...ReplPostReplComment\n    }\n    user {\n      id\n      ...ReplPostUserPostUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,r.Z)(["\n  fragment ReplCardPostCurrentUser on CurrentUser {\n    id\n    ...LikeButtonCurrentUser\n  }\n  ","\n"]);return p=function(){return e},e}var h=(0,i.Ps)(u(),a.R7,c.n,o.Gz),f=(0,i.Ps)(d(),l.K4,l.jN,h,o.Gz,s.n);p(),a.wO},69190:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(74985),i=(t(50959),t(85368)),l=t(63128),o=t(39541),s=t(96966),a=t(8404),c=t(41693),u=t(62376),d=t(17807),p=t(53212),h=t(62405);function f(e){var n,t=e.post,f=e.currentUser,m=e.onUserClick,v=e.onReplClick,Z=e.onTagClick,g=e.onCommentClick,w=t.user,x=t.repl;if(!w||!x)return null;var b=Boolean((null===f||void 0===f?void 0:f.isModerator)||(null===f||void 0===f?void 0:f.isAdmin));return(0,r.BX)(i.G,{css:[o.l0.colWithGap(8)],children:[(0,r.BX)(i.G,{css:[o.l0.rowWithGap(8),o.l0.justify.spaceBetween,o.l0.align.center],children:[(0,r.tZ)(a.K,{user:w,timeCreated:t.timeCreated,postType:"repl",onUserClick:m}),(0,r.BX)(i.G,{css:[o.l0.rowWithGap(8),o.l0.align.center],children:[b&&t.isHidden?(0,r.tZ)(h.Z,{}):null,(0,r.tZ)(s.ZP,{repl:x,currentUser:f,surface:!1}),b?(0,r.tZ)(p.Z,{repl:x,post:t,currentUser:f,source:"postsFeed"}):null]})]}),(0,r.BX)(l.Tg,{elevated:!0,css:[d.gU.filledAndOutlined,o.l0.borderRadius(8),o.l0.position.relative,{overflow:"hidden"}],children:[(0,r.tZ)(l.Tg,{css:[o.l0.p(8)],children:(0,r.tZ)(u.p0,{repl:x,onReplClick:v,onUserClick:m,onTagClick:Z})}),(null===(n=x.recentComments)||void 0===n?void 0:n.length)?(0,r.tZ)(i.G,{css:[o.l0.p(8),{borderBottomLeftRadius:8,borderBottomRightRadius:8,borderTop:"0 none",backgroundColor:"var(--background-root)"}],children:(0,r.tZ)(c.Z,{comments:x.recentComments.slice(0,2),onCommentClick:g})}):null]})]})}},68737:function(e,n,t){"use strict";t.d(n,{Z:function(){return G},x:function(){return C}});var r=t(72006),i=t(4405),l=t(74985),o=(t(50959),t(82893)),s=t.n(o),a=t(43312),c=t(61284),u=t(63128),d=t(85368),p=t(39541),h=t(96966),f=t(8404),m=t(41693),v=t(41748),Z=t(62376),g=t(75863),w=t(51523),x=t(17807),b=t(53212),y=t(62405),R=d.K.a,B=(0,a.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function C(e){var n=e.replUrl,t=e.replCommentId;return{as:{pathname:n,query:{c:t}},href:{pathname:"/replView",query:{c:t,replUrl:n}}}}function G(e){var n,t=e.post,o=e.currentUser,a=e.onReplClick,C=e.onUserClick,G=e.onTagClick,k=e.onCommentClick,S=t.user,P=t.repl,U=t.replComment;if(!S||!P||!U)return null;var X=Boolean((null===o||void 0===o?void 0:o.isModerator)||(null===o||void 0===o?void 0:o.isAdmin));return(0,l.BX)(d.G,{css:[p.l0.colWithGap(8)],children:[(0,l.BX)(d.G,{css:[p.l0.rowWithGap(8),p.l0.justify.spaceBetween,p.l0.align.center],children:[(0,l.tZ)(f.K,{user:S,timeCreated:t.timeCreated,postType:"post",onUserClick:C}),(0,l.BX)(d.G,{css:[p.l0.rowWithGap(8),p.l0.align.center],children:[X&&t.isHidden?(0,l.tZ)(y.Z,{}):null,(0,l.tZ)(h.ZP,{repl:P,currentUser:o,surface:!1}),X?(0,l.tZ)(b.Z,{repl:P,post:t,currentUser:o,source:"postsFeed"}):null]})]}),(0,l.BX)(u.Tg,{css:[x.gU.filledAndOutlined,p.l0.borderRadius(8),p.l0.colWithGap(8),p.l0.p(8),p.l0.position.relative],children:[(0,l.tZ)(d.G,{css:[p.l0.colWithGap(16)],children:(0,l.tZ)(d.G,{css:[p.l0.rowWithGap(16),p.l0.justify.spaceBetween],children:(0,l.BX)(d.G,{css:[p.l0.rowWithGap(8),p.l0.align.start,p.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(g.ZP,{iconUrl:P.iconUrl,alt:P.title,size:64}),(0,l.BX)(d.G,{css:[p.l0.flex.growAndShrink(1),p.l0.colWithGap(4)],children:[(0,l.tZ)(s(),(0,i.Z)((0,r.Z)({passHref:!0},(0,w.j3)(P)),{children:(0,l.tZ)(R,{css:[{color:"inherit"},B],onClick:a,children:(0,l.tZ)(c.xv,{variant:"subheadBig",multiline:!1,children:P.title})})})),P.description?(0,l.tZ)(c.xv,{color:"dimmer",maxLines:1,css:[p.l0.maxWidth(450)],multiline:!1,children:P.description}):null]})]})})}),(0,l.BX)(d.G,{css:[{border:"1px solid "+p.TV.outlineDimmer,overflow:"hidden"},p.l0.borderRadius(8)],children:[(0,l.tZ)(u.Tg,{elevated:!0,background:"higher",css:[p.l0.p(8),{borderTopLeftRadius:8,borderTopRightRadius:8}],children:(0,l.tZ)(d.G,{css:[p.l0.p(8),p.l0.colWithGap(32)],children:(0,l.BX)(d.G,{css:[p.l0.colWithGap(8)],children:[(0,l.tZ)(d.G,{css:[p.l0.rowWithGap(8),p.l0.align.center,p.l0.justify.spaceBetween],children:(0,l.tZ)(c.xv,{variant:"subheadDefault",css:{flexShrink:1},multiline:!1,children:t.title})}),(0,l.tZ)(c.xv,{maxLines:2,css:{marginBottom:"0px"},multiline:!1,children:U.body})]})})}),(null===(n=t.recentReplComments)||void 0===n?void 0:n.length)?(0,l.tZ)(d.G,{css:[p.l0.p(16),{borderTop:"0px solid "+p.TV.outlineDimmest}],children:(0,l.tZ)(m.Z,{comments:t.recentReplComments,onCommentClick:k})}):null]}),(0,l.BX)(d.G,{css:[p.l0.rowWithGap(8),p.l0.justify.spaceBetween,p.l0.minHeight(24)],children:[(0,l.tZ)(v.Z,{repl:P}),(0,l.tZ)(d.G,{css:[p.l0.position.relative,{zIndex:1},p.l0.flex.shrink(1)],children:(0,l.tZ)(u.Tg,{elevated:!0,children:(0,l.tZ)(Z.Vs,{tags:P.tags,onTagClick:G})})})]})]})]})}},8404:function(e,n,t){"use strict";t.d(n,{K:function(){return f},Z:function(){return h}});var r=t(74985),i=(t(50959),t(77712)),l=t(55923),o=t(61284),s=t(85368),a=t(39541),c=t(17755),u=t(3923),d=t(43312),p=s.K.a;function h(e){var n=e.user,t=e.postType,d=e.timeCreated,h=e.onUserClick;return(0,r.BX)(s.G,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,r.BX)(s.G,{css:[a.l0.rowWithGap(4),a.l0.align.center],children:[(0,r.tZ)(l.Z,{username:n.username,onUserClick:h,children:(0,r.tZ)(i.ZP,{user:n,children:(0,r.tZ)(p,{css:[{color:"inherit"}],onClick:h,children:(0,r.tZ)(c.n,{username:n.username,src:n.image,small:!0})})})}),(0,r.BX)(o.xv,{color:"dimmest",multiline:!1,children:["shared a ","post"===t?"Post":"Repl"]})]}),(0,r.tZ)(o.xv,{color:"dimmest",variant:"small",multiline:!1,children:"\u2022"}),(0,r.tZ)(u.E,{date:d,textColor:"dimmest",textVariant:"small"})]})}function f(e){var n=e.user,t=e.postType,h=e.timeCreated,f=e.onUserClick;return(0,r.BX)(s.G,{css:[a.l0.rowWithGap(8),a.l0.align.center,a.l0.flex.shrink(1)],children:[(0,r.BX)(s.G,{css:[a.l0.rowWithGap(4),a.l0.align.center],children:[(0,r.tZ)(l.Z,{username:n.username,onUserClick:f,children:(0,r.tZ)(i.ZP,{user:n,children:(0,r.tZ)(p,{css:[{color:"inherit"}],onClick:f,children:(0,r.tZ)(c.n,{username:n.username,src:n.image,small:!0})})})}),(0,r.BX)(o.xv,{multiline:!1,color:"dimmest",css:(0,d.iv)("@media (max-width:500px){display:none;}"),children:["published ","post"===t?"an Update":"a Repl"]})]}),(0,r.tZ)(o.xv,{multiline:!1,color:"dimmest",variant:"small",css:(0,d.iv)("@media (max-width:400px){display:none;}"),children:"\u2022"}),(0,r.tZ)(u.E,{date:h,textColor:"dimmest",textVariant:"small",css:(0,d.iv)("@media (max-width:400px){display:none;}")})]})}},80580:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(57389),i=t(74985),l=t(50959),o=t(72006),s=t(43119),a=t(71440),c=t(37459),u=t(24635);function d(){var e=(0,s.Z)(["\n  fragment ReplViewContentLoaderRepl on Repl {\n    id\n    title\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,s.Z)(["\n  query ReplViewContentLoader($replId: String!) {\n    repl(id: $replId) {\n      ... on Repl {\n        id\n        ...ReplViewRepl\n      }\n    }\n    currentUser {\n      id\n      ...ReplViewCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}var h={},f=(d(),(0,a.Ps)(p(),c.Zd,c.B5));var m=t(625),v=t(90171),Z=t(80671),g=t(85368),w=t(39541),x=(0,t(82568).X)({container:[w.l0.borderRadius(8),w.l0.p(16),(0,r.Z)({},w.BC.min("tabletMax"),[w.l0.maxHeight(640)])]});function b(e){var n=e.replId,t=(0,v.useRouter)(),r=function(e){var n=(0,o.Z)({},h,e);return u.a(f,n)}({variables:{replId:n}}).data,s="Repl"===(null===r||void 0===r?void 0:r.repl.__typename)?r.repl:null,a=(null===r||void 0===r?void 0:r.currentUser)||void 0;return l.useEffect((function(){s&&(0,m.Md)({pageName:"replView",sourcePage:t.pathname,path:s.url,title:s.title,url:window.location.origin+"/"+s.url})}),[s,t]),(0,i.tZ)(g.G,{css:x.container,children:s?(0,i.tZ)(Z.Z,{embedded:!0,repl:s,currentUser:a}):(0,i.tZ)(Z.G,{embedded:!0})})}},5982:function(e,n,t){"use strict";t.d(n,{YQ:function(){return w},DC:function(){return R}});var r=t(72006),i=t(43119),l=t(71440),o=t(37993),s=t(3839);function a(){var e=(0,i.Z)(["\n  fragment BountyHunterProfileLabelUserInfo on User {\n    id\n    bountyInfo {\n      hunterEarnings {\n        approximateCyclesEarned\n      }\n    }\n  }\n"]);return a=function(){return e},e}var c=(0,l.Ps)(a()),u=t(15250),d=t(24635);function p(){var e=(0,i.Z)(["\n  fragment ProfilePagePinnedRepl on Repl {\n    id\n    description\n    iconUrl\n    title\n    ...ReplViewReplViewerRepl\n    ...ReplViewFooterRepl\n    templateInfo {\n      iconUrl\n      label\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,i.Z)(["\n  fragment UserRoles on User {\n    roles(\n      only: [\n        ADMIN\n        MODERATOR\n        PATRON\n        PYTHONISTA\n        DETECTIVE\n        LANGUAGE_JAMMER\n        FEATURED\n        REPLIT_REP\n        REPLIT_REP_EDU\n      ]\n    ) {\n      id\n      name\n      key\n      tagline\n    }\n  }\n"]);return h=function(){return e},e}function f(){var e=(0,i.Z)(["\n  fragment ProfileHeaderUser on User {\n    id\n    fullName\n    username\n    image\n    isLoggedIn\n    bio\n    location\n    ...UserRoles\n    ...BountyHunterProfileLabelUserInfo\n    languages(limit: 3) {\n      id\n      key\n      displayName\n      tagline\n      icon\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return e},e}function m(){var e=(0,i.Z)(["\n  fragment ProfilePageUser on User {\n    id\n    fullName\n    image\n    pinnedRepls {\n      id\n      ...ProfilePagePinnedRepl\n    }\n    hasPrivacyRole\n    socials {\n      id\n      url\n      type\n    }\n    publicRepls(count: 1, showUnnamed: true) {\n      items {\n        id\n      }\n    }\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    isBlockedByCurrentUser\n    isBlockingCurrentUser\n    redirectToTeamDashboard\n    username\n    ...ProfileHeaderUser\n    ...UserLinkUser\n  }\n  ","\n  ","\n  ","\n"]);return m=function(){return e},e}function v(){var e=(0,i.Z)(["\n  query ProfilePage($username: String!) {\n    currentUser {\n      id\n      username\n      hasRepl\n      isAdmin: hasRole(role: ADMIN)\n      isPrivacyAccount: hasPrivacyRole\n      isModerator: hasRole(role: MODERATOR)\n      ...ReplViewReplViewerCurrentUser\n    }\n    user: userByUsername(username: $username) {\n      id\n      ...ProfilePageUser\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}var Z={},g=(0,l.Ps)(p(),o.Q,u.A),w=(0,l.Ps)(h()),x=(0,l.Ps)(f(),w,c),b=(0,l.Ps)(m(),g,x,s._),y=(0,l.Ps)(v(),o.r,b);function R(e){var n=(0,r.Z)({},Z,e);return d.a(y,n)}},40868:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Yr}});var r=t(57135),i=t(57389),l=t(72006),o=t(2272),s=t(96583),a=t(74985),c=t(50959),u=t(33020),d=t(90171),p=t(25495),h=t(65440),f=t(32104),m=t(67541),v=t(4405),Z=t(9970),g=t(43119),w=t(71440),x=t(75834),b=t(89518),y=t(12749),R=t(24635);function B(){var e=(0,g.Z)(["\n  query ProfilePosts(\n    $username: String!\n    $after: String\n    $order: String\n    $count: Int\n  ) {\n    currentUser {\n      id\n      ...ReplPostCurrentUser\n    }\n    user: userByUsername(username: $username) {\n      id\n      displayName\n      posts(after: $after, order: $order, count: $count) {\n        items {\n          id\n          ...ReplPostPost\n          ...OldPostPost\n          ...ReplCardPostPost\n        }\n        pageInfo {\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return B=function(){return e},e}var C={},G=(0,w.Ps)(B(),x.rP,x.U5,b.h,y.mx);var k=t(85368),S=t(39541),P=t(68737),U=t(69190),X=t(76516),W=t(61284),I=t(45510),T=function(e){var n,t=e,r=function(e){var n=(0,l.Z)({},C,e);return R.a(G,n)}({variables:t}),i=r.data,o=r.loading,s=r.fetchMore;if(o)return(0,a.tZ)(k.G,{css:[S.l0.p(8),S.l0.center],children:(0,a.tZ)(f.Z,{})});if(!(null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.posts))return null;var c=i.user.posts,u=i.currentUser,d=i.user.posts.pageInfo.nextCursor;return(0,a.BX)(k.G,{css:[S.l0.colWithGap(32),S.l0.px(16)],children:[(0,a.BX)(k.G,{css:[S.l0.colWithGap(32)],children:[0===c.items.length&&(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.p(32)],children:(0,a.tZ)(W.xv,{variant:"subheadBig",multiline:!1,children:"No posts yet"})}),c.items.map((function(e){return e.title?e.replComment?(0,a.tZ)(P.Z,{post:e,currentUser:u||void 0},e.id):(0,a.tZ)(X.Z,{post:e},e.id):(0,a.tZ)(U.Z,{post:e,currentUser:u||void 0},e.id)}))]}),(0,a.BX)(k.G,{css:[S.l0.center],children:[o?(0,a.tZ)(I.zx,{disabled:!0,text:"Loading..."}):null,d&&!o?(0,a.tZ)(I.zx,{onClick:function(){s({variables:(0,v.Z)((0,l.Z)({},t),{after:c.pageInfo.nextCursor}),updateQuery:function(e,n){var t,r,i,o;if(!(null===(t=n.fetchMoreResult)||void 0===t||null===(r=t.user)||void 0===r?void 0:r.posts))return e;var s=n.fetchMoreResult,a=e&&e.user&&e.user.posts?e.user.posts.items:[],c=(0,l.Z)({},s);return(null===(i=c.user)||void 0===i?void 0:i.posts)&&(null===(o=s.user)||void 0===o?void 0:o.posts)&&(c.user.posts.items=(0,Z.Z)(a).concat((0,Z.Z)(s.user.posts.items))),c}})},text:"Load more"}):null]})]})},E=t(2041),M=t(34338),D=t(63128),_=t(51631),A=t(79396),z=t(50216);function N(){var e=(0,g.Z)(["\n  query ProfilePublicRepls(\n    $username: String!\n    $after: String\n    $search: String\n  ) {\n    user: userByUsername(username: $username) {\n      id\n      profileRepls: profileRepls(after: $after, search: $search) {\n        items {\n          id\n          ...ProfilePublicReplsRepl\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return N=function(){return e},e}function O(){var e=(0,g.Z)(["\n  mutation ProfilePublicReplsPin($replId: String!) {\n    pinReplToProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return O=function(){return e},e}function H(){var e=(0,g.Z)(["\n  mutation ProfilePublicReplsUnPin($replId: String!) {\n    unpinReplFromProfile2(replId: $replId) {\n      ... on Repl {\n        id\n        ...ProfilePublicReplsRepl\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return H=function(){return e},e}var L={},$=(0,w.Ps)(N(),A.A);var V=(0,w.Ps)(O(),A.A);var F=(0,w.Ps)(H(),A.A);function q(e){var n=(0,l.Z)({},L,e);return z.D(F,n)}var j=t(8622),K=t(84607),Y=t(13233),Q=t(1966),J=t(93762),ee=t(51523),ne=t(40570),te=t(43743),re=t(80731),ie=t(77806),le=t(1050),oe=t(84815),se=t(70804),ae=t(40696),ce=t(54873),ue=[{id:"copy_link",icon:(0,a.tZ)(ie.Z,{}),text:"Copy Link",color:"default"},{id:"cover_page",icon:(0,a.tZ)(oe.Z,{}),text:"Cover page",color:"default"}],de=[{id:"edit",icon:(0,a.tZ)(le.Z,{}),text:"Edit",color:"default"},{id:"unpin",icon:(0,a.tZ)(ae.Z,{}),text:"Unpin",color:"default"},{id:"delete",icon:(0,a.tZ)(ce.Z,{}),text:"Delete",color:"var(--accent-negative-stronger)"}],pe=function(e){var n=e.onSelect,t=e.showExtendedOptions,r=e.isOwner,i=(0,o.Z)(c.useState([]),2),l=i[0],s=i[1];return c.useEffect((function(){s((0,Z.Z)(t?ue:[]).concat((0,Z.Z)(r?de:[])))}),[t,r]),r||t?(0,a.tZ)(re.ZE,{cssProps:[S.l0.width(32),{background:"transparent"}],"aria-label":"more options",icon:(0,a.tZ)(se.Z,{}),onAction:n,children:l.map((function(e){return(0,a.tZ)(re.ck,{"aria-label":e.text,children:(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.align.center,S.l0.rowWithGap(8),{width:200,color:e.color}],children:[c.cloneElement(e.icon),(0,a.tZ)(W.xv,{multiline:!1,children:e.text})]})},e.id)}))}):null},he=t(66539),fe=t(60566),me=function(e){var n=e.repl,t=(0,o.Z)(c.useState(!1),2),r=t[0],i=t[1];return(0,a.tZ)(he.u,{isOpen:r,placement:"bottom",tooltip:"Copied!",onOpenChange:function(){r&&setTimeout((function(){i(!1)}),2e3)},children:(0,a.tZ)(I.zx,{text:"Copy Link",iconLeft:(0,a.tZ)(ie.Z,{}),onClick:function(){(null===n||void 0===n?void 0:n.url)&&((0,fe.Z)("".concat(window.location.origin).concat(n.url)),i(!0))}})})},ve=t(86302),Ze=function(e){var n=e.spotlightLinkProps;return(0,a.tZ)(ve.Z,(0,l.Z)({text:"Cover page",iconLeft:(0,a.tZ)(oe.Z,{})},n))},ge=t(82893),we=t.n(ge),xe=t(19075),be=t(22642),ye=t(47900),Re=t(32973),Be=t(36994),Ce=function(e){var n=e.spotlightLinkProps,t=e.repl,r=e.loading,i=e.comments,l=(0,d.useRouter)(),s=(0,o.Z)(c.useState(!1),2),u=s[0],p=s[1];return t?(0,a.BX)(k.G,{css:[S.l0.pt(16),S.l0.pb(8),S.l0.mb(8),S.l0.flex.grow(0),S.l0.flex.shrink(1),S.l0.position.relative,S.l0.overflow("hidden")],children:[(0,a.BX)(k.G,{css:[S.l0.center,S.l0.position.absolute,S.l0.height("100%"),S.l0.width("100%"),S.l0.zIndex(2),S.l0.top(0),S.l0.cursor.pointer],onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},onClick:function(){return l.push(n.href,n.as)},children:[u?(0,a.tZ)(k.G,{css:[{backgroundColor:S.TV.backgroundDefault,opacity:.8,position:"absolute",top:0,width:"100%",height:"100%"}]}):null,u?(0,a.BX)(k.G,{css:[S.l0.center,S.l0.rowWithGap(8),S.l0.zIndex(3)],children:[(0,a.tZ)(Re.Z,{}),(0,a.tZ)(W.xv,{multiline:!1,children:"View all comments"})]}):null]}),r?(0,a.tZ)(k.G,{css:[S.l0.justify.center,S.l0.align.center],children:(0,a.tZ)(f.Z,{size:32})}):null,t?(0,a.tZ)(k.G,{css:[S.l0.flex.row],children:(0,a.BX)(W.xv,{variant:"small",color:"dimmer",multiline:!1,children:["Recent comments (",t.commentCount,")"]})}):null,i.filter((function(e){return!e.isHidden})).map((function(e){return(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.pt(8)],children:[e.user?(0,a.tZ)(k.G,{children:(0,a.tZ)(Be.Yt,{user:e.user})}):null,(0,a.BX)(k.G,{css:[S.l0.pl(8),S.l0.flex.shrink(2)],children:[e.user?(0,a.tZ)(Be.wb,{user:e.user,timeCreated:e.timeCreated}):null,(0,a.tZ)(W.xv,{css:[S.l0.flex.shrink(2)],children:(0,a.tZ)(ye.ZP,{useRemarkGfm:!1,children:e.body})})]})]},e.id)}))]}):null},Ge=t(71417),ke=function(e){var n,t,r,i,s,u,d,p=e.repl,h=(0,o.Z)(c.useState(!1),2),f=h[0],m=h[1],Z=(0,xe.ex)({variables:{replId:p.id,count:6}}),g=Z.data,w=Z.loading,x=Z.refetch,b=!(null===(n=p.source)||void 0===n||null===(t=n.deployment)||void 0===t||null===(r=t.repl)||void 0===r?void 0:r.owner),y=(null===(i=p.source)||void 0===i||null===(s=i.deployment)||void 0===s?void 0:s.repl)&&(0,ee.aq)(p.source.deployment.repl),R=(0,ee.j3)(p),B="Repl"===(null===g||void 0===g?void 0:g.repl.__typename)?g.repl:null,C=null!==(d=null===B||void 0===B||null===(u=B.comments)||void 0===u?void 0:u.items)&&void 0!==d?d:[];return(0,a.BX)(k.G,{css:[S.l0.pl(16),{flex:"0 1 300px"}],children:[b||!y?(0,a.BX)(W.xv,{multiline:!1,children:["Made with ",p.lang.displayName]}):null,!b&&y?(0,a.BX)(W.xv,{multiline:!1,children:["Made with"," ",(0,a.tZ)(we(),(0,v.Z)((0,l.Z)({},y),{children:(0,a.tZ)("a",{children:p.templateInfo.label})}))]}):null,p.description?(0,a.tZ)(k.G,{css:[S.l0.overflowY("auto"),S.l0.pt(8),S.l0.flex.growAndShrink(1)],children:(0,a.tZ)(ye.ZP,{css:{backgroundColor:"transparent"},children:p.description})}):null,(0,a.tZ)(Ce,{loading:w,repl:B,comments:C,spotlightLinkProps:R}),(0,a.BX)(k.G,{css:[S.l0.zIndex(2)],children:[0!==C.length&&(0,a.tZ)(k.G,{css:[S.l0.width("100%"),S.l0.position.relative,S.l0.top(-10),{boxShadow:"0px -8px 12px 8px var(--background-default)",border:"1px solid var(--background-default)"}]}),f?(0,a.tZ)(Ge.H,{autoFocus:!0,onCancel:function(){return m(!1)},onComment:function(){x()},replId:p.id,placeholder:p?"Say something about ".concat(p.title):""}):(0,a.tZ)(I.zx,{text:"Leave a comment",iconLeft:(0,a.tZ)(be.Z,{}),onClick:function(){return m(!0)}})]})]})},Se=t(49142),Pe=t(68850),Ue=t(76357),Xe=t(65673),We=function(e){var n=e.currentUser,t=e.user,r=e.refetchRepls,s=e.repl,u=e.width,p=(0,d.useRouter)(),h=(0,o.Z)(c.useState(!1),2),f=h[0],m=h[1],Z=(0,o.Z)(c.useState(!1),2),g=Z[0],w=Z[1],x=(0,o.Z)(c.useState(!1),2),b=x[0],y=x[1],R=(0,o.Z)((0,te.Z)({onError:function(){U("Error forking repl")}}),2),B=R[0],C=R[1].loading,G=(0,Y.Z)(),P=G.showConfirm,U=G.showError,X=(0,o.Z)(q({onCompleted:function(e){"Repl"===e.unpinReplFromProfile2.__typename?r():U("Error removing repl from showcase")}}),1)[0],I=(0,ee.aq)(s),T=(0,ee.j3)(s),A=(0,o.Z)((0,Pe.k)({variables:{id:s.id},onCompleted:function(){P("Repl scheduled for deletion")},onError:function(e){U((0,Xe.Z)(e.message))},update:function(e,n){var t;(null===(t=n.data)||void 0===t?void 0:t.deleteRepl)&&(e.evict({id:e.identify(n.data.deleteRepl)}),e.gc())}}),1),z=A[0],N=c.useCallback((function(){(null===s||void 0===s?void 0:s.url)&&(0,fe.Z)("".concat(window.location.origin).concat(s.url))}),[s.url]),O=c.useCallback((function(e){switch(e){case"edit":p.push(I.href,I.as);break;case"delete":m(!0);break;case"unpin":X({variables:{replId:s.id}});break;case"copy_link":N();break;case"cover_page":p.push(T.href,T.as)}}),[N,I,T,p,s,X]),H=(0,o.Z)(c.useState(0),2),L=H[0],$=H[1],V=(0,o.Z)(c.useState(!0),2),F=V[0],re=V[1];c.useEffect((function(){u<900?($(u/1.7),re(!1)):($(u/2),re(!0))}),[u]);var ie,le=(null===n||void 0===n?void 0:n.id)===t.id,oe=s.publishedAs===_.O2.Template?{text:C?"Forking...":"Use Template",icon:(0,a.tZ)(j.Z,{}),count:s.releasesForkCount}:{text:C?"Forking...":"Fork Repl",icon:(0,a.tZ)(K.Z,{}),count:s.publicForkCount},se=(0,a.tZ)(ne.Z,(0,v.Z)((0,l.Z)({},oe),{stretch:!0,onClick:function(){C||y(!0)},icon:(0,a.tZ)(K.Z,{}),colorway:"primary",onCountClick:function(){return w(!0)}}));return(0,a.BX)(D.Tg,{background:"default",css:[S.l0.colWithGap(16),S.l0.p(16),S.l0.width("100%"),(0,i.Z)({},(0,M.et)("tabletMin"),[S.l0.borderRadius(16)])],children:[(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.flex.wrap],children:[(0,a.tZ)(W.h4,{variant:"headerDefault",level:2,children:s.title}),(0,a.BX)(k.G,{css:[S.l0.rowWithGap(8),S.l0.pt(8)],children:[le||!F?(0,a.tZ)(pe,{onSelect:O,showExtendedOptions:!F,isOwner:le}):null,F?(0,a.tZ)(me,{repl:s}):null,F?(0,a.tZ)(Ze,{spotlightLinkProps:T}):null,F?se:null]})]}),(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.height(L)],children:[(0,a.tZ)(k.G,{css:[S.l0.flex.grow(2),S.l0.display.grid],children:(0,a.tZ)(J.ZP,{currentUser:n||void 0,repl:s,hideTotalTips:!0})}),F?(0,a.tZ)(ke,{repl:s}):null]}),!F&&(0,a.tZ)(k.G,{css:[S.l0.align.end],children:se}),(0,a.tZ)(E.u,{isOpen:f,onRequestClose:function(){return m(!1)},children:(0,a.tZ)(Ue.Z,{name:s.title,entityType:"Repl",delete:function(){z()},hideModal:function(){return m(!1)}})}),(0,a.tZ)(E.u,{isOpen:g,onRequestClose:function(){return w(!1)},children:(0,a.tZ)(Q.Z,{replId:s.id})}),(0,a.tZ)(E.u,{isOpen:b,onRequestClose:function(){return y(!1)},children:(0,a.tZ)(Se.Z,{onFork:function(e,n,t,r){var i,l;B({originId:s.id,replReleaseId:(null===(i=s.deployment)||void 0===i||null===(l=i.activeRelease)||void 0===l?void 0:l.id)||void 0,trackingData:{forkSource:"profileShowcase",isApp:s.publishedAs===_.O2.App,isTemplate:s.publishedAs===_.O2.Template},teamId:e,title:n,description:t,isPrivate:r,forkToPersonal:!e})},initialTitle:s.title,initialDescription:null!==(ie=s.description)&&void 0!==ie?ie:"",initialPrivacy:!1,hideModal:function(){return y(!1)},teamContext:null===n||void 0===n?void 0:n.username})})]})},Ie=t(52816),Te=t(47832),Ee=t(8879),Me=function(e){var n=e.onSelect,t=e.showcasedRepls,r=e.showComboBox,i=void 0===r||r,s=(0,Y.Z)(),c=s.showConfirm,u=s.showError,d=(0,o.Z)(function(e){var n=(0,l.Z)({},L,e);return z.D(V,n)}({onCompleted:function(e){"Repl"===e.pinReplToProfile2.__typename?(c("Repl added to showcase"),n()):u("Error adding repl to showcase")},onError:function(e){u(e.message)}}),2),p=d[0],h=d[1],f=(0,o.Z)(q({onCompleted:function(e){"Repl"===e.unpinReplFromProfile2.__typename?(c("Repl removed from showcase"),n()):u("Error removing repl from showcase")},onError:function(e){u(e.message)}}),2),m=f[0],v=f[1].loading||h.loading;return(0,a.BX)(k.G,{css:[S.l0.colWithGap(16)],children:[(0,a.tZ)(W.h4,{level:2,variant:"headerDefault",children:"Pick a Repl to showcase:"}),(0,a.tZ)(Te.Z,{disabled:v,filter:function(e){return!t.find((function(n){return n.id===e.id}))},manualSelect:!0,onSelect:function(e){t.find((function(n){return n.id===e.id}))||p({variables:{replId:e.id}})},showComboBox:i}),t.length>0?(0,a.BX)(k.G,{css:[S.l0.pt(8),S.l0.colWithGap(8)],children:[(0,a.tZ)(W.h4,{level:3,variant:"subheadDefault",children:"Current Repls showcased:"}),t.map((function(e){return(0,a.BX)(D.Tg,{background:"higher",css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center,S.l0.p(8),S.l0.borderRadius(8)],children:[(0,a.BX)(k.G,{css:[S.l0.rowWithGap(8)],children:[(0,a.tZ)(Ee.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,a.tZ)(W.xv,{multiline:!1,css:[S.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,a.tZ)(I.zx,{disabled:v,outlined:!0,onClick:function(){return m({variables:{replId:e.id}})},text:"Remove"})]},e.id)}))]}):null]})},De=t(97754),_e=t.n(De),Ae=t(48468),ze=t(19066),Ne=t(51282),Oe=function(e){var n=e.currentUser,t=e.user,r=e.refetchRepls,s=t.pinnedRepls||[],u=(0,o.Z)(c.useState(!1),2),d=u[0],p=u[1],h=(0,o.Z)(c.useState(0),2),f=h[0],m=h[1],Z=(0,o.Z)(c.useState(0),2),g=Z[0],w=Z[1],x=(0,o.Z)(c.useState(!1),2),b=x[0],y=x[1],R=(0,o.Z)((0,Ne.useKeenSlider)({controls:!b,initial:0,slideChanged:function(e){var n=e.details().relativeSlide;m(n)}}),2),B=R[0],C=R[1],G=(0,ze.Z)(),P=(0,Ae.Z)((function(e){C&&C.resize(),e.width&&(w(e.width),e.width<800?y(!1):y(!0))}));c.useEffect((function(){C&&(G(),C.refresh())}),[t.pinnedRepls,C,G]);var U=(null===n||void 0===n?void 0:n.id)===t.id;return(0,a.BX)(k.G,{css:[S.l0.flex.grow(2),(0,i.Z)({},(0,M.et)("tabletMin"),[S.l0.px(16)])],children:[(0,a.BX)(k.G,{css:[S.l0.width("100%"),S.l0.position.relative,S.l0.colWithGap(16)],innerRef:P,children:[b?(0,a.tZ)(Ie.t,{dir:"left",slider:C,currentSlide:f}):null,(0,a.tZ)("ul",{ref:B,className:"keen-slider",css:[{userSelect:"auto",touchAction:"auto",listStyleType:"none"}],children:s.map((function(n){return(0,a.tZ)("li",{className:_e()("keen-slider__slide"),css:{flex:"1 0 auto"},children:(0,a.tZ)(We,(0,v.Z)((0,l.Z)({},e),{repl:n,width:g}))},n.id)}))}),b?(0,a.tZ)(Ie.t,{dir:"right",slider:C,currentSlide:f}):null,(0,a.tZ)(Ie.a,{isOwner:U,currentSlide:f,slider:C,openPickModal:function(){return p(!0)}})]}),(0,a.tZ)(E.u,{isOpen:d,onRequestClose:function(){return p(!1)},children:(0,a.tZ)(Me,{onSelect:r,showcasedRepls:s,showComboBox:!1})})]})};function He(){var e=(0,g.Z)(["\n  query TeamRedirect($username: String!) {\n    team: teamByUsername(username: $username) {\n      ... on Team {\n        id\n        isMember\n      }\n    }\n  }\n"]);return He=function(){return e},e}var Le={},$e=(0,w.Ps)(He());function Ve(e){var n=e.username,t=(0,d.useRouter)(),r=function(e){var n=(0,l.Z)({},Le,e);return R.a($e,n)}({variables:{username:n}}),i=r.data,o=r.loading;return c.useEffect((function(){i&&!o&&"Team"===i.team.__typename&&i.team.isMember&&t.replace({pathname:"/teamProfile",query:{teamname:n}},"/team/".concat(n))}),[t,n,i,o]),null}var Fe=t(79637),qe=t(9247),je=t(2757),Ke=t(56200),Ye=t(77551),Qe=t(12470),Je=t(90349),en=t(42241),nn=t(77712),tn=t(3839);function rn(){var e=(0,g.Z)(["\n  fragment FollowModalUser on User {\n    ...UserLinkUser\n    id\n    username\n    fullName\n    image\n    isFollowedByCurrentUser\n    followerCount\n  }\n  ","\n"]);return rn=function(){return e},e}function ln(){var e=(0,g.Z)(["\n  query FollowModalFollowers($username: String!, $after: String, $count: Int) {\n    currentUser {\n      id\n    }\n    user: userByUsername(username: $username) {\n      id\n      followers(after: $after, count: $count) {\n        items {\n          id\n          ...FollowModalUser\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return ln=function(){return e},e}function on(){var e=(0,g.Z)(["\n  query FollowModalFollows($username: String!, $after: String, $count: Int) {\n    currentUser {\n      id\n    }\n    user: userByUsername(username: $username) {\n      id\n      follows(after: $after, count: $count) {\n        items {\n          id\n          ...FollowModalUser\n        }\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return on=function(){return e},e}var sn={},an=(0,w.Ps)(rn(),tn._),cn=(0,w.Ps)(ln(),an);var un=(0,w.Ps)(on(),an);var dn=t(17807),pn=t(14654),hn=t(82568),fn=function(e){var n=e.user,t=e.currentUser,r=n.id===(null===t||void 0===t?void 0:t.id);return(0,a.BX)(k.G,{tag:"li",css:[S.l0.p(8),S.l0.rowWithGap(8),S.l0.align.center,dn.gU.nofill],children:[(0,a.tZ)(we(),(0,v.Z)((0,l.Z)({},(0,nn.Ru)(n)),{passHref:!0,children:(0,a.BX)(k.G,{tag:"a",css:[{color:"unset",":focus":{outlineOffset:"0 !important"}},S.l0.rowWithGap(8),S.l0.flex.growAndShrink(1),S.l0.align.center,S.l0.focusRing,S.l0.borderRadius(8)],children:[(0,a.tZ)(Je.q,{size:40,username:n.username,src:n.image}),(0,a.BX)(k.G,{css:[S.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(W.xv,{multiline:!1,children:n.fullName}),(0,a.BX)(W.xv,{variant:"small",color:"dimmer",multiline:!1,children:["@",n.username]})]})]})})),!r&&(0,a.tZ)(Ye.Z,{user:n})]})},mn=function(){return(0,a.tZ)(k.G,{css:[S.l0.height(40),S.l0.flex.row,S.l0.align.center,S.l0.justify.center],children:(0,a.tZ)(f.Z,{size:24})})},vn=function(e){var n=e.text;return(0,a.BX)(k.G,{css:[S.l0.height(208),S.l0.align.center,S.l0.justify.spaceEvenly,S.l0.textAlign.center],children:[(0,a.tZ)(W.xv,{variant:"subheadDefault",children:n}),(0,a.tZ)(ve.Z,{href:"/community",text:"Go to Community",colorway:"primary",iconLeft:(0,a.tZ)(pn.Z,{})})]})},Zn=function(e,n,t){var i,l=(null===e||void 0===e||null===(i=e.pageInfo)||void 0===i?void 0:i.hasNextPage)||!1,o=c.useCallback((0,r.Z)((function(){var r;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return(null===e||void 0===e?void 0:e.pageInfo.hasNextPage)?(r=null===e||void 0===e?void 0:e.pageInfo.nextCursor,[4,t({variables:{username:n,after:r,count:20}})]):[2];case 1:return i.sent(),[2]}}))})),[e,t,n]);return{hasMore:l,ref:(0,en.Z)({onLoadMore:o}).targetRef,loadMore:o}},gn=function(e){var n,t,r,i=e.username,o=function(e){var n=(0,l.Z)({},sn,e);return R.a(cn,n)}({variables:{username:i,count:20},notifyOnNetworkStatusChange:!0}),s=o.data,c=o.loading,u=o.error,d=o.fetchMore,p=Zn(null===s||void 0===s||null===(n=s.user)||void 0===n?void 0:n.followers,i,d),h=p.hasMore,f=p.ref,m=p.loadMore;if(u)return(0,a.BX)(k.G,{children:[(0,a.tZ)(W.xv,{multiline:!1,children:"An error has occurred."}),(0,a.tZ)(W.xv,{multiline:!1,children:u.message})]});if(!c&&0===(null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.followers.items.length)){var v,Z,g=(null===s||void 0===s||null===(v=s.currentUser)||void 0===v?void 0:v.id)===(null===s||void 0===s||null===(Z=s.user)||void 0===Z?void 0:Z.id)?"No followers yet. Get others to follow you by engaging with them in Community!":"Nothing to see here. Check out what's new in Community!";return(0,a.tZ)(vn,{text:g})}return(0,a.BX)(k.G,{tag:"ul","aria-busy":c,css:S.l0.colWithGap(16),children:[s?null===(r=s.user)||void 0===r?void 0:r.followers.items.map((function(e){return(0,a.tZ)(fn,{user:e,currentUser:s.currentUser},e.id)})):null,c?(0,a.tZ)(mn,{}):null,h&&!c?(0,a.tZ)(I.zx,{text:"Load more",ref:f,onClick:m}):null]})},wn=function(e){var n,t,r,i=e.username,o=function(e){var n=(0,l.Z)({},sn,e);return R.a(un,n)}({variables:{username:i,count:20},notifyOnNetworkStatusChange:!0}),s=o.data,c=o.loading,u=o.error,d=o.fetchMore,p=Zn(null===s||void 0===s||null===(n=s.user)||void 0===n?void 0:n.follows,i,d),h=p.hasMore,f=p.ref,m=p.loadMore;if(u)return(0,a.BX)(k.G,{children:[(0,a.tZ)(W.xv,{multiline:!1,children:"An error has occurred."}),(0,a.tZ)(W.xv,{multiline:!1,children:u.message})]});if(!c&&0===(null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.follows.items.length)){var v,Z,g=(null===s||void 0===s||null===(v=s.currentUser)||void 0===v?void 0:v.id)===(null===s||void 0===s||null===(Z=s.user)||void 0===Z?void 0:Z.id)?"You aren\u2019t following anyone yet. Check out the cool creators in Community!":"".concat(i," hasn\u2019t followed anyone yet.");return(0,a.tZ)(vn,{text:g})}return(0,a.BX)(k.G,{tag:"ul","aria-busy":c,children:[s?null===(r=s.user)||void 0===r?void 0:r.follows.items.map((function(e){return(0,a.tZ)(fn,{user:e,currentUser:s.currentUser},e.id)})):null,c?(0,a.tZ)(mn,{}):null,h&&!c?(0,a.tZ)(I.zx,{text:"Load more",ref:f,onClick:m}):null]})},xn=(0,hn.X)({modalContent:[S.l0.colWithGap(24)],tab:[S.l0.justify.center,{flex:1}]}),bn=function(e){var n=e.username,t=e.initialTab,r=void 0===t?"following":t;return(0,a.BX)(k.G,{css:xn.modalContent,children:[(0,a.tZ)(W.h4,{level:2,variant:"headerDefault",children:n}),(0,a.BX)(Qe.mQ,{defaultIndex:"followers"===r?0:1,children:[(0,a.BX)(Qe.td,{children:[(0,a.tZ)(Qe.OK,{css:xn.tab,children:"Followers"}),(0,a.tZ)(Qe.OK,{css:xn.tab,children:"Following"})]}),(0,a.BX)(Qe.nP,{css:[S.l0.mt(16)],children:[(0,a.tZ)(Qe.x4,{children:(0,a.tZ)(gn,{username:n})}),(0,a.tZ)(Qe.x4,{children:(0,a.tZ)(wn,{username:n})})]})]})]})},yn=t(39137),Rn=t(96351),Bn=t(36949),Cn=t(51888),Gn=t(60803),kn=t(70719),Sn=t(15544),Pn=t(791),Un=t(90668);function Xn(){var e=(0,g.Z)(["\n  mutation ReportUser($reportedUserId: Int, $reason: String!) {\n    createBoardReport(reportedUserId: $reportedUserId, reason: $reason) {\n      __typename\n      id\n      reportedUser {\n        id\n      }\n    }\n  }\n"]);return Xn=function(){return e},e}function Wn(){var e=(0,g.Z)(["\n  mutation SetBlocking($input: SetBlocking2Input!) {\n    setBlocking2(input: $input) {\n      __typename\n      ... on SetBlocking2Result {\n        isBlocked\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Wn=function(){return e},e}var In={},Tn=(0,w.Ps)(Xn());var En=(0,w.Ps)(Wn());var Mn,Dn,_n=t(56169),An=t(31610);!function(e){e.Following="following",e.Followers="followers"}(Mn||(Mn={})),function(e){e.Report="Report",e.Block="Block"}(Dn||(Dn={}));var zn=function(e){var n,t=e.user,r=e.currentUser,s=e.onUpdate,u=(null===r||void 0===r?void 0:r.id)===t.id,d=(0,o.Z)(c.useState(!1),2),p=d[0],h=d[1],f=(0,o.Z)(c.useState(!1),2),m=f[0],v=f[1],Z=(0,o.Z)(c.useState(!1),2),g=Z[0],w=Z[1],x=(0,_n.H)()("reportingReason"),b=(0,o.Z)(c.useState(""),2),y=b[0],R=b[1],B=(0,o.Z)(c.useState(Mn.Followers),2),C=B[0],G=B[1],P=(n={display:"grid",rowGap:8,columnGap:12,gridTemplateColumns:"min-content 1fr",gridTemplateAreas:'"photo buttons" "name name"'},(0,i.Z)(n,(0,M.wS)("tabletMin","tabletMax"),{gridTemplateColumns:"min-content 1fr min-content",gridTemplateAreas:'"photo name buttons"'}),(0,i.Z)(n,(0,M.et)("tabletMax"),{gridTemplateColumns:"1fr",gridTemplateAreas:'"photo" "name" "buttons"',rowGap:16}),n),U={borderRadius:S.TV.space4,border:"none",fontWeight:S.TV.fontWeightMedium,padding:0,height:"auto",":not([disabled]):hover":{backgroundColor:"transparent"}," span":{lineHeight:S.TV.lineHeightDefault},":focus":{outlineOffset:"0 !important"}},X=(0,o.Z)(c.useState("Copy profile link"),2),T=X[0],D=X[1],_=(0,o.Z)(c.useState(t.isBlockedByCurrentUser),2),A=_[0],N=_[1],O={label:Dn.Report,icon:(0,a.tZ)(kn.Z,{}),isDestructive:!0},H={label:Dn.Block,icon:(0,a.tZ)(Gn.Z,{}),isDestructive:!0},L=A?[O]:[O,H],$=(0,Y.Z)(),V=$.showError,F=$.showConfirm,q=(0,o.Z)(function(e){var n=(0,l.Z)({},In,e);return z.D(En,n)}({onCompleted:function(e){"SetBlocking2Result"!==e.setBlocking2.__typename&&V(e.setBlocking2.message)},onError:function(e){V(e.message)}}),1)[0],j=(0,o.Z)(function(e){var n=(0,l.Z)({},In,e);return z.D(Tn,n)}({onCompleted:function(e){var n;(null===(n=e.createBoardReport.reportedUser)||void 0===n?void 0:n.id)===t.id&&F("User reported")},onError:function(e){V(e.message)}}),1),K=j[0];return(0,a.BX)(k.G,{css:[S.l0.colWithGap(8),{userSelect:"none"},(0,i.Z)({},(0,M.et)("tabletMax"),[S.l0.colWithGap(16),{width:328}])],children:[u&&!t.hasPrivacyRole?(0,a.tZ)(E.u,{isOpen:p,onRequestClose:function(){return h(!1)},children:(0,a.tZ)(Ke.ZP,{onUpdate:s,onRequestClose:function(){return h(!1)}})}):null,(0,a.BX)("div",{css:P,children:[(0,a.tZ)(k.G,{css:(0,i.Z)({gridArea:"photo",width:80},(0,M.et)("tabletMax"),{width:160}),children:u?(0,a.tZ)(Ke.Zh,{image:t.image,hasPrivacyRole:t.hasPrivacyRole}):(0,a.tZ)(qe.Z,{size:"inherit",url:t.image,thickBorder:!0})}),(0,a.BX)(k.G,{css:[S.l0.pt(0),(0,i.Z)({gridArea:"name"},(0,M.wS)("tabletMin","tabletMax"),[S.l0.pt(24)])],children:[(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.flex.wrap,S.l0.align.start,S.l0.pb(4),(0,i.Z)({},(0,M.et)("tabletMax"),[S.l0.pb(8)])],children:[(0,a.tZ)(W.h4,{level:1,css:[S.l0.mr(8),S.l0.mt(4),(0,i.Z)({fontSize:S.TV.fontSizeSubheadBig,fontWeight:S.TV.fontWeightMedium,lineHeight:S.TV.lineHeightSubheadBig,userSelect:"text",width:"100%",maxWidth:"max-content"},(0,M.et)("tabletMax"),{maxWidth:"min(max-content, 328px)",marginTop:0,fontSize:S.TV.fontSizeHeaderBig,fontWeight:S.TV.fontWeightMedium,lineHeight:S.TV.lineHeightHeaderBig})],children:t.fullName||t.username}),(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.pt(8),S.l0.flex.wrap,{width:"100%",gap:S.TV.space8}],children:[(0,a.tZ)(An.Z,{username:t.username}),t.roles.map((function(e){return(0,a.tZ)(Bn.ZP,{userRole:e.key,name:e.name,tagline:e.tagline||void 0},e.id)}))]})]}),(0,a.BX)(k.G,{css:[S.l0.rowWithGap(4),S.l0.align.center],children:[(0,a.BX)(W.xv,{color:"dimmer",css:{userSelect:"text"},multiline:!1,children:["@",t.username]}),u||A||t.isBlockingCurrentUser||!t.isFollowingCurrentUser?null:(0,a.tZ)(Rn.D,{css:[S.l0.minWidth("fit-content")],text:"Follows you"})]})]}),(0,a.BX)(k.G,{css:[S.l0.align.start,S.l0.pt(32),S.l0.flex.rowReverse,{gridArea:"buttons",gap:8},(0,i.Z)({},(0,M.et)("tabletMax"),[S.l0.pt(0),S.l0.flex.row])],children:[t.isLoggedIn&&!t.hasPrivacyRole?(0,a.tZ)(I.zx,{iconLeft:(0,a.tZ)(le.Z,{}),text:"Edit",onClick:function(){return h(!0)}}):null,u||A||t.isBlockingCurrentUser?null:(0,a.tZ)(Ye.Z,{user:t}),!u&&A?(0,a.tZ)(re.ZE,{label:"Blocked","aria-label":"Update blocked status",cssProps:[S.l0.backgroundColor.accentNegativeDimmer,S.l0.color.accentNegativeStrongest,S.l0.transition.snappy,{":not([disabled]):hover":{border:S.TV.accentNegativeStronger+" 1px solid"}}],icon:(0,a.tZ)(Gn.Z,{}),onAction:function(){q({variables:{input:{targetUserId:t.id,shouldBlock:!1}}}),N(!1)},children:(0,a.tZ)(re.ck,{children:(0,a.BX)(k.G,{css:[S.l0.rowWithGap(8),S.l0.align.center],children:[(0,a.tZ)(Pn.Z,{}),(0,a.tZ)(W.xv,{multiline:!1,children:"Unblock"})]})},"option")}):null,!t.isBlockingCurrentUser&&(0,a.tZ)(I.zx,{iconLeft:(0,a.tZ)(Sn.Z,{}),text:T,onClick:function(){(0,fe.Z)(window.location.href),D("Copied!"),setTimeout((function(){D("Copy profile link")}),1e3)},css:[S.l0.display.none,{"@media screen and (min-width: 420px)":[S.l0.display.flex]}]}),!u&&L.length>0?(0,a.tZ)(Fe.Z,{large:!0,label:"Profile Actions",orientation:"horizontal",items:L,onItemClick:function(e){e.label===Dn.Block&&(q({variables:{input:{targetUserId:t.id,shouldBlock:!0}}}),N(!0)),e.label===Dn.Report&&w(!0)}}):null]})]}),!t.isBlockingCurrentUser&&(0,a.BX)(k.G,{css:S.l0.rowWithGap(12),children:[(0,a.tZ)(I.zx,{outlined:!0,css:U,onClick:function(){G(Mn.Followers),v(!0)},text:"".concat(t.followerCount," ").concat((0,je.Z)("follower",t.followerCount))}),(0,a.tZ)(I.zx,{outlined:!0,css:U,onClick:function(){G(Mn.Following),v(!0)},text:"".concat(t.followCount," following")})]}),t.bio?(0,a.tZ)(k.G,{css:{userSelect:"text"},children:(0,a.tZ)(W.xv,{children:(0,a.tZ)(Un.ZP,{properties:{rel:"nofollow"},children:t.bio})})}):null,t.location&&!t.hasPrivacyRole?(0,a.BX)(k.G,{css:[S.l0.rowWithGap(4),S.l0.align.center],children:[(0,a.tZ)(Cn.Z,{}),(0,a.tZ)(W.xv,{multiline:!1,children:t.location})]}):null,(0,a.tZ)(E.u,{isOpen:m,onRequestClose:function(){return v(!1)},children:t.username?(0,a.tZ)(bn,{initialTab:C,username:t.username}):null}),(0,a.tZ)(E.u,{isOpen:g,onRequestClose:function(){return w(!1)},children:(0,a.BX)(k.G,{css:[S.l0.colWithGap(24)],children:[(0,a.tZ)(W.h4,{level:1,variant:"headerDefault",children:"Report user"}),(0,a.tZ)(yn.B,{id:x,onChange:function(e){R(e.currentTarget.value)},placeholder:"Why do you want to report ".concat(t.username,"?"),css:[S.l0.minHeight(64),S.l0.maxHeight(128),{resize:"vertical"}]}),(0,a.BX)(k.G,{css:[S.l0.rowWithGap(12),S.l0.justify.end],children:[(0,a.tZ)(I.zx,{onClick:function(){return w(!1)},text:"Cancel"}),(0,a.tZ)(I.zx,{text:"Report user",colorway:"negative",iconLeft:(0,a.tZ)(kn.Z,{}),onClick:function(){K({variables:{reportedUserId:t.id,reason:y}}),w(!1)}})]})]})})]})},Nn=t(45768);function On(e){return Object.keys(e).filter((function(n){return null!=e[n]})).reduce((function(n,t){return n[t]=e[t],n}),{})}function Hn(e,n){var t=(0,o.Z)(function(e,n){var t=e.indexOf("?");return t<0?[e,On(n)]:[e.slice(0,t),On((0,l.Z)({},(0,Nn.decode)(e.slice(t+1)),n))]}(e.asPath,n),2),r=t[0],i=t[1];return{href:{pathname:e.pathname,query:On((0,l.Z)({},e.query,n))},as:{pathname:r,query:i}}}var Ln=t(97807),$n=["repls","community","status","warnings"],Vn=(0,hn.X)({tabs:[S.l0.px(16),(0,i.Z)({},S.BC.max("mobileMax"),[S.l0.px(0)])],tabList:[(0,i.Z)({},S.BC.max("mobileMax"),[S.l0.px(16),{overflowX:"auto","::-webkit-scrollbar":[S.l0.display.none,{msOverflowStyle:"none",scrollbarWidth:"none"}]}])],tab:[S.l0.fontSize(20),S.l0.flex.shrink(0),S.l0.p(12),{"& + div":[S.l0.height(20)]}]}),Fn=function(e){var n=e.currentTab,t=e.currentUser,i=e.isOwnProfile,l=(0,d.useRouter)(),o=(0,c.useMemo)((function(){var e=$n.indexOf(n);return-1===e?0:e}),[n]);return(0,a.tZ)(Qe.mQ,{onSelectionChange:function(){var e=(0,r.Z)((function(e){var n,t,r;return(0,s.__generator)(this,(function(i){switch(i.label){case 0:return t=function(e,n){return Hn(e,{tab:n})}(l,$n[e]),r=null===(n=document.scrollingElement)||void 0===n?void 0:n.scrollTop,[4,l.push(t.href,t.as)];case 1:return i.sent(),r&&document.scrollingElement&&(document.scrollingElement.scrollTop=r),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),selectedIndex:o,css:Vn.tabs,children:(0,a.BX)(Qe.td,{withUnderline:!0,css:Vn.tabList,children:[(0,a.tZ)(Qe.OK,{css:Vn.tab,children:"Repls"}),(0,Ln.Z)()||(null===t||void 0===t?void 0:t.isPrivacyAccount)?null:(0,a.tZ)(Qe.OK,{css:Vn.tab,children:"Community"}),i?(0,a.tZ)(Qe.OK,{css:Vn.tab,children:"Status"}):null,(null===t||void 0===t?void 0:t.isModerator)||(null===t||void 0===t?void 0:t.isAdmin)?(0,a.tZ)(Qe.OK,{css:Vn.tab,children:"Warnings (mod)"}):null]})})},qn=t(5982),jn=t(80580),Kn=t(12013);function Yn(){var e=(0,g.Z)(["\n  fragment ProfileWarning on Warning {\n    id\n    reason\n    timeCreated\n    moderator {\n      id\n      username\n    }\n  }\n"]);return Yn=function(){return e},e}function Qn(){var e=(0,g.Z)(["\n  query ProfileWarnings($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      displayName\n      warnings {\n        id\n        ...ProfileWarning\n      }\n    }\n  }\n  ","\n"]);return Qn=function(){return e},e}var Jn={},et=(0,w.Ps)(Yn()),nt=(0,w.Ps)(Qn(),et);function tt(){var e=(0,g.Z)(["\n  mutation removeUserWarning($username: String!, $warnId: Int!) {\n    removeWarn(username: $username, warnId: $warnId) {\n      ... on Warning {\n        id\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return tt=function(){return e},e}var rt={},it=(0,w.Ps)(tt());var lt=t(48306),ot=t.n(lt),st={styles:(0,a.tZ)(ot(),{id:"7b374cb2f56b87b1",children:".card.jsx-7b374cb2f56b87b1{position:relative;border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);background:var(--background-default)}"}),className:"jsx-7b374cb2f56b87b1"},at=st.className,ct=st.styles,ut=t(43312),dt=t(3923),pt=(0,ut.iv)([S.l0.py(16),S.l0.px(24)]),ht=(0,ut.iv)([S.l0.my(8),{display:"block"}]),ft=function(e){var n,t,r=e.warning,i=e.username,s=e.onDelete,c=(0,Y.Z)(),u=c.showError,d=c.showConfirm,p=(0,o.Z)(function(e){var n=(0,l.Z)({},rt,e);return z.D(it,n)}({variables:{username:i,warnId:r.id},onCompleted:function(e){var n=e.removeWarn;"UserError"===n.__typename?u(n.message):"Warning"===n.__typename&&(d("Warning with ID ".concat(n.id," has been deleted.")),s())}}),2),h=p[0],f=p[1].loading;return(0,a.tZ)("div",{css:[S.l0.py(16)],children:(0,a.BX)("div",{className:_e()(at,"card"),css:pt,children:[(0,a.BX)("div",{css:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.BX)(W.xv,{variant:"headerDefault",multiline:!1,children:["Warning #",r.id]}),(0,a.tZ)(I.zx,{iconLeft:(0,a.tZ)(ce.Z,{}),css:[S.l0.ml(16)],colorway:"negative",text:"Delete",disabled:f,onClick:function(){return h()},outlined:!0,big:!0})]}),(0,a.BX)(W.xv,{variant:"subheadDefault",css:ht,multiline:!1,children:["REASON:"," ",(0,a.tZ)("span",{css:[{fontWeight:"normal"},S.l0.ml(8)],children:r.reason})]}),(0,a.BX)("div",{children:["Warned by"," ",r.moderator?(0,a.BX)("a",{target:"_blank",href:"/@"+(null===(n=r.moderator)||void 0===n?void 0:n.username),children:["@",null===(t=r.moderator)||void 0===t?void 0:t.username]}):"(deleted user)"]}),(0,a.tZ)(dt.E,{css:[S.l0.ml(8)],date:r.timeCreated}),ct]})})},mt=function(e){var n=function(e){var n=(0,l.Z)({},Jn,e);return R.a(nt,n)}({variables:e}),t=n.data,r=n.loading,i=n.error,o=n.refetch;if(r)return(0,a.tZ)(Kn.Z,{});if(i)return(0,a.tZ)(W.xv,{multiline:!1,children:"error.message"});if(!t||!t.user)return(0,a.tZ)(W.xv,{children:"There seems to be some trouble finding this user\u2019s warnings."});var s=t.user.warnings||[];return s.length?(0,a.tZ)("div",{children:s.map((function(n){return n&&(0,a.tZ)(ft,{warning:n,username:e.username,css:S.l0.mt(16),onDelete:o})}))}):(0,a.tZ)(k.G,{css:[S.l0.p(16)],children:(0,a.BX)(W.xv,{variant:"subheadDefault",css:[S.l0.textAlign.center],children:[t.user.displayName," has never been warned yet."]})})},vt=t(88647),Zt=t(74324),gt=t(77637),wt=(t(89981),t(30826)),xt=t.n(wt),bt=t(94716),yt=t(22107),Rt=t(4421);function Bt(){var e=(0,g.Z)(["\n                        &:hover {\n                          box-shadow: inset 0 0 0 2px black;\n                          cursor: pointer;\n                        }\n                      "]);return Bt=function(){return e},e}var Ct={mobileMax:"@media (min-width: ".concat(Rt.j.mobileMax,"px)")},Gt=k.K.a,kt=(0,ut.iv)([S.l0.p(12),S.l0.rowWithGap(8),S.l0.align.center,S.l0.justify.spaceBetween,S.l0.position.relative,dn.gU.filled,S.l0.borderRadius(0)]),St=function(e){var n=e.repl,t=e.onOpenReplModal,r=(0,yt.F)(n.timeCreated);return(0,a.tZ)(we(),(0,v.Z)((0,l.Z)({},(0,ee.j3)(n)),{passHref:!0,children:(0,a.BX)(Gt,{onClick:function(e){window.innerWidth<1080||function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||(e.preventDefault(),t(n.id))},css:kt,children:[(0,a.BX)(k.G,{css:[S.l0.colWithGap(4),S.l0.flex.shrink(1),(0,i.Z)({},Ct.mobileMax,S.l0.width("60%"))],children:[(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.align.center,{flexWrap:"wrap",gap:8}],children:[(0,a.tZ)(Ee.Z,{alt:n.templateInfo.label,iconUrl:n.templateInfo.iconUrl,size:24}),(0,a.tZ)(W.xv,{multiline:!1,variant:"subheadDefault",css:[S.l0.color.foregroundDefault,(0,i.Z)({},S.BC.max("mobileMax"),S.l0.maxWidth(200))],children:n.title}),(0,a.tZ)(k.G,{tag:"time",css:[S.l0.color.foregroundDimmest],dateTime:n.timeCreated,children:r})]}),n.description?(0,a.tZ)(W.xv,{color:"dimmer",children:n.description}):null]}),(0,a.tZ)(k.G,{css:[S.l0.rowWithGap(8),S.l0.align.center,(0,i.Z)({display:"none"},Ct.mobileMax,[S.l0.rowWithGap(8),S.l0.flex.row,S.l0.flex.wrap])],children:(0,a.tZ)(k.G,{tag:"ul",css:[S.l0.flex.row,S.l0.flex.rowReverse,S.l0.width(112),{listStyleType:"none"}],children:n.multiplayers.slice(0,5).map((function(e,n){return(0,a.tZ)(k.G,{tag:"li",css:n>0&&{marginRight:-12,zIndex:n},children:(0,a.tZ)(we(),{href:"/@".concat(e.username),passHref:!0,children:(0,a.tZ)("a",{css:[S.l0.focusRing,{borderRadius:"50%","&:focus-visible":{outlineOffset:2}}],children:(0,a.tZ)(Je.q,{size:24,username:e.username,src:e.image,css:(0,ut.iv)(Bt())})})})},e.username)}))})})]})}))},Pt=t(18171),Ut=(0,c.forwardRef)((function(e,n){var t=e.onChange,r=(0,gt.Z)(e,["onChange"]),i=(0,bt.Z)(t),o=(0,Pt.Z)((function(){return xt()((function(e){var n;return null===(n=i.current)||void 0===n?void 0:n.call(i,e)}),500,{leading:!1,trailing:!0})}),[i]);return(0,a.tZ)(yn.II,(0,l.Z)({ref:n,onChange:o},r))})),Xt=function(e){var n,t,r,i=e.user,o=e.onOpenReplModal,s=(0,c.useState)(""),u=s[0],d=s[1],p=function(e){var n=(0,l.Z)({},L,e);return R.a($,n)}({ssr:!1,variables:{username:i.username,search:u}}),h=p.data,m=p.loading,v=p.error,Z=p.fetchMore;if(v)return(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.p(32)],children:(0,a.tZ)(W.xv,{multiline:!1,children:"Error loading Repls"})});var g=null===h||void 0===h||null===(n=h.user)||void 0===n?void 0:n.profileRepls.items,w=null===h||void 0===h||null===(t=h.user)||void 0===t||null===(r=t.profileRepls)||void 0===r?void 0:r.pageInfo;return""===u&&0===(null===g||void 0===g?void 0:g.length)?(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.p(32)],children:(0,a.BX)(W.xv,{variant:"subheadBig",multiline:!1,children:[i.fullName||i.username," has no Repls yet \ud83d\ude1e"]})}):(0,a.BX)(k.G,{css:[S.l0.colWithGap(16)],children:[(0,a.BX)(k.G,{css:[S.l0.rowWithGap(8),S.l0.justify.spaceBetween],children:[(0,a.tZ)(W.xv,{variant:"headerDefault",multiline:!1,children:"All Repls"}),(0,a.tZ)("form",{onSubmit:function(e){e.preventDefault()},children:(0,a.tZ)(Ut,{placeholder:"Search Repls",defaultValue:"",onChange:function(e){return d(e.target.value)}})})]}),(0,a.tZ)(D.Tg,{children:null==g||null==w?(0,a.tZ)(f.Z,{style:{margin:"40px auto"}}):0===g.length?(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.p(32)],children:(0,a.BX)(W.xv,{variant:"subheadDefault",multiline:!1,children:['No Repls found for "',u,'"']})}):(0,a.BX)(a.HY,{children:[(0,a.tZ)(k.G,{tag:"ul",css:[S.l0.colWithGap(4),{listStyle:"none"}],children:g.map((function(e){return(0,a.tZ)(k.G,{tag:"li",css:[{":first-child, :first-child>a":{borderRadius:"".concat(S.TV.space8," ").concat(S.TV.space8," 0 0")},":last-child, :last-child>a":{borderRadius:"0 0 ".concat(S.TV.space8," ").concat(S.TV.space8)}}],children:(0,a.tZ)(St,{repl:e,onOpenReplModal:o})},e.id)}))}),w.hasNextPage&&(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.p(32)],children:(0,a.tZ)(I.zx,{onClick:function(e){e.preventDefault(),m||Z({variables:{username:i.username,after:w.nextCursor,search:u}})},text:"View more"})})]})})]})},Wt=t(7346),It=t(95015),Tt=t(13565),Et=(0,ut.F4)("\n  from {transform: rotate(0deg);}\n  to {transform: rotate(5deg);}\n"),Mt=(0,ut.F4)("\n  0% {transform: rotate(0deg) translateX(clamp(45px, 10vw, 70px)) rotate(0deg) rotate(20deg);}\n  25% {transform: rotate(90deg) translateX(clamp(45px, 10vw, 70px)) rotate(-90deg) rotate(-20deg); }\n  50% {transform: rotate(180deg) translateX(clamp(45px, 10vw, 70px)) rotate(-180deg) rotate(20deg); }\n  75% {transform: rotate(270deg) translateX(clamp(45px, 10vw, 70px)) rotate(-270deg) rotate(-20deg); }\n  100% {transform: rotate(360deg) translateX(clamp(45px, 10vw, 70px)) rotate(-360deg) rotate(20deg); }\n"),Dt=" 7s linear infinite",_t=function(e){var n=e.isOwnProfile;return(0,a.BX)(k.G,{css:[S.l0.align.center,S.l0.colWithGap(64),S.l0.p(4),S.l0.py(32),S.l0.zIndex(2),(0,i.Z)({},(0,M.EM)("tabletMin"),[S.l0.colWithGap(32)])],children:[(0,a.BX)("div",{css:[S.l0.width("100%"),S.l0.maxWidth(436),S.l0.position.relative,{aspectRatio:"2.18 / 1"}],children:[(0,a.tZ)("img",{src:"/public/images/profile/wizard-cat.svg",alt:"a drawing of a cat wearing a lab coat and holding a wizard\u2019s wand",css:{position:"absolute",width:"46%",bottom:0,left:0,transformOrigin:"25% 100%",animation:Et+" "+7/6+"s alternate infinite ease-out"}}),(0,a.tZ)("img",{src:"/public/images/profile/monitor.svg",alt:"a drawing of a monitor",css:{position:"absolute",width:"19%",top:44,right:56,animation:Mt+Dt}}),(0,a.tZ)("img",{src:"/public/images/profile/phone.svg",alt:"a drawing of a phone",css:{position:"absolute",width:"11%",top:51,right:68,animation:Mt+Dt,animationDelay:-7/3+"s"}}),(0,a.tZ)("img",{src:"/public/images/profile/coffee.svg",alt:"a drawing of a cup of coffee",css:{position:"absolute",width:"16%",top:56,right:64,animation:Mt+Dt,animationDelay:-14/3+"s"}})]}),(0,a.BX)(k.G,{css:[S.l0.colWithGap(24),S.l0.align.center,S.l0.textAlign.center],children:[(0,a.tZ)(W.xv,{variant:"subheadBig",children:n?"This is where your Repls will go when you create them!":"This person doesn't have any Repls yet!"}),n?(0,a.tZ)(k.G,{css:{boxShadow:"0 0 16px rgba(87, 171, 255, 0.5)",borderRadius:8},children:(0,a.tZ)(It.Z,{trackingContext:"profile",children:(0,a.tZ)(I.zx,{text:"Create your first Repl",colorway:"primary",iconLeft:(0,a.tZ)(j.Z,{})})})}):(0,a.tZ)(a.HY,{children:(0,a.tZ)(ve.Z,{iconLeft:(0,a.tZ)(Tt.Z,{}),colorway:"primary",text:"Invite them to a Repl",href:"/~"})})]})]})},At=t(25744),zt=t(88467),Nt=t(39082);function Ot(){var e=(0,g.Z)(["\n  query PresenceBadge($username: String!) {\n    currentUser {\n      id\n      showPresence\n    }\n    user: userByUsername(username: $username) {\n      id\n      presenceStatus {\n        lastSeen\n        isOnline\n      }\n      hasPrivacyRole\n    }\n  }\n"]);return Ot=function(){return e},e}function Ht(){var e=(0,g.Z)(["\n  mutation UpdateUserPrivacyPreferences(\n    $input: UpdateUserPrivacyPreferencesInput!\n  ) {\n    updateUserPrivacyPreferences(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        showPresence\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Ht=function(){return e},e}var Lt={},$t=(0,w.Ps)(Ot());var Vt=(0,w.Ps)(Ht());var Ft=t(91102);var qt=function(e){var n,t,r,i,s,u,d,p,h=function(e){var n=(0,l.Z)({},Lt,e);return R.a($t,n)}({variables:{username:e.username},pollInterval:12e4}).data,f=(0,Y.Z)().showError,m=(0,o.Z)(function(e){var n=(0,l.Z)({},Lt,e);return z.D(Vt,n)}({onCompleted:function(e){var n,t;"UserError"!==(null===(n=e.updateUserPrivacyPreferences)||void 0===n?void 0:n.__typename)&&"UnauthorizedError"!==(null===(t=e.updateUserPrivacyPreferences)||void 0===t?void 0:t.__typename)||f(e.updateUserPrivacyPreferences.message)},onError:function(e){return f(e.message)}}),1),v=m[0],Z=null!=(null===h||void 0===h?void 0:h.user)&&(null===(n=h.user)||void 0===n?void 0:n.id)===(null===(t=h.currentUser)||void 0===t?void 0:t.id),g=null===(d=null===h||void 0===h||null===(r=h.currentUser)||void 0===r?void 0:r.showPresence)||void 0===d||d,w=c.useCallback((function(){var e;v({variables:{input:{show_presence:g?_.YH.Never:_.YH.WhenOnline}},optimisticResponse:{__typename:"RootMutationType",updateUserPrivacyPreferences:{__typename:"CurrentUser",id:(null===h||void 0===h||null===(e=h.currentUser)||void 0===e?void 0:e.id)||0,showPresence:!g}}})}),[null===h||void 0===h||null===(i=h.currentUser)||void 0===i?void 0:i.id,g,v]),x=(0,ze.Z)();if(c.useEffect((function(){return x()}),[x]),!h||(null===(s=h.user)||void 0===s?void 0:s.hasPrivacyRole)||!h.currentUser||!(null===h||void 0===h||null===(u=h.user)||void 0===u?void 0:u.presenceStatus))return null;var b=Z?g:null!==(p=h.user.presenceStatus.isOnline)&&void 0!==p&&p,y=b?[S.l0.color.accentPositiveStronger,{filter:"drop-shadow(0 0 6px "+S.TV.accentPositiveStronger+")"}]:[S.l0.color.foregroundDimmer],B=b?[S.l0.color.accentPositiveStronger]:[S.l0.color.foregroundDimmer],C=function(e){return e?"Online":"Offline"},G=!b&&!Z&&null!=h.user.presenceStatus.lastSeen&&"Last online ".concat((0,yt.F)(h.user.presenceStatus.lastSeen));return Z?(0,a.tZ)(a.HY,{children:(0,a.tZ)(k.G,{css:[S.l0.align.start],children:(0,a.tZ)(re.ZE,{css:{backgroundColor:"transparent"},label:G||C(b),"aria-label":"update online presence",icon:(0,a.tZ)(Ft.Z,{css:[y]}),onAction:function(){return w()},children:(0,a.BX)(re.ck,{children:[(0,a.BX)(W.xv,{multiline:!1,children:["Set yourself as ",C(!b).toLowerCase()]}),b?(0,a.tZ)(W.xv,{color:"dimmer",variant:"small",children:"This will not affect your visibility within Repls or Teams."}):null]},"option")})})}):(0,a.BX)(k.G,{css:[S.l0.rowWithGap(4),S.l0.align.center,S.l0.p(4)],children:[(0,a.tZ)(Ft.Z,{css:[y]}),(0,a.tZ)(W.xv,{css:[B],multiline:!1,children:G||C(b)})]})},jt=function(e){var n=e.refetchRepls,t=(0,o.Z)(c.useState(!1),2),r=t[0],l=t[1];return(0,a.BX)(k.G,{css:[S.l0.flex.grow(2),(0,i.Z)({},(0,M.et)("tabletMin"),[S.l0.px(16)])],children:[(0,a.tZ)(D.Tg,{background:"higher",css:[S.l0.width("100%"),S.l0.justify.center,S.l0.align.center,{height:240,position:"relative",overflow:"hidden"},(0,i.Z)({},(0,M.et)("tabletMin"),{borderRadius:16})],children:(0,a.BX)(k.G,{css:[S.l0.colWithGap(16),S.l0.px(32),S.l0.align.center,S.l0.textAlign.center,S.l0.zIndex(2)],children:[(0,a.tZ)(W.xv,{variant:"headerDefault",children:"Pin a Repl to showcase it to others!"}),(0,a.tZ)(I.zx,{iconLeft:(0,a.tZ)(ae.Z,{}),colorway:"primary",text:"Pin a Repl",onClick:function(){return l(!0)},stretch:!1})]})}),(0,a.tZ)(E.u,{isOpen:r,onRequestClose:function(){return l(!1)},children:(0,a.tZ)(Me,{onSelect:function(){n(),l(!1)},showcasedRepls:[],showComboBox:!0})})]})},Kt=t(56260),Yt=t(87990),Qt=t(94712),Jt=t(86615);function er(){var e=(0,g.Z)(["\n  fragment ReplBootStatusRepl on Repl {\n    id\n    title\n    iconUrl\n    ...ReplLinkRepl\n  }\n  ","\n"]);return er=function(){return e},e}function nr(){var e=(0,g.Z)(["\n  fragment ReplBootStatusItems on ReplBootStatusConnection {\n    items {\n      repl {\n        ...ReplBootStatusRepl\n      }\n      status\n      timestamp\n    }\n  }\n  ","\n"]);return nr=function(){return e},e}function tr(){var e=(0,g.Z)(["\n  fragment ReplBootStatusUpdateEvent on ReplBootStatusUpdateEvent {\n    repl {\n      ...ReplBootStatusRepl\n    }\n    status\n    timestamp\n  }\n  ","\n"]);return tr=function(){return e},e}function rr(){var e=(0,g.Z)(["\n  query ReplBootStatus($input: ReplBootStatusInput) {\n    replBootStatus(input: $input) {\n      ... on ReplBootStatusConnection {\n        ...ReplBootStatusItems\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return rr=function(){return e},e}function ir(){var e=(0,g.Z)(["\n  subscription ReplBootStatusUpdates($input: ReplBootStatusUpdatesInput) {\n    replBootStatusUpdates(input: $input) {\n      ...ReplBootStatusUpdateEvent\n    }\n  }\n  ","\n"]);return ir=function(){return e},e}var lr={},or=(0,w.Ps)(er(),Qt.Y),sr=(0,w.Ps)(nr(),or),ar=(0,w.Ps)(tr(),or),cr=(0,w.Ps)(rr(),sr);var ur=(0,w.Ps)(ir(),ar);var dr=t(11086),pr=t(25198),hr=t(31854),fr=t(87076),mr=t(76735),vr={limited:-2,alwaysOn:-1,awake:0,asleep:1};function Zr(e,n){var t=vr[e.status]-vr[n.status];if(0!==t)return t;var r="string"===typeof e.timestamp?new Date(e.timestamp):e.timestamp;return+("string"===typeof n.timestamp?new Date(n.timestamp):n.timestamp)-+r}function gr(e,n){var t="string"===typeof e.timestamp?new Date(e.timestamp):e.timestamp;return+("string"===typeof n.timestamp?new Date(n.timestamp):n.timestamp)-+t}var wr=t(66482),xr=t(16572),br=t(33594),yr=t(56412);function Rr(){var e=(0,g.Z)(["\n  fragment ReplBootStatusHistoryEvents on ReplBootStatusHistoryConnection {\n    items {\n      status\n      timestamp\n    }\n  }\n"]);return Rr=function(){return e},e}function Br(){var e=(0,g.Z)(["\n  query ReplBootStatusHistory($input: ReplBootStatusHistoryInput!) {\n    replBootStatusHistory(input: $input) {\n      __typename\n      ... on ReplBootStatusHistoryConnection {\n        ...ReplBootStatusHistoryEvents\n        pageInfo {\n          hasNextPage\n          nextCursor\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Br=function(){return e},e}var Cr={},Gr=(0,w.Ps)(Rr()),kr=(0,w.Ps)(Br(),Gr);var Sr=function(e){var n=e.task,t=function(e){var n=(0,l.Z)({},Cr,e);return R.a(kr,n)}({variables:{input:{replId:n.repl.id,count:25}}}),i=t.data,o=t.loading,c=t.error,u=t.fetchMore,d="ReplBootStatusHistoryConnection"===(null===i||void 0===i?void 0:i.replBootStatusHistory.__typename)&&i.replBootStatusHistory.pageInfo.hasNextPage,p=function(){var e=(0,r.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return o||"ReplBootStatusHistoryConnection"!==(null===i||void 0===i?void 0:i.replBootStatusHistory.__typename)||!i.replBootStatusHistory.pageInfo.hasNextPage||null==i.replBootStatusHistory.pageInfo.nextCursor?[2]:[4,u({variables:{input:{replId:n.repl.id,after:i.replBootStatusHistory.pageInfo.nextCursor,count:25}}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),h=(0,en.Z)({onLoadMore:p,rootMargin:"0px 0px 300px 0px"}).targetRef,m=[],v=(null===c||void 0===c?void 0:c.message)||null;if(null===i||void 0===i?void 0:i.replBootStatusHistory)switch(i.replBootStatusHistory.__typename){case"ReplBootStatusHistoryConnection":m=i.replBootStatusHistory.items;break;case"UserError":case"UnauthorizedError":v=i.replBootStatusHistory.message}return(0,a.tZ)(k.G,{css:[S.l0.height("170px")],children:(0,a.tZ)(k.G,{css:[S.l0.position.absolute,S.l0.height("170px"),S.l0.overflow("scroll"),S.l0.left(0),S.l0.right(0),S.l0.bottom(0),{borderTop:"1px solid ".concat(S.TV.outlineDimmest)}],children:(0,a.BX)(k.G,{css:[S.l0.p(16),S.l0.colWithGap(8)],children:[v?(0,a.tZ)(k.G,{css:[S.l0.pb(8),S.l0.center,S.l0.align.stretch],children:(0,a.tZ)(pr.E,{colorway:"warning",icon:(0,a.tZ)(mr.Z,{}),text:v})}):null,o?(0,a.tZ)(k.G,{css:[S.l0.p(8),S.l0.center],children:(0,a.tZ)(f.Z,{})}):m.map((function(e,t){return e?(0,a.BX)(k.G,{css:[S.l0.rowWithGap(16),S.l0.color.foregroundDimmer],children:[(0,a.tZ)("code",{css:[S.l0.width("300px")],children:(0,yr.Z)(new Date(e.timestamp),"MMM dd yyyy hh:mm:ss a\tO")}),(0,a.BX)("code",{children:["| ",e.status]})]},"".concat(n.repl.id,"-").concat(t)):(0,a.tZ)(a.HY,{})})),!o&&d?(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.pt(16)],children:(0,a.tZ)(fr.h,{tooltipHidden:!0,alt:"Show more",onClick:p,ref:h,children:(0,a.tZ)(wr.Z,{})})}):null]})})})},Pr=t(21568),Ur=t(96864),Xr=t(66016);function Wr(){var e=(0,g.Z)(["\n  mutation ReplBootStatusStopRepl($replId: String!) {\n    replBootStatusStopRepl(replId: $replId) {\n      __typename\n      ... on ReplBootStatusStopReplSuccess {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return Wr=function(){return e},e}var Ir={},Tr=(0,w.Ps)(Wr());var Er,Mr=function(e){var n=e.task,t=(0,Y.Z)().showError,r=(0,o.Z)(function(e){var n=(0,l.Z)({},Ir,e);return z.D(Tr,n)}({onError:function(){return t("Something went wrong")}}),2),i=r[0],s=r[1].loading;return(0,a.tZ)(I.zx,{text:"Stop",outlined:!0,onClick:function(){return i({variables:{replId:n.repl.id}})},disabled:s,iconLeft:s?(0,a.tZ)(f.Z,{}):(0,a.tZ)(Pr.Z,{})})},Dr=function(e){var n=e.task,t=(0,a.tZ)(a.HY,{});switch(n.status){case dr.bN.Limited:case dr.bN.Awake:t=(0,a.tZ)(Mr,{task:n});break;case dr.bN.AlwaysOn:t=(0,a.tZ)(ve.Z,(0,v.Z)((0,l.Z)({text:"Restart",outlined:!0},(0,ee.aq)(n.repl)),{target:"_blank",iconLeft:(0,a.tZ)(Ur.Z,{})}));break;case dr.bN.Asleep:t=(0,a.tZ)(ve.Z,(0,v.Z)((0,l.Z)({text:"Start",outlined:!0},(0,ee.aq)(n.repl)),{target:"_blank",iconLeft:(0,a.tZ)(Xr.Z,{})}))}return(0,a.tZ)(D.Tg,{css:[S.l0.width(90),S.l0.my(4),S.l0.ml(8)],background:"default",children:t})},_r=t(62405),Ar=(0,ut.iv)([S.l0.align.center,S.l0.rowWithGap(8),{textTransform:"capitalize"}]),zr=function(e){switch(e.status){case dr.bN.Limited:return(0,a.BX)(k.G,{css:[Ar,S.l0.color.accentNegativeDefault],children:[(0,a.tZ)(mr.Z,{size:12}),(0,a.tZ)(W.xv,{multiline:!1,children:"Limited"})]});case dr.bN.Awake:return(0,a.BX)(k.G,{css:[Ar,S.l0.color.accentPositiveStronger],children:[(0,a.tZ)(oe.Z,{size:12}),(0,a.tZ)(W.xv,{multiline:!1,children:"Awake"})]});case dr.bN.AlwaysOn:return(0,a.BX)(k.G,{css:[Ar,S.l0.color.accentPositiveDefault],children:[(0,a.tZ)(k.G,{as:"span",css:[S.l0.width("8px"),S.l0.height("8px"),S.l0.borderRadius("full"),S.l0.backgroundColor.greenDefault,{boxShadow:"0 0 12px var(--accent-green-default)"}]}),(0,a.tZ)("div",{className:"always-on-indicator","aria-label":"Always on","data-microtip-position":"bottom",role:"tooltip"}),(0,a.tZ)(W.xv,{multiline:!1,children:"Always On"})]});case dr.bN.Asleep:return(0,a.BX)(k.G,{css:[Ar,S.l0.color.foregroundDimmer],children:[(0,a.tZ)(_r.Z,{size:12}),(0,a.tZ)(W.xv,{multiline:!1,children:"Asleep"})]});default:return(0,a.tZ)(a.HY,{})}},Nr=function(e){var n=e.task,t=(0,gt.Z)(e,["task"]);return(0,a.BX)(k.G,(0,v.Z)((0,l.Z)({},t),{children:[(0,a.tZ)(br.Q,{css:[S.l0.flex.growAndShrink(1)],headerContent:function(e){var t=e.toggle,r=e.toggleAttributes;return(0,a.BX)(k.G,{css:[S.l0.ml(8),S.l0.justify.spaceEvenly,S.l0.align.stretch,S.l0.flex.wrap,S.l0.rowWithGap(16),S.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(k.G,{css:[S.l0.rowWithGap(8),S.l0.width("40%"),S.l0.flex.growAndShrink(1),(0,i.Z)({},(0,M.EM)("tabletMin"),[S.l0.width("100%"),S.l0.flex.growAndShrink(1)])],children:(0,a.tZ)(we(),(0,v.Z)((0,l.Z)({},(0,ee.aq)(n.repl)),{passHref:!0,children:(0,a.BX)("a",{target:"_blank",css:[S.l0.color.foregroundDefault,S.l0.display.flex,S.l0.align.center,S.l0.rowWithGap(8),S.l0.width("100%"),{":hover":(0,l.Z)({},S.l0.color.foregroundDimmest)}],children:[(0,a.tZ)(Ee.Z,{iconUrl:n.repl.iconUrl,alt:""}),(0,a.tZ)(W.xv,{multiline:!1,variant:"subheadDefault",css:[S.l0.flex.growAndShrink(1),S.l0.textAlign.left],children:n.repl.title})]})}))}),(0,a.tZ)(k.G,(0,v.Z)((0,l.Z)({css:[S.l0.flex.growAndShrink(1),S.l0.justify.center,S.l0.reset.button,dn.gU.listItem]},r),{onClick:t,children:(0,a.BX)(k.G,{css:[S.l0.width("230px"),S.l0.rowWithGap(8),S.l0.justify.spaceBetween,(0,i.Z)({},(0,M.EM)("tabletMin"),[S.l0.width("100%"),S.l0.justify.start,S.l0.pt(8)])],children:[(0,a.tZ)(zr,{status:n.status}),(0,a.tZ)(W.xv,{css:[S.l0.color.foregroundDimmest,S.l0.ml(8)],multiline:!1,children:(0,xr.Z)(new Date(n.timestamp),Date.now(),{addSuffix:!0})})]})}))]})},chevron:"start",toggleOn:"chevron",children:(0,a.tZ)(Sr,{task:n})}),(0,a.tZ)(Dr,{task:n})]}))},Or=function(e){var n=e.tasks;return n?0===n.length?(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.p(32)],children:(0,a.tZ)(W.xv,{variant:"subheadBig",multiline:!1,children:"No results"})}):(0,a.tZ)(k.G,{css:[S.l0.colWithGap(4)],children:n.map((function(e,t){var r=0===t,l=t+1===n.length,o=r&&l&&S.l0.borderRadius(8)||r&&S.l0.borderRadius(8,8,0,0)||l&&S.l0.borderRadius(0,0,8,8)||null;return(0,a.tZ)(Nr,{css:[o,S.l0.backgroundColor.backgroundDefault,S.l0.p(12),S.l0.flex.row,S.l0.position.relative,(0,i.Z)({},(0,M.EM)("tabletMin"),[S.l0.p(8)])],task:e},e.repl.id)}))}):(0,a.tZ)(a.HY,{})},Hr=function(){var e=(0,o.Z)(c.useState(dr.l6.StatusDescending),2),n=e[0],t=e[1],i=[{value:dr.l6.StatusDescending,title:"Run Status"},{value:dr.l6.LatestActivity,title:"Latest Activity"}],u=function(e){var n=(0,l.Z)({},lr,e);return R.a(cr,n)}({variables:{input:{sort:n,count:10}},fetchPolicy:"cache-and-network",ssr:!1}),d=u.data,p=u.loading,h=u.error,m=u.fetchMore,g="ReplBootStatusConnection"===(null===d||void 0===d?void 0:d.replBootStatus.__typename)&&d.replBootStatus.pageInfo.hasNextPage,w=function(){var e=(0,r.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return p||"ReplBootStatusConnection"!==(null===d||void 0===d?void 0:d.replBootStatus.__typename)||!d.replBootStatus.pageInfo.hasNextPage||null==d.replBootStatus.pageInfo.nextCursor?[2]:[4,m({variables:{input:{after:d.replBootStatus.pageInfo.nextCursor,count:10,sort:n}}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),x=(0,en.Z)({onLoadMore:w,rootMargin:"0px 0px 300px 0px"}).targetRef,b=(0,o.Z)(c.useState(null),2),y=b[0],B=b[1],C=(0,o.Z)(c.useState(null===h||void 0===h?void 0:h.message),2),G=C[0],P=C[1];!function(e){var n=(0,l.Z)({},lr,e);Jt.m(ur,n)}({onData:function(e){var n=e.data.data,t=e.client,r=null===n||void 0===n?void 0:n.replBootStatusUpdates;if(r&&y)switch(r.__typename){case"ReplBootStatusUpdateEvent":var i=(0,Z.Z)(y),o=i.findIndex((function(e){return e.repl.id===r.repl.id}));if(-1!==o){var s=i[o];i[o]=(0,l.Z)({},s,r,s.status===dr.bN.AlwaysOn?{status:dr.bN.AlwaysOn}:{})}else{var a=(0,l.Z)({},r);i.push(a)}var c="ReplBootStatusConnection"===(null===d||void 0===d?void 0:d.replBootStatus.__typename)&&(null===d||void 0===d?void 0:d.replBootStatus);if(!c){P("Unexpected error occurred");break}t.writeQuery({query:cr,data:{replBootStatus:(0,v.Z)((0,l.Z)({},c),{items:i})}})}},onError:function(e){return P(e.message)}});var U=c.useMemo((function(){if(!y)return null;if(0===y.length)return[];var e=(0,Z.Z)(y);switch(n){case dr.l6.LatestActivity:e.sort(gr);break;case dr.l6.StatusDescending:default:e.sort(Zr)}return e}),[y,n]);return c.useEffect((function(){if(null===d||void 0===d?void 0:d.replBootStatus)switch(d.replBootStatus.__typename){case"ReplBootStatusConnection":B(d.replBootStatus.items);break;case"UnauthorizedError":P(d.replBootStatus.message)}}),[d,G]),(0,a.tZ)(k.G,{css:[S.l0.px(16)],children:(0,a.BX)(k.G,{css:[S.l0.colWithGap(16)],children:[(0,a.BX)(k.G,{css:[S.l0.backgroundColor.backgroundDefault,S.l0.justify.spaceBetween,S.l0.align.center,S.l0.px(12),S.l0.py(8),S.l0.borderRadius(8),S.l0.rowWithGap(32)],children:[(0,a.tZ)(W.xv,{css:[S.l0.color.foregroundDimmest,S.l0.flex.growAndShrink(1)],children:"Repl run status from the last 7 days is shown."}),(0,a.BX)(D.Tg,{css:[S.l0.align.center,S.l0.rowWithGap(8)],background:"default",children:[(0,a.tZ)(W.xv,{css:[S.l0.color.foregroundDimmest],multiline:!1,children:"Sort:"}),(0,a.tZ)(hr.P,{css:[S.l0.backgroundColor.backgroundHigher],"aria-label":"Sort",items:i,selectedItem:i.find((function(e){return e.value===n})),onChange:function(e){return t(e.value)}})]})]}),(0,a.BX)(k.G,{css:[S.l0.pb(48)],children:[G?(0,a.tZ)(k.G,{css:[S.l0.pb(8),S.l0.center,S.l0.align.stretch],children:(0,a.tZ)(pr.E,{colorway:"warning",icon:(0,a.tZ)(mr.Z,{}),text:G})}):null,p?(0,a.tZ)(k.G,{css:[S.l0.p(8),S.l0.center],children:(0,a.tZ)(f.Z,{})}):(0,a.tZ)(Or,{tasks:U||void 0}),!p&&g?(0,a.tZ)(k.G,{css:[S.l0.center,S.l0.pt(16)],children:(0,a.tZ)(fr.h,{tooltipHidden:!0,alt:"Show more",onClick:w,ref:x,children:(0,a.tZ)(wr.Z,{})})}):null]})]})})},Lr=t(44590),$r=t(39902),Vr=t(33137),Fr=t(17074),qr=function(e){var n=e.user,t=(0,o.Z)(c.useState(!1),2),r=t[0],i=t[1],l=n.bountyInfo.hunterEarnings.approximateCyclesEarned;return 0===l?null:(0,a.BX)(a.HY,{children:[(0,a.tZ)(I.zx,{css:[{alignSelf:"start"}],colorway:"green",text:(0,a.BX)(k.G,{css:[S.l0.rowWithGap(4),S.l0.align.center],children:[(0,a.tZ)("span",{children:"Earned"}),(0,a.tZ)($r.Z,{}),(0,a.BX)("span",{children:[(0,Vr.d)(l,1)," ",(0,a.tZ)(Fr.T,{children:(0,je.Z)("Cycles",l)}),"in Bounties"]})]}),onClick:function(){return i(!0)}}),(0,a.tZ)(E.u,{isOpen:r,onRequestClose:function(){return i(!1)},maxWidth:620,children:(0,a.tZ)(Lr.b,{bountyHunterId:n.id,context:"profile"})})]})},jr=t(37989);!function(e){e[e.ReplDialog=0]="ReplDialog",e[e.Publish=1]="Publish",e[e.None=2]="None"}(Er||(Er={}));var Kr=function(){var e,n,t,r,s,m,v,Z=(0,d.useRouter)(),g=Z.query,w=Z.asPath,x=(0,Yt.Z)("username","string")||"",b=(0,Yt.Z)("order","string"),y=(0,Yt.Z)("count","number"),R=(0,Yt.Z)("showcasedReplIndex","number"),B=(0,o.Z)(c.useState(Er.None),2),C=B[0],G=B[1],P=(0,o.Z)(c.useState(null),2),U=P[0],X=P[1],D=(0,qn.DC)({variables:{username:x}}),_=D.data,A=D.loading,z=D.error,N=D.refetch,O=null===_||void 0===_?void 0:_.currentUser,H=null===_||void 0===_?void 0:_.user,L=function(){var e=(0,Yt.Z)("tab","string");return $n.find((function(n){return n===e}))||"repls"}(),$=(0,Wt.vT)(w),V=(0,Wt.EZ)($);if(z)return(0,a.tZ)(u.default,{statusCode:404});var F=!A&&H&&void 0!==R?H.pinnedRepls[R]:void 0,q=(null===O||void 0===O?void 0:O.username)===x,j=q?null===O||void 0===O?void 0:O.hasRepl:(null===H||void 0===H||null===(e=H.publicRepls)||void 0===e?void 0:e.items)&&(null===H||void 0===H||null===(n=H.publicRepls)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.length)>0,K=(null===F||void 0===F?void 0:F.description)||(null===H||void 0===H?void 0:H.bio)||void 0,Y=(null===F||void 0===F?void 0:F.imageUrl)||(null===H||void 0===H?void 0:H.image),Q="";if(H){var J=H.fullName?" (".concat(H.fullName,")"):"";Q=H.username+J,F&&(Q="".concat(F.title," by ").concat(Q))}var ee,ne=H&&(0,a.tZ)(Oe,{currentUser:O,refetchRepls:N,user:H});return(0,a.tZ)(jr.C7,{children:(0,a.BX)(p.Z,{description:K,image:Y,title:Q,children:[(0,a.tZ)(Nt.Z,{username:x,isOwnProfile:q}),A?(0,a.tZ)(k.G,{css:[S.l0.align.center,S.l0.pt(32)],children:(0,a.tZ)(f.Z,{})}):H?H.redirectToTeamDashboard?(0,a.tZ)(Ve,{username:H.username}):(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.width("100%"),S.l0.maxWidth(1400),(0,i.Z)({flexDirection:"column",paddingTop:104},(0,M.et)("tabletMax"),{flexDirection:"row",margin:"0 auto",paddingTop:96})],children:[(0,a.BX)(k.G,{css:[S.l0.pb(32),S.l0.px(16),S.l0.position.relative,S.l0.colWithGap(8),(ee={},(0,i.Z)(ee,(0,M.et)("tabletMin"),[S.l0.flex.column]),(0,i.Z)(ee,(0,M.et)("tabletMax"),[S.l0.colWithGap(16),S.l0.position.sticky,S.l0.top(96),{alignSelf:"start"}]),(0,i.Z)(ee,(0,M.EM)("tabletMax"),[S.l0.pb(0)]),ee)],children:[(0,a.tZ)(zn,{user:H,currentUser:O,onUpdate:N}),!(null===(r=_.user)||void 0===r?void 0:r.isBlockingCurrentUser)&&(0,a.BX)(a.HY,{children:[(0,a.tZ)(qt,{username:H.username}),(0,a.tZ)(At.ZP,{user:H}),(0,a.tZ)(qr,{user:H})]})]}),(0,a.tZ)(k.G,{css:[S.l0.flex.grow(2),S.l0.flex.shrink(2),(null===(s=H.pinnedRepls)||void 0===s?void 0:s.length)<1&&!q&&S.l0.pt(128),(0,i.Z)({},(0,M.EM)("tabletMax"),[(null===(m=H.pinnedRepls)||void 0===m?void 0:m.length)<1&&S.l0.pt(0)])],children:!q&&(null===_||void 0===_?void 0:_.user)&&_.user.isBlockingCurrentUser?(0,a.tZ)(k.G,{css:[S.l0.align.center,S.l0.colWithGap(64),S.l0.pt(32),S.l0.zIndex(2),(0,i.Z)({},(0,M.EM)("tabletMin"),(0,l.Z)({},S.l0.p(4),S.l0.colWithGap(32)))],children:(0,a.BX)(k.G,{css:[S.l0.colWithGap(24),S.l0.align.center,S.l0.textAlign.center],children:[(0,a.tZ)(W.xv,{variant:"subheadBig",children:"You're blocked"}),(0,a.BX)(W.xv,{children:["You can't follow, comment or see ",_.user.username,"'s Repls on their profile."]})]})}):(0,a.tZ)(a.HY,{children:j?(0,a.BX)(k.G,{css:[S.l0.colWithGap(16),S.l0.mt(16)],children:[(null===(v=H.pinnedRepls)||void 0===v?void 0:v.length)>0&&ne,(null===O||void 0===O?void 0:O.id)===H.id&&H.pinnedRepls.length<1&&(0,a.tZ)(jt,{refetchRepls:N}),(0,a.tZ)(Fn,{currentTab:L,currentUser:O,isOwnProfile:q}),"repls"===L?(0,a.BX)(k.G,{css:S.l0.px(16),children:[q&&(0,a.BX)(k.G,{css:[S.l0.flex.row,S.l0.justify.spaceBetween,S.l0.align.center,S.l0.mb(16),S.l0.mt(4)],children:[(0,a.tZ)(Zt.Z,{links:V,username:x}),O&&(O.isAdmin||!O.isPrivacyAccount)&&(0,a.tZ)(I.zx,{iconLeft:(0,a.tZ)(zt.Z,{}),colorway:"primary",text:"Publish a Repl",onClick:function(){G(Er.Publish)}})]}),(0,a.tZ)(k.G,{css:[S.l0.pb(128)],children:q?(0,a.tZ)(vt.Z,{path:$,starred:g.starred?!!g.starred:void 0,refetchRepls:N}):(0,a.tZ)(Xt,{user:H,onOpenReplModal:function(e){G(Er.ReplDialog),X(e)}})})]}):null,"community"===L?(0,a.tZ)(T,{username:x,order:null!==b&&void 0!==b?b:"new",count:y}):null,"status"===L&&q?(0,a.tZ)(Hr,{}):null,"warnings"===L&&((null===O||void 0===O?void 0:O.isAdmin)||(null===O||void 0===O?void 0:O.isModerator))?(0,a.tZ)(mt,{username:x}):null]}):(0,a.tZ)(_t,{isOwnProfile:q})})})]}):(0,a.tZ)(h.Z,{}),(0,a.tZ)(E.u,{isOpen:C===Er.ReplDialog,onRequestClose:function(){G(Er.None),X(null)},maxWidth:1200,children:U&&(0,a.tZ)(jn.Z,{replId:U})}),(0,a.tZ)(E.u,{isOpen:C===Er.Publish,onRequestClose:function(){return G(Er.None)},maxWidth:872,noPadding:!0,fitContent:!0,children:(0,a.tZ)(Kt.Z,{source:"profile"})})]})})};Kr.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,m.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var Yr=Kr}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[7901,1492,3709,3059,2550,7005,4759,4945,7512,668,8205,2926,4159,3398,747,5878,7243,1362,8814,5333,8877,4901,4001,9887,76,2949,898,1858,8525,5923,7900,4699,593,2362,1327,8677,3550,3853,7231,6260,671,977,7081,9774,2888,179],(function(){return n(54186),n(72272)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=profile-2cb19dbf7a27cea7.js.map