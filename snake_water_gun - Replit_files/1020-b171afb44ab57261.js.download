"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1020],{23142:function(e,n,t){t.d(n,{o:function(){return Z}});var r=t(72006),o=t(4405),i=t(74985),l=t(91858),s=t(82568),u=t(2041),c=t(39541),a=t(61284),d=t(85368),h=t(54894),m=t(41666),f=t(50959),g=t(625),p=t(59545),v=(0,s.X)({authModal:[c.l0.maxWidth("100%"),c.l0.px(16),c.l0.py(32),c.l0.colWithGap(2),c.l0.align.center,c.l0.justify.center],modalDescription:[c.l0.color.foregroundDimmer,c.l0.fontSize(c.TV.fontSizeSubheadDefault),c.l0.py(16),c.l0.width("60%"),c.l0.textAlign.center]}),Z=function(e){var n=e.signupTitle,t=e.loginTitle,s=e.description,u=e.trackSource,f=e.onSuccess,g=e.onFailure,Z=e.textOnSuccess,w=void 0===Z?"Success!":Z,b=e.showAnimationOnSuccess,S=void 0!==b&&b,x=(0,p.F)(),F=x.isLogin,U=x.isTeacher,_=x.isRedirectingAfterSuccessfulAuth,k=(0,p.E)();return(0,i.BX)(d.G,{css:v.authModal,"data-cy":"auth-modal",children:[(0,i.BX)(a.xv,{variant:"headerDefault",multiline:!1,children:[F?t:n,U?" (teacher)":""]}),_?null:(0,i.tZ)(a.xv,{css:v.modalDescription,children:s}),(0,i.tZ)(h.Z,{loop:!1,path:"/public/animations/success.json",css:[c.l0.position.absolute,c.l0.left(0),c.l0.top(0),c.l0.right(0)],show:_&&S}),_?(0,i.tZ)(d.G,{children:w}):(0,i.tZ)(l.Z,{onSubmit:function(e){if("error"in e)g(e);else if("user"in e&&e.user){F&&!e.social||e.social&&!e.newUser||(0,m.jw)(e.user.id.toString()),S?setTimeout((function(){return f((0,o.Z)((0,r.Z)({},e),{isLogin:F}))}),750):f((0,o.Z)((0,r.Z)({},e),{isLogin:F})),k({isRedirectingAfterSuccessfulAuth:!0})}},trackSource:u})]})};n.Z=function(e){var n=e.isOpen,t=e.onClose,r=e.signupTitle,o=e.loginTitle,l=e.description,s=e.trackSource,c=e.onSuccess,a=e.onFailure,d=e.textOnSuccess,h=void 0===d?"Success!":d,m=e.showAnimationOnSuccess,v=void 0!==m&&m,w=(0,p.E)();return(0,f.useEffect)((function(){w({isModal:n,customHeader:n,seededState:!1}),n&&(0,g.j)(g.U3.SIGNUP_REQUESTED,{trackSource:s,authFormPlacement:"modal"})}),[n]),(0,i.tZ)(u.u,{isOpen:n,onRequestClose:t,children:(0,i.tZ)(Z,{signupTitle:r,loginTitle:o,description:l,trackSource:s,onSuccess:c,onFailure:a,textOnSuccess:h,showAnimationOnSuccess:v})})}},77551:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(72006),o=t(4405),i=t(77637),l=t(2272),s=t(74985),u=t(50959),c=t(43119),a=t(71440),d=t(50216);function h(){var e=(0,c.Z)(["\n  mutation SetFollowing($input: setFollowingInput!) {\n    setFollowing(input: $input) {\n      ... on FollowResult {\n        targetUser {\n          id\n          isFollowedByCurrentUser\n          followerCount\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var m={},f=(0,a.Ps)(h());var g=t(13233),p=t(63837),v=t(8622),Z=t(45510),w=t(23142),b=t(625),S=function(e){var n=e.user,t=e.subtle,c=e.targetName,a=(0,i.Z)(e,["user","subtle","targetName"]),h=t?void 0:"primary",S=(0,l.Z)(u.useState(!1),2),x=S[0],F=S[1],U=n.isFollowedByCurrentUser,_=(0,g.Z)().showError,k=(0,l.Z)(function(e){var n=(0,r.Z)({},m,e);return d.D(f,n)}({onCompleted:function(e){var n,t,r;"NotFoundError"===(null===(n=e.setFollowing)||void 0===n?void 0:n.__typename)&&_(e.setFollowing.message),"UserError"===(null===(t=e.setFollowing)||void 0===t?void 0:t.__typename)&&_(e.setFollowing.message),"UnauthorizedError"===(null===(r=e.setFollowing)||void 0===r?void 0:r.__typename)&&(F(!0),(0,b.j)(b.U3.SIGNUP_REQUESTED,{from:"repl",location:"follow-button",authFormPlacement:"modal"}))}}),2),y=k[0],C=k[1].loading,E=U?"Following":"Follow";return null!=c&&(E="".concat(E," ").concat(c)),(0,s.BX)(s.HY,{children:[(0,s.tZ)(Z.zx,(0,o.Z)((0,r.Z)({type:"button"},a),{colorway:U?void 0:h,text:E,iconLeft:U?(0,s.tZ)(p.Z,{}):(0,s.tZ)(v.Z,{}),onClick:function(e){e.stopPropagation(),y({variables:{input:{targetUserId:n.id,shouldFollow:!U}}}),U||(0,b.j)(b.U3.USER_FOLLOWED)},disabled:C,dataCy:"follow-button"})),(0,s.tZ)(w.Z,{isOpen:x,onClose:function(){return F(!1)},loginTitle:"Login to follow on Replit",signupTitle:"Signup to follow on Replit",description:"Create an account to follow your favourite Replers.",textOnSuccess:"Success!",onSuccess:function(){(0,b.j)(b.U3.SIGNUP_FROM_FOLLOW_BUTTON_SUCCESSFUL)},onFailure:function(e){var n=e.error;_(n)},trackSource:"follow-button"})]})}},21020:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(72006),o=t(4405),i=t(43119),l=t(74985),s=t(50959),u=t(43312),c=t(85368),a=t(82893),d=t.n(a),h=t(39541),m=t(61284),f=t(90349),g=t(17807),p=t(2041),v=t(77712),Z=t(77551),w=t(5889);function b(){var e=(0,i.Z)(["\n                    &:hover {\n                      box-shadow: 0 0 0 2px ",";\n                      cursor: pointer;\n                      z-index: 2;\n                    }\n                  "]);return b=function(){return e},e}n.C=function(e){var n=e.size,t=e.members,r=e.numMembersDisplayed,o=void 0===r?3:r,i=e.memberCount,s=t.filter((function(e){return!!e})).sort((function(e,n){return e.id>n.id?1:e.id<n.id?-1:0})),u=n/1.15;return(0,l.BX)(c.G,{css:[h.l0.flex.row,h.l0.position.relative,{width:"".concat(n+u*Math.min(t.length,4),"px"),height:"100%"}],children:[s.slice(0,o).map((function(e,t){return(0,l.tZ)(c.G,{tag:"span",css:[h.l0.position.absolute,{left:t*u,width:n,height:n}],children:(0,l.tZ)(w.Z,{src:e.image,alt:"User Image",layout:"fill",css:[h.l0.position.relative,{borderRadius:"50%"}]})},e.id)})),i>o&&(0,l.BX)(c.G,{css:[h.l0.center,h.l0.position.absolute,h.l0.backgroundColor.backgroundHigher,h.l0.color.foregroundDimmer,{left:o*u,height:n,width:n,border:"1px solid ".concat(h.TV.backgroundHighest),borderRadius:"50%"}],children:["+",i-o]})]})};var S=function(e){var n=e.size,t=e.members,r=e.numMembersDisplayed,o=void 0===r?3:r,i=e.memberCount,a=e.currentUser,f=(0,s.useState)(!1),g=f[0],v=f[1],Z=t.filter((function(e){return!!e})).sort((function(e,n){return e.id>n.id?1:e.id<n.id?-1:0})),S=n/1.15;return(0,l.BX)(c.G,{css:[h.l0.flex.row,h.l0.position.relative,{width:"".concat(n+S*Math.min(t.length,4),"px"),height:"100%"}],children:[Z.slice(0,o).map((function(e,t){return(0,l.tZ)(d(),{href:"/@".concat(e.username),children:(0,l.tZ)("a",{children:(0,l.tZ)(c.G,{tag:"span",css:[h.l0.position.absolute,{left:t*S,width:n,height:n,borderRadius:"50%"},(0,u.iv)(b(),h.TV.backgroundHighest)],children:(0,l.tZ)(w.Z,{src:e.image,alt:e.username,layout:"fill",css:[h.l0.position.relative,{borderRadius:"50%"}]})},e.id)})},e.id)})),i>o&&(0,l.BX)(l.HY,{children:[(0,l.BX)(c.G,{css:[h.l0.center,h.l0.position.absolute,h.l0.backgroundColor.backgroundHigher,h.l0.color.foregroundDimmer,h.l0.cursor.pointer,{left:o*S,height:n,width:n,border:"1px solid ".concat(h.TV.backgroundHigher),borderRadius:"50%"},(0,u.iv)("&:hover{box-shadow:inset 0 0 0 2px ",h.TV.backgroundHighest,";cursor:pointer;}")],onClick:function(){v(!0)},children:["+",i-o]}),(0,l.tZ)(p.u,{isOpen:g,onRequestClose:function(){return v(!1)},children:(0,l.BX)(c.G,{children:[(0,l.tZ)(m.xv,{variant:"headerDefault",multiline:!1,children:"Team Members"}),(0,l.tZ)("ul",{children:Z.map((function(e){return(0,l.tZ)(x,{member:e,currentUser:a},e.id)}))})]})})]})]})};function x(e){var n=e.member,t=e.currentUser;return(0,l.BX)(c.G,{tag:"li",css:[h.l0.p(8),h.l0.rowWithGap(8),h.l0.align.center,g.gU.nofill],children:[(0,l.tZ)(d(),(0,o.Z)((0,r.Z)({},(0,v.Ru)({id:n.id,url:n.url,username:n.username})),{passHref:!0,children:(0,l.BX)(c.G,{tag:"a",css:[{color:"unset"},h.l0.rowWithGap(8),h.l0.flex.growAndShrink(1),h.l0.align.center,h.l0.focusRing],children:[(0,l.tZ)(f.q,{src:n.image,size:48,username:n.username}),(0,l.BX)(c.G,{css:[h.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(m.xv,{variant:"small",color:"dimmer",multiline:!1,children:n.fullName}),(0,l.BX)(m.xv,{variant:"small",color:"dimmer",multiline:!1,children:["@",n.username]})]})]},n.id)})),n.id!==t.id&&(0,l.tZ)(Z.Z,{user:n})]})}}}]);
//# sourceMappingURL=1020-b171afb44ab57261.js.map