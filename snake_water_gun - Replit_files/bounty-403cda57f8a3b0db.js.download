(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2312],{59870:function(e,n,t){"use strict";t.d(n,{a:function(){return h},x:function(){return p}});var r=t(34204),o=t(18988),i=t(53674),a=t(84395),l=t(20585),u=t(49500);const s=new WeakMap,c=new WeakMap,d=new WeakMap;function p(e,n,t){let{value:a,children:l,"aria-label":p,"aria-labelledby":h}=e;const y=e.isDisabled||n.isDisabled;null!=l||(null!=p||null!=h)||u.warn("If you do not provide children, you must specify an aria-label for accessibility");let v=n.selectedValue===a,{pressProps:m}=(0,i.r7)({isDisabled:y}),{focusableProps:f}=(0,o.kc)((0,r.dG)(e,{onFocus:()=>n.setLastFocusedValue(a)}),t),g=(0,r.dG)(m,f),Z=(0,r.zL)(e,{labelable:!0}),b=n.lastFocusedValue===a||null==n.lastFocusedValue?0:-1;return y&&(b=void 0),{inputProps:(0,r.dG)(Z,{...g,type:"radio",name:s.get(n),tabIndex:b,disabled:y,checked:v,value:a,onChange:e=>{e.stopPropagation(),n.setSelectedValue(a)},"aria-describedby":["invalid"===n.validationState?d.get(n):null,c.get(n)].filter(Boolean).join(" ")||void 0}),isDisabled:y,isSelected:v}}function h(e,n){let{name:t,validationState:u,isReadOnly:p,isRequired:h,isDisabled:y,orientation:v="vertical"}=e,{direction:m}=(0,l.bU)(),{labelProps:f,fieldProps:g,descriptionProps:Z,errorMessageProps:b}=(0,a.U)({...e,labelElementType:"span"});c.set(n,Z.id),d.set(n,b.id);let B=(0,r.zL)(e,{labelable:!0}),{focusWithinProps:w}=(0,i.L_)({onBlurWithin(){n.selectedValue||n.setLastFocusedValue(null)}}),C=(0,r.Me)(t);return s.set(n,C),{radioGroupProps:(0,r.dG)(B,{role:"radiogroup",onKeyDown:e=>{let t;switch(e.key){case"ArrowRight":t="rtl"===m&&"vertical"!==v?"prev":"next";break;case"ArrowLeft":t="rtl"===m&&"vertical"!==v?"next":"prev";break;case"ArrowDown":t="next";break;case"ArrowUp":t="prev";break;default:return}e.preventDefault();let r,i=(0,o.QL)(e.currentTarget,{from:e.target});"next"===t?(r=i.nextNode(),r||(i.currentNode=e.currentTarget,r=i.firstChild())):(r=i.previousNode(),r||(i.currentNode=e.currentTarget,r=i.lastChild())),r&&(r.focus(),n.setSelectedValue(r.value))},"aria-invalid":"invalid"===u||void 0,"aria-errormessage":e["aria-errormessage"],"aria-readonly":p||void 0,"aria-required":h||void 0,"aria-disabled":y||void 0,"aria-orientation":v,...g,...w}),labelProps:f,descriptionProps:Z,errorMessageProps:b}}},41911:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bounties/bounty",function(){return t(97545)}])},71051:function(e,n,t){"use strict";t.d(n,{s:function(){return i}});var r=t(43119);function o(){var e=(0,r.Z)(["\n  fragment BountyHunterReputationUserInfo on User {\n    id\n    bountyInfo {\n      stats {\n        completedBountiesCount\n        averageHunterRating\n        numHunterReviews\n      }\n    }\n  }\n"]);return o=function(){return e},e}var i=(0,t(71440).Ps)(o())},28432:function(e,n,t){"use strict";t.d(n,{E:function(){return b}});var r=t(72006),o=t(4405),i=t(77637),a=t(2272),l=t(74985),u=t(1205),s=t(17074),c=t(4421),d=t(39541),p=t(85368),h=t(61284),y=t(2041),v=t(50959),m=t(44590),f=t(4678),g=t(2757),Z=function(e){var n=e.text,t=(0,i.Z)(e,["text"]);return(0,l.tZ)("button",(0,o.Z)((0,r.Z)({css:[d.l0.reset.button,d.l0.color.foregroundDimmest,d.l0.focusRing,d.l0.borderRadius(8),{transitionProperty:"color, box-shadow",transitionDuration:c.H.duration,transitionTimingFunction:c.H.timingFunction,fontSize:d.TV.fontSizeSmall,lineHeight:1.2,":not([disabled])":{textDecoration:"underline",cursor:"pointer","@media (hover: hover)":{":hover":{color:d.TV.foregroundDimmer}},":not(textarea):active":{color:d.TV.foregroundDefault}}}]},t),{children:n}))},b=function(e){var n,t=e.user,r=e.context,o=(0,a.Z)(v.useState(!1),2),i=o[0],c=o[1],b=t.bountyInfo.stats,B=b.completedBountiesCount,w=b.averageHunterRating,C=b.numHunterReviews,x="".concat(B," ").concat((0,g.Z)("Bounty",B)," Completed");return n=0===B?(0,l.tZ)(Z,{text:"No Bounties Completed",disabled:!0}):C<3||0===w?(0,l.tZ)(Z,{text:x,onClick:function(){return c(!0)}}):(0,l.BX)(p.G,{css:[d.l0.rowWithGap(4),d.l0.align.center],children:[(0,l.tZ)(u.Z,{size:12}),(0,l.BX)(h.xv,{variant:"small",css:[d.l0.align.center],multiline:!1,children:[(0,l.tZ)(s.T,{children:"Rating"}),(0,f.D)(w)," "]}),(0,l.tZ)(h.xv,{variant:"small","aria-hidden":!0,multiline:!1,children:"\u2022"}),(0,l.tZ)(Z,{text:x,onClick:function(){return c(!0)}})]}),(0,l.BX)(l.HY,{children:[n,(0,l.tZ)(y.u,{isOpen:i,onRequestClose:function(){return c(!1)},maxWidth:620,children:(0,l.tZ)(m.b,{bountyHunterId:t.id,context:r})})]})}},13455:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(2272),o=t(74985),i=t(50959),a=t(66482),l=t(48468),u=t(45510),s=t(85368),c=t(39541),d=t(33594),p=t(82568),h=t(56169),y=s.K.div,v=(0,p.X)({container:[c.l0.colWithGap(8)],contentContainer:[c.l0.position.relative],buttonContainer:[c.l0.align.start]});function m(e){var n=e.children,t=e.collapsedHeight,c=(0,r.Z)(i.useState(!1),2),p=c[0],m=c[1],f=(0,h.D)(),g="".concat("ExpandableContent"+f),Z="".concat("ExpandableContent"+f),b=(0,d.b)({defaultExpanded:!1}),B=b.isExpanded,w=b.toggle,C=(0,l.Z)((function(e){var n=e.height;void 0!==n&&m(n>t)}));return(0,o.BX)(s.G,{css:v.container,children:[(0,o.tZ)(s.G,{css:v.contentContainer,children:(0,o.tZ)(s.G,{id:Z,"aria-labelledby":p?g:void 0,css:!B&&p?{height:t,overflow:"hidden",maskImage:"linear-gradient(to top, transparent, black 64px, black)"}:void 0,children:(0,o.tZ)(y,{ref:C,children:n})})}),p?(0,o.tZ)(s.G,{css:v.buttonContainer,children:(0,o.tZ)(u.zx,{outlined:!1,stretch:!1,small:!0,onClick:w,text:"Show ".concat(B?"Less":"More"),iconRight:(0,o.tZ)(a.Z,{rotate:B?180:0}),id:g,"aria-expanded":B,"aria-controls":Z})}):null]})}},35294:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(50959),o=t(94716);function i(e,n){var t=(0,o.Z)(e);(0,r.useEffect)((function(){var e=setInterval((function(){null!==t.current&&t.current()}),n);return function(){return clearInterval(e)}}),[n,t])}},70353:function(e,n,t){"use strict";t.d(n,{o:function(){return r},p:function(){return o}});var r=function(e){var n=new Date(e),t=n.getHours(),r=n.getMinutes(),i="AM";return t>=12&&(i="PM"),0===(t%=12)&&(t="12"),r<10&&(r="0"+r),o(e)+" ".concat(t,":").concat(r," ").concat(i)},o=function(e){var n=new Date(e),t=n.getMonth()+1,r=n.getDate(),o=n.getFullYear();return"".concat(t,"/").concat(r,"/").concat(o)}},62740:function(e,n,t){"use strict";t.d(n,{T:function(){return c}});var r=t(72006),o=t(4405),i=t(77637),a=t(74985),l=(t(50959),t(85368)),u=t(96351),s=l.K.button;function c(e){var n=e.iconLeft,t=e.iconRight,l=e.text,c=e.innerRef,d=e.colorway,p=(0,i.Z)(e,["iconLeft","iconRight","text","innerRef","colorway"]);return(0,a.BX)(s,(0,o.Z)((0,r.Z)({ref:c},p),{css:[(0,u.E)({colorway:d,clickable:!0,iconLeft:!!n,iconRight:!!t}),{color:"inherit"}],children:[n,(0,a.tZ)("span",{children:l}),t]}))}},97545:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ra}});var r=t(57135),o=t(57389),i=t(72006),a=t(4405),l=t(77637),u=t(2272),s=t(96583),c=t(74985),d=t(67541),p=t(61284),h=t(85368),y=t(39541),v=t(63128),m=t(2041),f=t(12470),g=t(17755),Z=t(86302),b=t(66539),B=t(96351),w=t(87076),C=t(17807),x=t(50959),S=t(25495),A=t(43119),G=t(71440),I=t(3839);function R(){var e=(0,A.Z)(["\n  fragment BountyActionsBounty on Bounty {\n    id\n    isUnlisted\n    isCurrentUserBountyPoster\n    isCurrentUserBountySolver\n  }\n"]);return R=function(){return e},e}var P=(0,G.Ps)(R()),k=t(71051);function U(){var e=(0,A.Z)(["\n  fragment BountyPageApplication on BountyApplication {\n    id\n    timeCreated\n    isCurrentUserApplicant\n    canCurrentUserRemoveApplication\n    canCurrentUserViewChat\n    user {\n      id\n      username\n      image\n      ...BountyHunterReputationUserInfo\n      ...UserLinkUser\n      socials {\n        id\n        url\n        type\n      }\n    }\n    status\n    content\n    contactInfo\n  }\n  ","\n  ","\n"]);return U=function(){return e},e}function E(){var e=(0,A.Z)(["\n  fragment BountyPageSubmissionReview on BountySubmissionReview {\n    id\n    isAccepted\n    content\n  }\n"]);return E=function(){return e},e}function X(){var e=(0,A.Z)(["\n  fragment BountyPageSubmission on BountySubmission {\n    id\n    content\n    repls {\n      id\n      nextPagePathname\n      url\n    }\n    user {\n      id\n      ...UserLinkUser\n    }\n    review {\n      id\n      ...BountyPageSubmissionReview\n    }\n  }\n  ","\n  ","\n"]);return X=function(){return e},e}function D(){var e=(0,A.Z)(["\n  fragment ReviewBountyHunterFormBountyHunterReview on BountyHunterReview {\n    id\n    timelinessRating\n    qualityRating\n    communicationRating\n    reviewText\n    timeCreated\n  }\n"]);return D=function(){return e},e}function _(){var e=(0,A.Z)(["\n  fragment ReviewBountyHunterFormBounty on Bounty {\n    id\n    slug\n    title\n    solverPayout\n    isCurrentUserBountyPoster\n    status\n    solver {\n      id\n      username\n    }\n    user {\n      id\n      username\n    }\n    bountyHunterReview {\n      id\n      ...ReviewBountyHunterFormBountyHunterReview\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function W(){var e=(0,A.Z)(["\n  fragment BountyPageBounty on Bounty {\n    slug\n    cycles\n    solverPayout\n    fee\n    deadline\n    description\n    descriptionPreview\n    id\n    status\n    title\n    timeCreated\n    isCurrentUserBountyPoster\n    isCurrentUserBountySolver\n    hasCurrentUserApplied\n    isUnlisted\n    contactInfo\n    contactMethod\n    applicationCount\n    user {\n      id\n      username\n      image\n      bountyInfo {\n        posterSpending {\n          approximateCyclesSpent\n        }\n      }\n      ...UserLinkUser\n    }\n    solver {\n      id\n      username\n    }\n    acceptedApplication {\n      ...BountyPageApplication\n    }\n    currentUserApplication {\n      canCurrentUserViewChat\n      id\n    }\n    latestSubmission {\n      id\n      ...BountyPageSubmission\n    }\n    ...ReviewBountyHunterFormBounty\n    ...BountyActionsBounty\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return W=function(){return e},e}var T=(0,G.Ps)(U(),k.s,I._),M=(0,G.Ps)(E()),H=(0,G.Ps)(X(),I._,M),F=(0,G.Ps)(D()),L=(0,G.Ps)(_(),F),V=(0,G.Ps)(W(),I._,T,H,L,P),q=t(24635);function z(){var e=(0,A.Z)(["\n  query BountyPage($input: BountyByUrlInput!) {\n    currentUser {\n      id\n      isStaff: hasRole(role: REPLIT_STAFF)\n    }\n    bountyByUrl(input: $input) {\n      __typename\n      ... on Bounty {\n        ...BountyPageBounty\n      }\n    }\n  }\n  ","\n"]);return z=function(){return e},e}function O(){var e=(0,A.Z)(["\n  query BountyPageChatApplication($input: BountyApplicationByIdInput!) {\n    bountyApplicationById(input: $input) {\n      __typename\n      ... on BountyApplication {\n        id\n        canCurrentUserViewChat\n      }\n    }\n  }\n"]);return O=function(){return e},e}var $={},j=(0,G.Ps)(z(),V);var N=(0,G.Ps)(O());var Y=t(87990),Q=t(39902),K=t(22107),J=t(45510),ee=t(51631),ne=t(82893),te=t.n(ne),re=t(56169),oe=t(17074),ie=t(73305),ae=t(12318),le=t(13233),ue=t(39137),se=t(80747),ce=t(50216);function de(){var e=(0,A.Z)(["\n  query ApplicationForm {\n    currentUser {\n      id\n      url\n      isVerified\n      socials {\n        id\n        type\n        url\n      }\n    }\n  }\n"]);return de=function(){return e},e}function pe(){var e=(0,A.Z)(["\n  mutation ApplicationFormSetSocials($input: SetUserSocialsInput!) {\n    setUserSocials(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        socials {\n          id\n          type\n          url\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return pe=function(){return e},e}function he(){var e=(0,A.Z)(["\n  mutation ApplicationFormCreateApplication(\n    $input: CreateBountyApplicationInput!\n  ) {\n    createBountyApplication(input: $input) {\n      __typename\n      ... on BountyApplication {\n        id\n        status\n        user {\n          id\n          username\n        }\n        bounty {\n          id\n          ...BountyPageBounty\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n  ","\n"]);return he=function(){return e},e}var ye={},ve=(0,G.Ps)(de());var me=(0,G.Ps)(pe());var fe=(0,G.Ps)(he(),V);var ge=t(32104),Ze=t(74953);function be(e){var n=e.totalCycles,t=e.feePercent,r=void 0===t?25:t;if(r<0||r>25)throw new Error("Fee percent must be between 0 and 25");var o=r/100,i=Math.floor(n*o);return{cashedOutCycles:n-i,transactionFeeCycles:i}}var Be=t(14351),we=t(9970),Ce=t(82568),xe=t(94045),Se=[y.l0.p(8),y.l0.rowWithGap(8),y.l0.justify.spaceBetween,y.l0.align.center,y.l0.focusRing,y.l0.cursor.pointer],Ae=(0,Ce.X)({self:[y.l0.border({direction:"full",width:1,color:y.TV.outlineDimmer}),y.l0.borderRadius(8),y.l0.colWithGap(0)],headerExpanded:(0,we.Z)(Se).concat([y.l0.border({direction:"bottom",width:1,color:y.TV.outlineDimmer})]),headerCollapsed:Se,headerLabel:[y.l0.flex.growAndShrink(1)],content:[y.l0.p(12),y.l0.colWithGap(12)]});function Ge(e){var n=e.isExpanded,t=e.id,r=e.onClick;return(0,c.tZ)(w.h,{id:t,alt:n?"Collapse":"Expand",tooltipHidden:!0,onClick:r,children:(0,c.tZ)(xe.Z,{rotate:n?0:180,css:y.l0.transition.snappy})})}function Ie(e){var n=e.header,t=e.children,r=e.defaultExpanded,o=void 0!==r&&r,i=(0,re.D)(),a="".concat("ExpandableControl"+i),l="".concat("ExpandableContent"+i),s=(0,u.Z)(x.useState(o),2),d=s[0],p=s[1],y=function(){p(!d)};return(0,c.BX)(v.Tg,{css:Ae.self,children:[(0,c.BX)(h.G,{css:d?Ae.headerExpanded:Ae.headerCollapsed,"aria-labelledby":a,onClick:y,children:[(0,c.tZ)(h.G,{css:Ae.headerLabel,children:n}),(0,c.tZ)(Ge,{id:a,isExpanded:d,onClick:y,"aria-expanded":d,"aria-controls":l})]}),d?(0,c.tZ)(h.G,{id:l,"aria-labelledby":a,css:Ae.content,children:t}):null]})}function Re(){var e=(0,A.Z)(["\n  query BountyPageApplicationsSearch($input: BountyApplicationSearchInput!) {\n    currentUser {\n      id\n      moderationRoles: roles(only: [MODERATOR, REPLIT_STAFF]) {\n        id\n      }\n    }\n    bountyApplicationSearch(input: $input) {\n      __typename\n      ... on BountyApplicationConnection {\n        items {\n          id\n          ...BountyPageApplication\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          nextCursor\n          previousCursor\n        }\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Re=function(){return e},e}var Pe={},ke=(0,G.Ps)(Re(),T);var Ue=t(74268),Ee=t(56200),Xe=t(34938),De=t(53599),_e=t(63837),We=t(72032),Te=function(){},Me=function(e){switch(e){case ee.PP.Email:return"Your email:";case ee.PP.Discord:return"Your Discord username:"}},He=function(e){switch(e){case ee.PP.Email:return"hello@replit.com";case ee.PP.Discord:return"yourname#1234"}},Fe=function(e){var n=e.trim();return n.length>Ze.S3.MAX?{severity:"error",message:"Message must be less than ".concat(Ze.S3.MAX," characters")}:n.length<Ze.S3.MIN?{severity:"error",message:"Message must be at least ".concat(Ze.S3.MIN," characters")}:null},Le=function(){return(0,c.tZ)(h.G,{css:[y.l0.flex.grow(1),y.l0.align.center,y.l0.justify.center,y.l0.p(32)],children:(0,c.tZ)(ge.Z,{})})},Ve=function(e){var n=e.onComplete;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{variant:"headerDefault",level:2,children:"Application Submitted"}),(0,c.tZ)(p.xv,{children:"Your application for this Bounty has been submitted! Your application is currently under review. After review, it will be shared with the Bounty Poster."}),(0,c.tZ)(J.zx,{onClick:n,text:"Close",css:{alignSelf:"flex-end"}})]})},qe=function(e){var n=e.bounty.solverPayout,t=be({totalCycles:n}),r=t.cashedOutCycles,i=t.transactionFeeCycles;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.BX)(h.G,{css:(0,o.Z)({display:"inline-grid",gridTemplateColumns:"auto auto auto",gridTemplateRows:"auto",gap:y.TV.space8,columnGap:y.TV.space16,alignSelf:"start",gridTemplateAreas:'\n            "bountyValueLabel bountyValueCycles bountyValueUsd"\n            "cashOutFeeLabel cashOutFeeCycles cashOutFeeUsd"\n            "divider divider divider"\n            "cashOutAmountLabel cashOutAmountCycles cashOutAmountUsd"\n          '},y.BC.max("mobileMax"),{gap:y.TV.space4,columnGap:y.TV.space8,gridTemplateColumns:"auto auto",gridTemplateAreas:'\n              "bountyValueLabel bountyValueLabel"\n              "bountyValueCycles bountyValueUsd"\n              "cashOutFeeLabel cashOutFeeLabel"\n              "cashOutFeeCycles cashOutFeeUsd"\n              "divider divider"\n              "cashOutAmountLabel cashOutAmountLabel"\n              "cashOutAmountCycles cashOutAmountUsd"\n            '}),children:[(0,c.tZ)(p.xv,{color:"dimmer",css:{gridArea:"bountyValueLabel"},children:"Bounty value"}),(0,c.BX)(p.xv,{color:"dimmer",css:{gridArea:"bountyValueCycles"},children:[(0,c.tZ)(Q.Z,{})," ",n.toLocaleString(),(0,c.tZ)(oe.T,{children:"Cycles"})]}),(0,c.BX)(p.xv,{color:"dimmer",css:{gridArea:"bountyValueUsd"},children:["(",(0,Be.qJ)(n),")"]}),(0,c.tZ)(p.xv,{color:"dimmer",css:{gridArea:"cashOutFeeLabel"},children:"Cash out fee"}),(0,c.BX)(p.xv,{color:"dimmer",css:{gridArea:"cashOutFeeCycles"},children:[(0,c.tZ)(Q.Z,{})," ",i.toLocaleString(),(0,c.tZ)(oe.T,{children:"Cycles"})]}),(0,c.BX)(p.xv,{color:"dimmer",css:{gridArea:"cashOutFeeUsd"},children:["(",(0,Be.qJ)(i),")"]}),(0,c.tZ)("div",{css:[{borderTop:"1px solid",borderTopColor:y.TV.outlineDefault,gridArea:"divider"}]}),(0,c.tZ)(p.xv,{css:{gridArea:"cashOutAmountLabel"},children:"Cash out amount"}),(0,c.BX)(p.xv,{css:{gridArea:"cashOutAmountCycles"},children:[(0,c.tZ)(Q.Z,{})," ",r.toLocaleString(),(0,c.tZ)(oe.T,{children:"Cycles"})]}),(0,c.BX)(p.xv,{css:{gridArea:"cashOutAmountUsd"},children:["(",(0,Be.qJ)(r),")"]})]}),(0,c.BX)(p.xv,{color:"dimmer",variant:"small",children:["The fee here only applies when cashing out - you can spend Cycles earnings on Replit without a fee. Learn more about cash out eligibility and requirements in the"," ",(0,c.tZ)("a",{target:"_blank",href:"https://replit.com/site/cycles-terms",children:"Cycles terms"}),"."]})]})},ze=function(e){var n,t,a,l,d,v=e.onComplete,m=e.bounty,f=(0,re.H)(),g=(0,le.Z)(),Z=g.showError,w=g.showConfirm,C=(0,u.Z)(x.useState(!1),2),S=C[0],A=C[1],G=f("message"),I=f("message-error"),R=f("contact-info"),P=f("contact-info-error"),k=f("add-socials"),U=f("linkedin"),E=f("linkedin-error"),X=f("github"),D=f("github-error"),_=f("website"),W=f("website-error"),T=(0,ae.Y)("",Fe,{debounceDelay:"long"}),M=m.solverPayout,H=be({totalCycles:M}).cashedOutCycles,F=(0,ae.Y)(void 0,Ee.ZD),L=(0,ae.Y)(void 0,Ee.mB),V=(0,ae.Y)(void 0,Ee.su),z=m.contactMethod===ee.PP.Discord?ee.PP.Discord:ee.PP.Email,O=(0,ae.Y)("",m.contactMethod===ee.PP.Email?We.Le:We.E1,{debounceDelay:"long"}),$=[T,O,F,L,V],j=$.some((function(e){return Boolean(e.error)})),N=function(e){var n=(0,i.Z)({},ye,e);return q.a(ve,n)}({onError:function(e){Z(e.message)}}),Y=null!==(d=null===N||void 0===N||null===(n=N.data)||void 0===n||null===(t=n.currentUser)||void 0===t?void 0:t.socials)&&void 0!==d?d:void 0,K=x.useMemo((function(){return(0,Ee.AR)(Y)}),[Y]),ne=Boolean(K.linkedin||K.github||K.website),de=(0,u.Z)(function(e){var n=(0,i.Z)({},ye,e);return ce.D(me,n)}(),2),pe=de[0],he=de[1],Ze=(0,u.Z)(function(e){var n=(0,i.Z)({},ye,e);return ce.D(fe,n)}({refetchQueries:[ke]}),2),we=Ze[0],Ce=Ze[1],xe=he.loading||Ce.loading,Se=function(){var e=(0,r.Z)((function(e){var n,t,r,o,i,a,l,u,c;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return e.preventDefault(),Ce.loading?[2]:[4,Promise.all($.map((function(e){return e.validate()}))).then((function(e){return e.find((function(e){return e}))}))];case 1:if(s.sent())return[3,8];if(n=K.linkedin!==F.value,t=K.github!==L.value,r=K.website!==V.value,!(n||t||r))return[3,5];s.label=2;case 2:return s.trys.push([2,4,,5]),[4,pe({variables:{input:{socials:[{type:ee.bk.Linkedin,url:F.value},{type:ee.bk.Github,url:L.value},{type:ee.bk.Website,url:V.value}]}}})];case 3:if("CurrentUser"!==(null===(o=s.sent().data)||void 0===o?void 0:o.setUserSocials.__typename))throw new Error(null!==(i=null===o||void 0===o?void 0:o.setUserSocials.message)&&void 0!==i?i:"Something went wrong saving socials - please try again");return n&&(0,De.w)({source:"bountyApplication",surface:"social_link",social_link:"linkedin"}),t&&(0,De.w)({source:"bountyApplication",surface:"social_link",social_link:"github"}),r&&(0,De.w)({source:"bountyApplication",surface:"social_link",social_link:"website"}),[3,5];case 4:return a=s.sent(),Z(a.message),[2];case 5:return s.trys.push([5,7,,8]),[4,we({variables:{input:{bountyId:m.id,content:T.value,contactInfo:O.value}}})];case 6:if("BountyApplication"!==(null===(l=s.sent().data)||void 0===l?void 0:l.createBountyApplication.__typename))throw new Error(null!==(u=null===l||void 0===l?void 0:l.createBountyApplication.message)&&void 0!==u?u:"Something went wrong submitting your application - please try again");return l.createBountyApplication.user&&l.createBountyApplication.bounty&&(0,Ue.j0)({bountyId:l.createBountyApplication.bounty.id,username:l.createBountyApplication.user.username,title:l.createBountyApplication.bounty.title}),w("Application submitted!"),l.createBountyApplication.status===ee.Bo.AwaitingModeration?A(!0):v(),[3,8];case 7:return c=s.sent(),Z(c.message),[3,8];case 8:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();x.useEffect((function(){var e,n;(null===N||void 0===N||null===(e=N.data)||void 0===e||null===(n=e.currentUser)||void 0===n?void 0:n.isVerified)&&(0,Ue.O1)({bountyId:m.id})}),[null===N||void 0===N||null===(a=N.data)||void 0===a?void 0:a.currentUser,m.id]);var Ae=F.setValue,Ge=L.setValue,Re=V.setValue;return x.useEffect((function(){K.linkedin&&Ae(K.linkedin,{preventTouch:!0}),K.github&&Ge(K.github,{preventTouch:!0}),K.website&&Re(K.website,{preventTouch:!0})}),[K,Ae,Ge,Re]),N.data?S?(0,c.tZ)(Ve,{onComplete:v}):(null===(l=N.data.currentUser)||void 0===l?void 0:l.isVerified)?(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],tag:"form",onSubmit:Se,children:[(0,c.tZ)(p.h4,{variant:"headerDefault",level:2,children:"Apply to work on Bounty"}),(0,c.BX)(p.xv,{children:["Your application message will be publicly posted to this Bounty. Your contact information will remain private and is only shared with the Bounty Poster. Check out the"," ",(0,c.tZ)("a",{href:"https://docs.replit.com/bounties/bounty-hunting#apply-to-work-on-a-bounty",target:"_blank",children:"Bounty Hunter docs"})," ","for tips on creating a good application."]}),(0,c.tZ)(Ie,{header:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(4),y.l0.flex.shrink(1),y.l0.flex.wrap,y.l0.fontWeight.medium,{"& > *":[y.l0.flex.shrink(1)]}],children:[(0,c.tZ)(p.xv,{children:"Complete Bounty to earn"}),(0,c.BX)(p.xv,{css:[y.l0.rowWithGap(2),y.l0.align.center,y.l0.color.accentPositiveStronger],children:[(0,c.tZ)(Q.Z,{}),M.toLocaleString(),(0,c.tZ)(oe.T,{children:"Cycles"})]}),(0,c.BX)(p.xv,{css:y.l0.color.foregroundDimmest,children:["(",(0,Be.qJ)(H)," if cashed out)"]})]}),children:(0,c.tZ)(qe,{bounty:m})}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.BX)("label",{htmlFor:G,css:[y.l0.colWithGap(4)],children:[(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center,y.l0.pb(8)],children:[(0,c.tZ)(p.xv,{variant:"small",multiline:!1,children:"Application message:"}),(0,c.tZ)(b.u,{tooltip:"Anyone viewing the Bounty will be able to see your application",children:(0,c.tZ)(B.D,{text:"Public"})})]}),(0,c.tZ)(ue.B,{id:G,css:[{width:"100%",resize:"vertical",minHeight:75}],"aria-describedby":I,placeholder:"Explain why you're the best candidate to work on this Bounty. Showcase relevant past work.",value:T.value,onChange:function(e){return T.setValue(e.target.value)}})]}),T.error?(0,c.tZ)(se.p,{error:T.error,id:I}):null]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.BX)("label",{htmlFor:R,css:[y.l0.colWithGap(4)],children:[(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center,y.l0.pb(8)],children:[(0,c.tZ)(p.xv,{variant:"small",multiline:!1,children:Me(z)}),(0,c.tZ)(b.u,{tooltip:"The Bounty Poster will have access to your contact info after acceptance.",children:(0,c.tZ)(B.D,{text:"Private"})})]}),(0,c.tZ)(ue.II,{id:R,"aria-describedby":P,placeholder:He(z),value:O.value,onChange:function(e){return O.setValue(e.target.value)}})]}),O.error?(0,c.tZ)(se.p,{error:O.error,id:P}):null]}),(0,c.tZ)(Ie,{defaultExpanded:!ne,header:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center],children:[(0,c.tZ)(Xe.X,{id:k,onChange:Te,disabled:!0,checked:ne}),(0,c.tZ)("label",{htmlFor:k,children:(0,c.tZ)(p.xv,{css:y.l0.fontWeight.medium,children:"Add socials"})})]}),children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(12)],children:[(0,c.tZ)(p.xv,{children:"Link your social profiles to make your application stand out. These links will also show up on your profile page."}),(0,c.BX)(h.G,{css:[(0,o.Z)({display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",alignItems:"start",gap:y.TV.space8},y.BC.max("tabletMax"),{gridTemplateColumns:"1fr"})],children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:X,css:[y.l0.colWithGap(4)],children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmest",multiline:!1,children:"GitHub username"})}),(0,c.tZ)(ue.II,{id:X,"aria-describedby":D,value:L.value,onChange:function(e){return L.setValue(e.target.value)}}),L.error?(0,c.tZ)(p.xv,{variant:"small",children:(0,c.tZ)(se.p,{error:L.error,id:D})}):null]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:U,css:[y.l0.colWithGap(4)],children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmest",multiline:!1,children:"LinkedIn username"})}),(0,c.tZ)(ue.II,{id:U,"aria-describedby":E,value:F.value,onChange:function(e){return F.setValue(e.target.value)}}),F.error?(0,c.tZ)(p.xv,{variant:"small",children:(0,c.tZ)(se.p,{error:F.error,id:E})}):null]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:_,css:[y.l0.colWithGap(4)],children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmest",multiline:!1,children:"Website"})}),(0,c.tZ)(ue.II,{id:_,"aria-describedby":W,value:V.value,onChange:function(e){return V.setValue(e.target.value)}}),V.error?(0,c.tZ)(p.xv,{variant:"small",children:(0,c.tZ)(se.p,{error:V.error,id:W})}):null]})]}),(0,c.BX)(p.xv,{color:"dimmer",children:["Edit your profile and showcase your pinned Repls on"," ",(0,c.tZ)(te(),{href:N.data.currentUser.url,passHref:!0,children:(0,c.tZ)("a",{target:"_blank",children:"your profile page"})}),"."]})]})}),(0,c.BX)(p.xv,{variant:"small",css:y.l0.colWithGap(8),children:["By applying, you agree to the"," ",(0,c.tZ)("a",{target:"_blank",href:"https://replit.com/site/cycles-terms",children:"Cycles Terms"}),". You confirm you'll either produce the code yourself or use code you have rights to. Rights to the work transfer to the Bounty Poster upon transfer of Cycles after acceptance."]}),(0,c.tZ)(J.zx,{colorway:"primary",disabled:j||xe,iconLeft:xe?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(_e.Z,{}),text:"Send Application",type:"submit",css:{alignSelf:"flex-end"}})]}):(0,c.tZ)(ie.Z,{onEmailVerified:function(){return N.refetch()}}):(0,c.tZ)(Le,{})},Oe=t(99397),$e=t(85268),je=t(22642),Ne=t(90171),Ye=t.n(Ne),Qe=t(77712),Ke=t(93913),Je=t(84815),en=t(25198);function nn(){var e=(0,A.Z)(["\n  query SubmitForm($input: BountyByIdInput!) {\n    currentUser {\n      id\n    }\n    bountyById(input: $input) {\n      __typename\n      ... on Bounty {\n        ...BountyPageBounty\n      }\n    }\n  }\n  ","\n"]);return nn=function(){return e},e}function tn(){var e=(0,A.Z)(["\n  query SubmitFormRepl($replId: String!) {\n    repl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        isPrivate\n      }\n    }\n  }\n"]);return tn=function(){return e},e}function rn(){var e=(0,A.Z)(["\n  mutation CreateSubmission($input: CreateBountySubmissionInput!) {\n    createBountySubmission(input: $input) {\n      __typename\n      ... on BountySubmission {\n        id\n        content\n        repls {\n          id\n        }\n        user {\n          id\n          username\n        }\n        bounty {\n          ...BountyPageBounty\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return rn=function(){return e},e}var on={},an=(0,G.Ps)(nn(),V);var ln=(0,G.Ps)(tn());var un=(0,G.Ps)(rn(),V);var sn=t(47832),cn=t(72463),dn=t(76735);function pn(){var e=(0,A.Z)(["\n  fragment BountyEventsUser on User {\n    __typename\n    id\n    username\n    image\n    url\n  }\n"]);return pn=function(){return e},e}function hn(){var e=(0,A.Z)(["\n  fragment BountyEventsBountyUpdate on BountyUpdate {\n    title\n    description\n    deadline\n    contactInfo\n    cycles\n  }\n"]);return hn=function(){return e},e}function yn(){var e=(0,A.Z)(["\n  fragment BountyEventsBountyEvent on BountyEvent {\n    __typename\n    ... on BountyStateChangeEvent {\n      id\n      timeCreated\n      eventType\n      newStatus\n      oldStatus\n    }\n    ... on BountyWorkReviewedEvent {\n      id\n      timeCreated\n      eventType\n      content\n      isAccepted\n    }\n    ... on BountyWorkSubmittedEvent {\n      id\n      timeCreated\n      eventType\n      content\n      user {\n        id\n        ...BountyEventsUser\n      }\n    }\n    ... on BasicBountyEvent {\n      id\n      timeCreated\n      eventType\n    }\n    ... on BountyUpdatesEvent {\n      id\n      timeCreated\n      eventType\n      before {\n        ...BountyEventsBountyUpdate\n      }\n      after {\n        ...BountyEventsBountyUpdate\n      }\n    }\n    ... on BountyApplicationReviewedEvent {\n      id\n      timeCreated\n      eventType\n      isAccepted\n      user {\n        id\n        ...BountyEventsUser\n      }\n    }\n  }\n  ","\n  ","\n"]);return yn=function(){return e},e}function vn(){var e=(0,A.Z)(["\n  fragment BountyEventsBounty on Bounty {\n    id\n    events(count: 30) {\n      __typename\n      items {\n        ...BountyEventsBountyEvent\n      }\n    }\n    user {\n      id\n      ...BountyEventsUser\n    }\n  }\n  ","\n  ","\n"]);return vn=function(){return e},e}function mn(){var e=(0,A.Z)(["\n  query BountyEventLog($input: BountyByIdInput!) {\n    bountyById(input: $input) {\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Bounty {\n        id\n        ...BountyEventsBounty\n      }\n    }\n  }\n  ","\n"]);return mn=function(){return e},e}var fn={},gn=(0,G.Ps)(pn()),Zn=(0,G.Ps)(hn()),bn=(0,G.Ps)(yn(),gn,Zn),Bn=(0,G.Ps)(vn(),bn,gn),wn=(0,G.Ps)(mn(),Bn);var Cn=function(e){return e.length>2e3?{severity:"error",message:"Message must be less than 2000 characters"}:0===e.trim().length?{severity:"error",message:"Message cannot be blank"}:null},xn=function(e){return 0===e.length?{severity:"error",message:"Must pick a Repl to submit"}:null},Sn=function(e){var n,t,o,a,l,d,v=e.onComplete,m=e.bountyId,f=(0,re.H)(),g=(0,le.Z)(),Z=g.showError,b=g.showConfirm,B=(0,ae.Y)("",Cn,{debounceDelay:"long"}),w=(0,ae.Y)("",xn,{debounceDelay:"long"}),C=[w,B],x=Boolean(C.find((function(e){return e.error}))),S=function(e){var n=(0,i.Z)({},on,e);return q.a(an,n)}({variables:{input:{id:m}},onError:function(e){Z(e.message)}}),A=function(e){var n=(0,i.Z)({},on,e);return q.a(ln,n)}({variables:{replId:w.value},skip:!w.isValid}),G=Boolean("Repl"===(null===(n=A.data)||void 0===n||null===(t=n.repl)||void 0===t?void 0:t.__typename)&&!(null===(o=A.data)||void 0===o?void 0:o.repl.isPrivate)),I=(0,u.Z)(function(e){var n=(0,i.Z)({},on,e);return ce.D(un,n)}({variables:{input:{bountyId:m,content:B.value,replIds:[w.value]}},onCompleted:function(e){if("BountySubmission"===e.createBountySubmission.__typename){var n,t,r=e.createBountySubmission.repls.length>=1?e.createBountySubmission.repls[0].id:void 0;(0,Ue.UZ)({bountyId:m,description:e.createBountySubmission.content,replId:null!==r&&void 0!==r?r:"",username:null!==(t=null===(n=e.createBountySubmission.user)||void 0===n?void 0:n.username)&&void 0!==t?t:""}),b("Work submitted"),v()}else Z(e.createBountySubmission.message)},onError:function(e){Z(e.message)},refetchQueries:[wn]}),2),R=I[0],P=I[1].loading;if(S.loading)return(0,c.tZ)(h.G,{css:[y.l0.flex.grow(1),y.l0.align.center,y.l0.justify.center],children:(0,c.tZ)(ge.Z,{})});if("Bounty"!==(null===(a=S.data)||void 0===a?void 0:a.bountyById.__typename)||"CurrentUser"!==(null===(l=S.data)||void 0===l||null===(d=l.currentUser)||void 0===d?void 0:d.__typename)||!S.data.bountyById.user)return(0,c.tZ)(h.G,{css:[y.l0.flex.grow(1),y.l0.align.center,y.l0.justify.center],children:(0,c.tZ)(p.xv,{multiline:!1,children:"Unable to load bounty"})});var k=S.data.bountyById.user,U=S.data.currentUser,E=function(){var e=(0,r.Z)((function(e){var n;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return e.preventDefault(),[4,Promise.all(C.map((function(e){return e.validate()})))];case 1:return n=t.sent(),Boolean(n.find((function(e){return Boolean(e)})))?[2]:(R(),[2])}}))}));return function(n){return e.apply(this,arguments)}}();return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],tag:"form",onSubmit:E,children:[(0,c.tZ)(p.h4,{variant:"headerDefault",level:2,children:"Submit Work"}),(0,c.BX)(p.xv,{children:["When you submit, @",k.username," will be able to review your submission."]}),(0,c.BX)(h.G,{css:y.l0.colWithGap(4),children:[(0,c.tZ)("label",{htmlFor:f("message"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Submission Description"})}),(0,c.tZ)(ue.B,{id:f("message"),disabled:P,css:[{width:"100%",resize:"vertical",minHeight:75}],"aria-describedby":f("messageError"),placeholder:"Include any relevant links or notes about your submission.",value:B.value,onChange:function(e){return B.setValue(e.target.value)}}),B.error?(0,c.tZ)(se.p,{error:B.error,id:f("messageError")}):null]}),(0,c.BX)(h.G,{css:y.l0.colWithGap(4),children:[(0,c.tZ)("label",{htmlFor:f("repl"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Submission Repl"})}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(8)],children:[(0,c.tZ)(sn.Z,{id:f("repl"),disabled:P,filter:function(e){var n;return(null===(n=e.owner)||void 0===n?void 0:n.id)===U.id},onSelect:function(e){return w.setValue(e.id)},"aria-describedby":f("replError")}),G?(0,c.tZ)(en.E,{id:f("replError"),colorway:"warning",icon:(0,c.tZ)(dn.Z,{}),text:"You've attached a public Repl. We strongly recommend only submitting private Repls unless you and the Bounty poster have agreed on using a public Repl."}):null]}),w.error?(0,c.tZ)(se.p,{error:w.error,id:f("replError")}):null]}),(0,c.BX)(p.xv,{variant:"small",css:y.l0.colWithGap(8),children:[(0,c.BX)("p",{children:["By submitting, you agree to the"," ",(0,c.tZ)("a",{href:"https://replit.com/site/cycles-terms",children:"Terms"})," where you certify that you own or have the right to use content and code you create on Replit and will comply with the law."]}),(0,c.tZ)("p",{children:"Rights in the code you create will transfer from you to the Bounty Poster later."})]}),(0,c.tZ)(J.zx,{disabled:x||P,iconLeft:P?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(cn.Z,{}),colorway:"primary",text:"Submit Work",type:"submit",css:{alignSelf:"flex-end"}})]})};function An(){var e=(0,A.Z)(["\n  mutation ReviewBountySubmission($input: CreateBountySubmissionReviewInput!) {\n    createBountySubmissionReview(input: $input) {\n      __typename\n      ... on BountySubmissionReview {\n        id\n        ...BountyPageSubmissionReview\n        submission {\n          id\n          bounty {\n            ...BountyPageBounty\n          }\n          ...BountyPageSubmission\n          review {\n            id\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return An=function(){return e},e}var Gn={},In=(0,G.Ps)(An(),M,V,H);var Rn=t(51523),Pn=t(34338),kn=t(92471),Un=t(28737),En=t(48453),Xn=t.n(En);function Dn(){var e=(0,A.Z)(["\n  mutation ReviewBountyHunterFormReview($input: ReviewBountyHunterInput!) {\n    reviewBountyHunter(input: $input) {\n      __typename\n      ... on BountyHunterReview {\n        id\n        ...ReviewBountyHunterFormBountyHunterReview\n        bounty {\n          id\n          ...BountyPageBounty\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return Dn=function(){return e},e}var _n={},Wn=(0,G.Ps)(Dn(),F,V);var Tn=t(33280),Mn=t(85188),Hn=t(59870),Fn=t(18988),Ln=x.createContext(null);var Vn=[1,2,3,4,5];function qn(e){return(0,c.tZ)(zn,(0,a.Z)((0,i.Z)({},e),{value:e.value?e.value.toString():"",defaultValue:e.defaultValue?e.defaultValue.toString():"",onChange:function(n){var t=parseInt(n,10);(function(e){return Vn.includes(e)})(t)&&e.onChange&&e.onChange(t)},description:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.justify.spaceBetween,y.l0.width("100%")],children:[(0,c.tZ)(p.xv,{variant:"small",color:"dimmest",children:"Strongly Disagree"}),(0,c.tZ)(p.xv,{variant:"small",color:"dimmest",children:"Strongly Agree"})]}),children:(0,c.tZ)(h.G,{css:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:y.TV.space8},children:Vn.map((function(e){return(0,c.tZ)(On,{value:e.toString(),children:e},e)}))})}))}function zn(e){var n=e.children,t=e.label,r=e.description,o=e.errorMessage,l=(0,Mn.w)(e),u=(0,Hn.a)(e,l),s=u.radioGroupProps,d=u.labelProps,v=u.descriptionProps,m=u.errorMessageProps;return(0,c.BX)(h.G,(0,a.Z)((0,i.Z)({},s),{css:y.l0.colWithGap(8),children:[(0,c.tZ)(h.G,(0,a.Z)((0,i.Z)({},d),{children:t})),(0,c.tZ)(Ln.Provider,{value:l,children:n}),(0,c.tZ)(h.G,(0,a.Z)((0,i.Z)({},v),{children:r})),o?(0,c.tZ)(p.xv,(0,a.Z)((0,i.Z)({variant:"small",css:[y.l0.color.accentNegativeStronger]},m),{children:o})):null]}))}function On(e){var n=e.children,t=function(){var e=x.useContext(Ln);if(null==e)throw new Error("Expected RadioContext");return e}(),r=x.useRef(null),o=(0,Hn.x)(e,t,r),l=o.inputProps,u=o.isSelected,s=o.isDisabled,d=(0,Fn.Fx)(),p=d.isFocusVisible,v=d.focusProps;return(0,c.BX)(h.G,{tag:"label",css:[y.l0.justify.center],style:{opacity:s?.4:1},children:[(0,c.tZ)(oe.T,{children:(0,c.tZ)("input",(0,a.Z)((0,i.Z)({},l,v),{ref:r}))}),(0,c.tZ)(h.G,{"aria-hidden":"true",css:[C.gU.outlined,y.l0.display.flex,y.l0.align.center,y.l0.p(16),{border:u?"1px solid ".concat(y.TV.accentPrimaryStronger):"auto",boxShadow:u?y.TV.shadow1:"none",transform:u?"scale(1.05)":"none",backgroundColor:u?"".concat(y.TV.accentPrimaryDimmest):"auto",":hover":{backgroundColor:u?"".concat(y.TV.accentPrimaryDimmest," !important"):"".concat(y.TV.backgroundHigher)}},p?{border:"1px solid ".concat(y.TV.accentPrimaryStronger),backgroundColor:"".concat(y.TV.accentPrimaryDimmest),boxShadow:"0 0 0 2px ".concat(y.TV.accentPrimaryDefault,", ").concat(y.TV.shadow1),outline:"2px solid transparent",outlineOffset:"4px"}:void 0],children:n})]})}var $n=h.K.form,jn=function(e){if(null==e)return{message:"Communication rating is required"}},Nn=function(e){if(null==e)return{message:"Quality rating is required"}},Yn=function(e){if(null==e)return{message:"Timeliness rating is required"}};function Qn(e){var n,t,r,o,a,l,s,d=e.bounty,v=e.onDone,m=(0,le.Z)(),f=m.showConfirm,g=m.showError,Z=(0,u.Z)(function(e){var n=(0,i.Z)({},_n,e);return ce.D(Wn,n)}({onError:function(){g("Something went wrong - please try again")},onCompleted:function(e){"BountyHunterReview"===e.reviewBountyHunter.__typename?(f("Review submitted"),(0,Ue.IV)({bountyId:d.id,bountyHunterReviewId:e.reviewBountyHunter.id,communicationRating:e.reviewBountyHunter.communicationRating,qualityRating:e.reviewBountyHunter.qualityRating,timelinessRating:e.reviewBountyHunter.timelinessRating,hasReviewText:Boolean(e.reviewBountyHunter.reviewText)}),v()):g(e.reviewBountyHunter.message)}}),2),b=Z[0],B=Z[1],w=null!==(o=d.solver)&&void 0!==o?o:null,C=(0,ae.Y)(null,jn),S=(0,ae.Y)(null,Nn),A=(0,ae.Y)(null,Yn),G=(0,Ze.Lg)({communicationRating:null!==(a=C.value)&&void 0!==a?a:1,qualityRating:null!==(l=S.value)&&void 0!==l?l:1,timelinessRating:null!==(s=A.value)&&void 0!==s?s:1}),I=(0,ae.Y)("",(function(e){return 0===e.length?G?{severity:"error",message:"Comment is required"}:void 0:e.trim().length<Ze.ul.MIN?{severity:"error",message:"Comment must be at least ".concat(Ze.ul.MIN," characters")}:e.length>Ze.ul.MAX?{severity:"error",message:"Comment must be less than ".concat(Ze.ul.MAX," characters")}:null}),{debounceDelay:"long"}),R=[C,S,A,I],P=R.some((function(e){return Boolean(e.error)})),k=(0,re.H)(),U=(0,u.Z)(x.useState(!1),2),E=U[0],X=U[1];x.useEffect((function(){(0,Ue.gN)({bountyId:d.id})}),[d.id]);var D=R.some((function(e){return Boolean(e.value)}));if(x.useEffect((function(){!E&&D&&((0,Ue.Px)({bountyId:d.id}),X(!0))}),[d.id,E,D]),null==w||!d.isCurrentUserBountyPoster)return(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Review Bounty Hunter"}),(0,c.tZ)(p.xv,{children:"You cannot submit a review for this Bounty."})]});var _,W,T;return(0,c.BX)($n,{onSubmit:function(e){e.preventDefault(),R.map((function(e){return e.validate()})).some((function(e){return Boolean(e)}))||(null!=S.value&&null!=C.value&&null!=A.value?b({variables:{input:{bountyId:d.id,userToReviewId:w.id,qualityRating:S.value,timelinessRating:A.value,communicationRating:C.value,reviewText:I.value}}}):g("Something went wrong - please try again."))},css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center],children:[(0,c.tZ)("span",{role:"img","aria-label":"celebrate",css:y.l0.fontSize("36px"),children:"\ud83c\udf89"}),(0,c.tZ)("span",{children:"Your Bounty is Complete"})]})}),(0,c.BX)(p.xv,{children:["Before you go, let us know how your experience was with @",w.username,". This information will be visible by the public."]}),(0,c.tZ)(Tn.R,{}),(0,c.tZ)(h.G,{css:y.l0.colWithGap(8),children:(0,c.tZ)(qn,{label:(0,c.BX)(h.G,{css:y.l0.colWithGap(0),children:[(0,c.tZ)(p.xv,{children:"Communication"}),(0,c.BX)(p.xv,{variant:"small",color:"dimmest",children:["I was satisfied with @",w.username,"'s ability to communicate during the project."]})]}),value:null!==(_=C.value)&&void 0!==_?_:void 0,onChange:function(e){C.setValue(e)},errorMessage:null===(n=C.error)||void 0===n?void 0:n.message})}),(0,c.tZ)(h.G,{css:y.l0.colWithGap(8),children:(0,c.tZ)(qn,{label:(0,c.BX)(h.G,{css:y.l0.colWithGap(0),children:[(0,c.tZ)(p.xv,{children:"Quality"}),(0,c.tZ)(p.xv,{variant:"small",color:"dimmest",children:"I was satisfied with the quality of work that was produced."})]}),value:null!==(W=S.value)&&void 0!==W?W:void 0,onChange:function(e){S.setValue(e)},errorMessage:null===(t=S.error)||void 0===t?void 0:t.message})}),(0,c.tZ)(h.G,{css:y.l0.colWithGap(8),children:(0,c.tZ)(qn,{label:(0,c.BX)(h.G,{htmlFor:"",css:y.l0.colWithGap(0),children:[(0,c.tZ)(p.xv,{children:"Timeliness"}),(0,c.BX)(p.xv,{variant:"small",color:"dimmest",children:["I was satisfied with the speed in which @",w.username,"'s operated."]})]}),value:null!==(T=A.value)&&void 0!==T?T:void 0,onChange:function(e){A.setValue(e)},errorMessage:null===(r=A.error)||void 0===r?void 0:r.message})}),(0,c.tZ)(Tn.R,{}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:k("comment"),children:(0,c.tZ)(p.xv,{children:"Leave a comment"})}),(0,c.tZ)(ue.B,{id:k("comment"),css:[{width:"100%",resize:"vertical",minHeight:75}],"aria-describedby":k("commentError"),placeholder:"Write a testimonial or comment about working with the Hunter",value:I.value,onChange:function(e){return I.setValue(e.target.value)}}),I.error?(0,c.tZ)(se.p,{error:I.error,id:k("commentError")}):null]}),(0,c.tZ)(h.G,{css:[y.l0.rowWithGap(16),y.l0.justify.end],children:(0,c.tZ)(J.zx,{disabled:B.loading||P,text:"Submit Review",type:"submit",colorway:"primary",iconLeft:B.loading?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(_e.Z,{})})})]})}var Kn,Jn=t(56029),et=t(77806),nt=t(26948),tt=t(91450),rt=t(60566),ot=t(625),it={self:[y.l0.colWithGap(24)],headerContainer:[y.l0.rowWithGap(8),y.l0.align.center],celebrateEmoji:[y.l0.fontSize("36px")],content:[y.l0.colWithGap(16)],buttons:[y.l0.flex.row,y.l0.justify.end,y.l0.align.end,(Kn={},(0,o.Z)(Kn,(0,Pn.EM)("mobileMax"),[y.l0.flex.column,y.l0.justify.center,y.l0.align.stretch,y.l0.width("100%")]),(0,o.Z)(Kn,"gap",y.TV.space8),Kn)]};function at(e){var n,t=e.bounty;x.useEffect((function(){(0,Ue.E9)()}),[]);var r=(0,le.Z)().showConfirm,o=(0,Ke.D)({username:t.user.username,slug:t.slug})+"?from=share",i=(null===(n=t.solver)||void 0===n?void 0:n.username)?"".concat(t.solver.username):"A Replit creator",a="".concat(i," just brought my idea to life on my @Replit Bounty \u201c").concat(t.title,"\u201d \u2013 and earned ").concat(t.solverPayout," Cycles for successfully completing it!"),l=(0,nt.Z)({text:a,url:o});return(0,c.BX)(h.G,{css:it.self,children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:(0,c.BX)(h.G,{css:it.headerContainer,children:[(0,c.tZ)("span",{role:"img","aria-label":"celebrate",css:it.celebrateEmoji,children:"\ud83e\udd73"}),(0,c.tZ)("span",{children:"Share your success"})]})}),(0,c.BX)(h.G,{css:it.content,children:[(0,c.tZ)(p.xv,{children:"Great job. Now it's time to let the world know! This will increase the likelihood that a talented creator will apply for your next Bounty."}),(0,c.BX)(h.G,{css:[y.l0.position.relative,y.l0.borderRadius(8),y.l0.backgroundColor.backgroundHigher,y.l0.py(8),y.l0.px(12)],children:[(0,c.tZ)(h.G,{css:y.l0.pr(16),children:a}),(0,c.tZ)(w.h,{css:[y.l0.position.absolute,y.l0.top(8),y.l0.right(8)],alt:"Copy",size:18,tooltipHidden:!0,onClick:function(){r("Copied to clipboard!"),(0,rt.Z)(a),(0,Ue.$$)()},children:(0,c.tZ)(et.Z,{size:16})})]}),(0,c.BX)(h.G,{css:it.buttons,children:[(0,c.tZ)(Jn.m,{iconLeft:(0,c.tZ)(et.Z,{}),textToCopy:o,text:"Copy Link",tooltip:"Link copied!",onClick:function(){(0,Ue.$$)()}}),(0,c.tZ)(Z.Z,{colorway:"primary",prefetch:!1,href:l,iconLeft:(0,c.tZ)(tt.Z,{}),text:"Share to Twitter",target:"_blank",onClick:function(){(0,ot.j)(ot.U3.EXTERNAL_LINK_VIEWED,{url:l,source:"bounty-completed-share-dialog"})}})]})]})]})}var lt,ut=function(e){var n=e.user;return n?(0,c.BX)(p.xv,{variant:"subheadDefault",color:"default",css:y.l0.flex.growAndShrink(1),children:[(0,c.tZ)(te(),(0,a.Z)((0,i.Z)({},(0,Qe.Ru)(n)),{passHref:!0,children:(0,c.BX)("a",{css:[y.l0.color.foregroundDefault],children:["@",n.username]})}))," ","submitted work!"]}):(0,c.tZ)(p.xv,{variant:"subheadDefault",color:"default",css:y.l0.flex.growAndShrink(1),children:"Work submitted!"})};!function(e){e.Accept="Approve",e.Reject="Reject",e.ReviewHunter="ReviewHunter",e.SocialShare="SocialShare"}(lt||(lt={}));var st=function(e){return e.length>2e3?{severity:"error",message:"Message must be less than 2000 characters"}:0===e.length?{severity:"error",message:"Message is required"}:null},ct=function(e){var n=e.submission,t=e.children,r=(0,Un.F)().values,o=y.TV.accentNegativeDefault,i=Xn()(r.global.accentNegativeDefault).alpha(.4).hex();return n.review?n.review.isAccepted&&(o=y.TV.accentPositiveDefault,i=Xn()(r.global.accentPositiveDefault).alpha(.4).hex()):(o=y.TV.accentPrimaryDefault,i=Xn()(r.global.accentPrimaryDefault).alpha(.4).hex()),(0,c.tZ)(v.Tg,{elevated:!0,css:[y.l0.p(16),y.l0.colWithGap(16),y.l0.borderRadius(8),{border:"1px solid ".concat(o),boxShadow:"0 0 8px ".concat(i)}],children:t})},dt=function(e){var n,t,r,l=e.bounty,s=e.submission,d=e.isUserBountyPoster,v=(0,re.H)(),f=(0,le.Z)(),g=f.showError,b=f.showConfirm,B=(0,Y.Z)("username","string"),w=(0,u.Z)(x.useState(null),2),C=w[0],S=w[1],A=l.isCurrentUserBountyPoster&&null==l.bountyHunterReview,G=v("message"),I=v("message-error"),R=(0,ae.Y)("",st,{debounceDelay:"long"}),P=(0,u.Z)(function(e){var n=(0,i.Z)({},Gn,e);return ce.D(In,n)}({onCompleted:function(e){if("BountySubmissionReview"===e.createBountySubmissionReview.__typename){var n,t=null===(n=e.createBountySubmissionReview.submission)||void 0===n?void 0:n.bounty;if(t){var r,o,a,l,u=(0,Ze.Xw)(t.cycles),s=t.cycles-u,c={bountyId:t.id,title:t.title,description:t.description,hunterPayout:s,platformFee:u,username:null!==(o=null===(r=t.user)||void 0===r?void 0:r.username)&&void 0!==o?o:"",targetCompletionDate:new Date(t.deadline).toISOString(),communicationMethod:null!==(a=t.contactMethod)&&void 0!==a?a:void 0,isUnlisted:t.isUnlisted};if(e.createBountySubmissionReview.isAccepted)(0,Ue.a7)((0,i.Z)({},c));else(0,Ue.ci)((0,i.Z)({reason:null!==(l=e.createBountySubmissionReview.content)&&void 0!==l?l:""},c))}e.createBountySubmissionReview.isAccepted?(b("Work accepted"),S(A?lt.ReviewHunter:null)):(b("Changes requested"),S(null))}else g(e.createBountySubmissionReview.message)},onError:function(e){g(e.message)},refetchQueries:[wn]}),2),k=P[0],U=P[1].loading,E=s.user,X=s.repls.length>0?(0,Rn.aq)(s.repls[0]):null,D=!!l.bountyHunterReview&&(l.bountyHunterReview.communicationRating+l.bountyHunterReview.qualityRating+l.bountyHunterReview.timelinessRating)/3>=4.2,_=(0,c.BX)(c.HY,{children:[(0,c.tZ)(m.u,{isOpen:C===lt.Accept,onRequestClose:function(){return S(null)},children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{level:2,variant:"headerDefault",children:"Accept Work"}),(0,c.BX)(p.xv,{children:["Once a submission is approved, your cycles will be released to"," ",E?"@".concat(E.username,"."):"the solver."]}),(0,c.tZ)(J.zx,{text:"Accept Work",disabled:U,iconLeft:U?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(_e.Z,{}),css:{alignSelf:"end"},colorway:"primary",onClick:function(){U||k({variables:{input:{bountySubmissionId:s.id,isAccepted:!0}}})}})]})}),(0,c.tZ)(m.u,{isOpen:C===lt.Reject,onRequestClose:function(){return S(null)},children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{level:2,variant:"headerDefault",children:"Request Changes"}),(0,c.tZ)(p.xv,{children:"To reject a submission you must provide sufficient reasoning as to why this contribution did not fulfill your task."}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:G,children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Reason for rejecting"})}),(0,c.tZ)(ue.B,{id:G,css:[{width:"100%",resize:"vertical",minHeight:75}],"aria-describedby":I,placeholder:"Explain why you\u2019re not satisfied with the deliverable.",value:R.value,onChange:function(e){return R.setValue(e.target.value)}}),R.error?(0,c.tZ)(se.p,{error:R.error,id:I}):null]}),(0,c.tZ)(p.xv,{children:E?"@".concat(E.username," will be notified of your reasoning and be able to resubmit their work."):"The hunter will be notified of your reasoning and be able to resubmit their work."}),(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.justify.end,(0,o.Z)({gap:8},(0,Pn.EM)("mobileMax"),[y.l0.flex.column])],children:[(0,c.tZ)(Z.Z,{text:"Contact Support",target:"_blank",href:"/support"}),(0,c.tZ)(J.zx,{text:"Request Changes",colorway:"primary",disabled:U,iconLeft:U?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(kn.Z,{}),onClick:function(){U||k({variables:{input:{bountySubmissionId:s.id,isAccepted:!1,content:R.value}}})}})]})]})}),(0,c.tZ)(m.u,{isOpen:C===lt.ReviewHunter,onRequestClose:function(){return S(null)},children:(0,c.tZ)(Qn,{bounty:l,onDone:function(){S(D?lt.SocialShare:null)}})}),(0,c.tZ)(m.u,{isOpen:C===lt.SocialShare,onRequestClose:function(){return S(null)},children:(0,c.tZ)(at,{bounty:(0,a.Z)((0,i.Z)({},l),{user:{username:null!==(r=null===(n=l.user)||void 0===n?void 0:n.username)&&void 0!==r?r:B},solver:{username:null===(t=l.solver)||void 0===t?void 0:t.username}})})})]});return s.review?s.review.isAccepted?(0,c.BX)(c.HY,{children:[(0,c.BX)(ct,{submission:s,children:[(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.justify.spaceBetween,y.l0.align.center,(0,o.Z)({gap:16},(0,Pn.EM)("tabletMax"),[y.l0.flex.column,y.l0.align.stretch,y.l0.justify.start])],children:[(0,c.tZ)(p.xv,{variant:"subheadDefault",children:"This Bounty has been completed!"}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8)],children:[X?(0,c.tZ)(Z.Z,{iconLeft:(0,c.tZ)(Je.Z,{}),text:"View Work",href:X.href,as:X.as,target:"_blank"}):null,A?(0,c.tZ)(J.zx,{colorway:"primary",text:"Submit a Review",onClick:function(){return S(lt.ReviewHunter)}}):null,l.isCurrentUserBountyPoster&&!A&&D?(0,c.tZ)(J.zx,{colorway:"primary",text:"Share this Bounty",onClick:function(){S(lt.SocialShare)}}):null]})]}),s.review.content?(0,c.tZ)(p.xv,{children:s.review.content}):null]}),_]}):(0,c.BX)(ct,{submission:s,children:[(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.justify.spaceBetween,y.l0.align.center,(0,o.Z)({gap:16},(0,Pn.EM)("mobileMax"),[y.l0.flex.column,y.l0.align.stretch,y.l0.justify.start])],children:[(0,c.tZ)(p.xv,{variant:"subheadDefault",children:"Changes requested on the work."}),X?(0,c.tZ)(Z.Z,{iconLeft:(0,c.tZ)(Je.Z,{}),text:"View Work",href:X.href,as:X.as,target:"_blank"}):null]}),(0,c.tZ)(p.xv,{children:s.review.content})]}):(0,c.BX)(c.HY,{children:[(0,c.BX)(ct,{submission:s,children:[(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.justify.spaceBetween,(0,o.Z)({gap:16},(0,Pn.EM)("mobileMax"),[y.l0.flex.column])],children:[(0,c.tZ)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center,y.l0.flex.growAndShrink(1)],children:(0,c.tZ)(ut,{user:E})}),X?(0,c.tZ)(Z.Z,{colorway:"primary",iconLeft:(0,c.tZ)(Je.Z,{}),text:"View Work",href:X.href,as:X.as,target:"_blank"}):null]}),(0,c.tZ)(p.xv,{children:s.content}),d?(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.align.center,y.l0.justify.end,(0,o.Z)({gap:8},(0,Pn.EM)("mobileMax"),[y.l0.flex.column,y.l0.align.stretch])],children:[(0,c.tZ)(J.zx,{text:"Request Changes",disabled:null!==C,iconLeft:(0,c.tZ)(kn.Z,{}),onClick:function(){return S(lt.Reject)}}),(0,c.tZ)(J.zx,{text:"Accept Work",disabled:null!==C,iconLeft:(0,c.tZ)(_e.Z,{}),onClick:function(){return S(lt.Accept)}})]}):null]}),_]})},pt=t(30504),ht=t(13565),yt=t(24592),vt=t(1050),mt=t(13548),ft=t(80731);function gt(){var e=(0,A.Z)(["\n  query CancelBountyForm($input: BountyByIdInput!) {\n    bountyById(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        canCurrentUserCancel\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return gt=function(){return e},e}function Zt(){var e=(0,A.Z)(["\n  mutation CancelBountyFormCancel($input: CancelBountyInput!) {\n    cancelBounty(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        status\n        canCurrentUserCancel\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return Zt=function(){return e},e}var bt={},Bt=(0,G.Ps)(gt());var wt=(0,G.Ps)(Zt());var Ct=t(81462),xt=t(80336),St={query:Ct.s8},At=h.K.form;function Gt(e){var n,t=e.bountyId,r=e.onDone,o=(0,le.Z)(),a=o.showConfirm,l=o.showError,s=function(e){var n=(0,i.Z)({},bt,e);return q.a(Bt,n)}({variables:{input:{id:t}}}),d=(0,u.Z)(function(e){var n=(0,i.Z)({},bt,e);return ce.D(wt,n)}({onError:function(e){l(e.message)},onCompleted:function(e){"Bounty"!==e.cancelBounty.__typename?l(e.cancelBounty.message):(a("Bounty canceled"),r())},refetchQueries:[St,wn]}),2),v=d[0],m=d[1],f="Bounty"===(null===(n=s.data)||void 0===n?void 0:n.bountyById.__typename)?s.data.bountyById:null,g=Boolean(null===f||void 0===f?void 0:f.canCurrentUserCancel),Z=s.loading||m.loading;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Cancel Bounty?"}),(0,c.BX)(At,{onSubmit:function(e){e.preventDefault(),Z||v({variables:{input:{id:t}}})},css:[y.l0.colWithGap(24)],children:[s.loading?(0,c.tZ)(h.G,{css:[y.l0.align.center,y.l0.p(32)],children:(0,c.tZ)(ge.Z,{})}):null,s.loading||f?null:(0,c.tZ)(p.xv,{children:"Something went wrong trying to load this Bounty. Please try again."}),s.loading||!f||g?null:(0,c.tZ)(p.xv,{children:"You cannot cancel this Bounty. You can only cancel Bounties that do not have an accepted application. If you need help, please contact support."}),!s.loading&&f&&g?(0,c.BX)(c.HY,{children:[(0,c.tZ)(p.xv,{children:"If you cancel this Bounty, the Bounty will be unlisted and your Cycles will be refunded to your account. You will not be able to reopen the Bounty, but you can always create a new Bounty."}),(0,c.tZ)(h.G,{css:[y.l0.rowWithGap(8),y.l0.justify.end],children:(0,c.tZ)(J.zx,{disabled:Z,colorway:"negative",text:"Cancel Bounty",type:"submit",iconLeft:Z?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(xt.Z,{})})})]}):null]})]})}var It=t(70804);function Rt(){var e=(0,A.Z)(["\n  mutation ReportBountyFormReportBounty($bountyId: Int!, $reason: String!) {\n    reportBounty(bountyId: $bountyId, reason: $reason) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on BoardReport {\n        id\n      }\n    }\n  }\n"]);return Rt=function(){return e},e}var Pt={},kt=(0,G.Ps)(Rt());var Ut=t(70719),Et=h.K.form;function Xt(e){var n=e.bountyId,t=e.onDone,r=(0,x.useState)(""),o=r[0],a=r[1],l=(0,le.Z)(),s=l.showConfirm,d=l.showError,v=(0,u.Z)(function(e){var n=(0,i.Z)({},Pt,e);return ce.D(kt,n)}({variables:{bountyId:n,reason:o},onCompleted:function(e){"BoardReport"===e.reportBounty.__typename?(s("Bounty reported"),t()):d(e.reportBounty.message)},onError:function(e){d(e.message)}}),2),m=v[0],f=v[1].loading;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:2,variant:"subheadBig",children:"Report Bounty"}),(0,c.BX)(Et,{onSubmit:function(e){e.preventDefault(),o?m():d("Please specify a reason to report this bounty.")},css:[y.l0.colWithGap(32)],children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.xv,{children:"Please describe why you want to report this Bounty. Your report will be sent to our moderation team for review."}),(0,c.tZ)(ue.B,{placeholder:"Why do you want to report this bounty?",value:o,onChange:function(e){return a(e.currentTarget.value)},css:[y.l0.minHeight(64),y.l0.maxHeight(128),{resize:"vertical"}]})]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(16),y.l0.justify.end],children:[(0,c.tZ)(h.G,{children:(0,c.tZ)(J.zx,{type:"button",text:"Cancel",onClick:function(){return t()}})}),(0,c.tZ)(h.G,{children:(0,c.tZ)(J.zx,{disabled:f,text:"Report Bounty",type:"submit",colorway:"negative",iconLeft:f?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(Ut.Z,{})})})]})]})]})}function Dt(){var e=(0,A.Z)(["\n  query UpdateBountyListingStatusForm($input: BountyByIdInput!) {\n    bountyById(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        isUnlisted\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Dt=function(){return e},e}function _t(){var e=(0,A.Z)(["\n  mutation UpdateBountyListingStatusFormSetListing(\n    $bountyId: Int!\n    $isUnlisted: Boolean!\n  ) {\n    setBountyUnlisted(bountyId: $bountyId, isUnlisted: $isUnlisted) {\n      __typename\n      ... on Bounty {\n        id\n        isUnlisted\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n"]);return _t=function(){return e},e}var Wt={},Tt=(0,G.Ps)(Dt());var Mt=(0,G.Ps)(_t());var Ht=t(62405),Ft=h.K.form;function Lt(e){var n,t=e.bountyId,r=e.onDone,o=(0,le.Z)(),a=o.showConfirm,l=o.showError,s=function(e){var n=(0,i.Z)({},Wt,e);return q.a(Tt,n)}({variables:{input:{id:t}}}),d=(0,u.Z)(function(e){var n=(0,i.Z)({},Wt,e);return ce.D(Mt,n)}({onError:function(e){l(e.message)},onCompleted:function(e){"Bounty"!==e.setBountyUnlisted.__typename?l(e.setBountyUnlisted.message):(a(e.setBountyUnlisted.isUnlisted?"Bounty unlisted":"Bounty listed"),r())}}),2),v=d[0],m=d[1],f="Bounty"===(null===(n=s.data)||void 0===n?void 0:n.bountyById.__typename)?s.data.bountyById:null,g=s.loading||m.loading,Z=null;return Z=s.loading?(0,c.tZ)(h.G,{css:[y.l0.align.center,y.l0.p(32)],children:(0,c.tZ)(ge.Z,{})}):f?f.isUnlisted?(0,c.BX)(c.HY,{children:[(0,c.tZ)(p.xv,{children:"If you list this Bounty, it will become publicly visible on the search page."}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{onClick:r,disabled:g,text:"Cancel",type:"button"}),(0,c.tZ)(J.zx,{disabled:g,text:"List Bounty",type:"submit",iconLeft:g?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(Je.Z,{})})]})]}):(0,c.BX)(c.HY,{children:[(0,c.tZ)(p.xv,{children:"If you unlist this Bounty, it will no longer be publicly visible on the search page."}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{onClick:r,disabled:g,text:"Cancel",type:"button"}),(0,c.tZ)(J.zx,{disabled:g,colorway:"negative",text:"Unlist Bounty",type:"submit",iconLeft:g?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(Ht.Z,{})})]})]}):(0,c.tZ)(p.xv,{children:"Something went wrong trying to load this Bounty. Please try again."}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Update Bounty Listing Status"}),(0,c.tZ)(Ft,{onSubmit:function(e){e.preventDefault(),!g&&f&&v({variables:{bountyId:t,isUnlisted:!f.isUnlisted}})},css:[y.l0.colWithGap(24)],children:Z})]})}function Vt(){var e=(0,A.Z)(["\n  query ForceAbandonFormForce($input: BountyByIdInput!) {\n    bountyById(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        user {\n          id\n          username\n        }\n        status\n        acceptedApplication {\n          id\n          user {\n            id\n            username\n          }\n        }\n      }\n    }\n  }\n"]);return Vt=function(){return e},e}function qt(){var e=(0,A.Z)(["\n  mutation ForceAbandonFormForceAbandon(\n    $input: ForceSolverToAbandonBountyAsStaffInput!\n  ) {\n    forceSolverToAbandonBountyAsStaff(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        ...BountyPageBounty\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return qt=function(){return e},e}var zt={},Ot=(0,G.Ps)(Vt());var $t=(0,G.Ps)(qt(),V);var jt=t(66078),Nt=h.K.form;function Yt(e){var n,t,r,o,a=e.bountyId,l=e.onDone,s=(0,re.H)(),d=(0,le.Z)(),v=d.showConfirm,m=d.showError,f=(0,ae.Y)("",We.l6,{debounceDelay:"long"}),g=function(e){var n=(0,i.Z)({},zt,e);return q.a(Ot,n)}({variables:{input:{id:a}}}),Z=(0,u.Z)(function(e){var n=(0,i.Z)({},zt,e);return ce.D($t,n)}({onError:function(e){m(e.message)},onCompleted:function(e){"Bounty"!==e.forceSolverToAbandonBountyAsStaff.__typename?m(e.forceSolverToAbandonBountyAsStaff.message):(v("Bounty Hunter removed and Bounty re-opened"),l())},refetchQueries:[wn]}),2),b=Z[0],B=Z[1],w=g.loading||B.loading,C=Boolean(f.error),x="Bounty"===(null===(n=g.data)||void 0===n?void 0:n.bountyById.__typename)?g.data.bountyById:null,S=null===x||void 0===x||null===(t=x.user)||void 0===t?void 0:t.username,A=null===x||void 0===x||null===(r=x.acceptedApplication)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.username;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Force Hunter to abandon this Bounty?"}),g.loading?(0,c.tZ)(h.G,{css:[y.l0.align.center,y.l0.p(32)],children:(0,c.tZ)(ge.Z,{})}):null,g.loading||S&&A?null:(0,c.tZ)(h.G,{children:(0,c.tZ)(p.xv,{children:"You cannot use this tool on this Bounty. There is no Bounty Hunter."})}),!g.loading&&S&&A?(0,c.BX)(Nt,{onSubmit:function(e){e.preventDefault(),w||f.validate()||b({variables:{input:{bountyId:a,reason:f.value}}})},css:[y.l0.colWithGap(24)],children:[(0,c.BX)(p.xv,{children:["If you force the current Bounty Hunter (@",A,") to abandon this Bounty, it will return the Bounty to the open state so a new applicant can be selected as the new Bounty Hunter. This will also email the Bounty poster (@",S,") and the current Hunter to let them know about the change."]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:s("reason"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Please describe why you are taking this action"})}),(0,c.tZ)(ue.B,{id:s("reason"),placeholder:"Why are you taking this action?",value:f.value,onChange:function(e){return f.setValue(e.currentTarget.value)},css:[y.l0.minHeight(64),y.l0.maxHeight(128),{resize:"vertical",width:"100%"}],"aria-describedby":s("reasonError")}),f.error?(0,c.tZ)(se.p,{error:f.error,id:s("reasonError")}):null]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{onClick:function(){l()},text:"Cancel"}),(0,c.tZ)(J.zx,{disabled:w||C,colorway:"negative",text:"[staff] Force Abandon",type:"submit",iconLeft:w?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(jt.Z,{})})]})]}):null]})}function Qt(){var e=(0,A.Z)(["\n  query StaffCancelBountyForm($input: BountyByIdInput!) {\n    bountyById(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        user {\n          id\n          username\n        }\n        status\n      }\n    }\n  }\n"]);return Qt=function(){return e},e}function Kt(){var e=(0,A.Z)(["\n  mutation StaffCancelBountyFormCancel($input: CancelBountyAsStaffInput!) {\n    cancelBountyAsStaff(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        ...BountyPageBounty\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Kt=function(){return e},e}var Jt={},er=(0,G.Ps)(Qt());var nr=(0,G.Ps)(Kt(),V);var tr=h.K.form;function rr(e){var n,t,r=e.bountyId,o=e.onDone,a=(0,re.H)(),l=(0,le.Z)(),s=l.showConfirm,d=l.showError,v=(0,ae.Y)("",We.l6,{debounceDelay:"long"}),m=function(e){var n=(0,i.Z)({},Jt,e);return q.a(er,n)}({variables:{input:{id:r}}}),f=(0,u.Z)(function(e){var n=(0,i.Z)({},Jt,e);return ce.D(nr,n)}({onError:function(e){d(e.message)},onCompleted:function(e){"Bounty"!==e.cancelBountyAsStaff.__typename?d(e.cancelBountyAsStaff.message):(s("Bounty canceled"),o())}}),2),g=f[0],Z=f[1],b="Bounty"===(null===(n=m.data)||void 0===n?void 0:n.bountyById.__typename)?m.data.bountyById:null,B=m.loading||Z.loading,w=Boolean(v.error),C=(null===b||void 0===b?void 0:b.status)===ee.cG.Open||(null===b||void 0===b?void 0:b.status)===ee.cG.InProgress,x=null===b||void 0===b||null===(t=b.user)||void 0===t?void 0:t.username;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Cancel this Bounty?"}),m.loading?(0,c.tZ)(h.G,{css:[y.l0.align.center,y.l0.p(32)],children:(0,c.tZ)(ge.Z,{})}):null,m.loading||x&&C?null:(0,c.tZ)(h.G,{children:(0,c.tZ)(p.xv,{children:"You cannot use this tool on this Bounty. There is no Bounty Hunter."})}),!m.loading&&x&&C?(0,c.BX)(tr,{onSubmit:function(e){e.preventDefault(),B||v.validate()||g({variables:{input:{bountyId:r,reason:v.value}}})},css:[y.l0.colWithGap(24)],children:[(0,c.BX)(p.xv,{children:["If you cancel this Bounty, the cycles will be refunded to the poster and the Bounty's status will change to closed. This will also email the poster (@",x,") and hunter (if one exists) to let them know."]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:a("reason"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Please describe why you are taking this action"})}),(0,c.tZ)(ue.B,{id:a("reason"),placeholder:"Why are you taking this action?",value:v.value,onChange:function(e){return v.setValue(e.currentTarget.value)},css:[y.l0.minHeight(64),y.l0.maxHeight(128),{resize:"vertical",width:"100%"}],"aria-describedby":a("reasonError")})]}),v.error?(0,c.tZ)(se.p,{error:v.error,id:a("reasonError")}):null]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{onClick:o,disabled:B,text:"Never mind",type:"button"}),(0,c.tZ)(J.zx,{disabled:B||w,colorway:"negative",text:"Cancel Bounty",type:"submit",iconLeft:B?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(xt.Z,{})})]})]}):null]})}function or(){var e=(0,A.Z)(["\n  query AbandonBountyForm($input: BountyByIdInput!) {\n    bountyById(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        user {\n          id\n          username\n        }\n      }\n    }\n  }\n"]);return or=function(){return e},e}function ir(){var e=(0,A.Z)(["\n  mutation AbandonBountyFormAbandon($input: AbandonBountyInput!) {\n    abandonBounty(input: $input) {\n      __typename\n      ... on Bounty {\n        id\n        ...BountyPageBounty\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return ir=function(){return e},e}var ar={},lr=(0,G.Ps)(or());var ur=(0,G.Ps)(ir(),V);var sr,cr=h.K.form;function dr(e){var n,t,r=e.bountyId,o=e.onDone,a=(0,le.Z)(),l=a.showConfirm,s=a.showError,d=function(e){var n=(0,i.Z)({},ar,e);return q.a(lr,n)}({variables:{input:{id:r}}}),v="Bounty"===(null===(n=d.data)||void 0===n?void 0:n.bountyById.__typename)?d.data.bountyById:null,m=null===v||void 0===v||null===(t=v.user)||void 0===t?void 0:t.username,f=(0,u.Z)(function(e){var n=(0,i.Z)({},ar,e);return ce.D(ur,n)}({onError:function(e){s(e.message)},onCompleted:function(e){"Bounty"!==e.abandonBounty.__typename?s(e.abandonBounty.message):(l("Bounty Hunter removed and Bounty re-opened"),o())},refetchQueries:[wn]}),2),g=f[0],Z=f[1],b=d.loading||Z.loading;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Abandon this Bounty?"}),d.loading?(0,c.tZ)(h.G,{css:[y.l0.align.center,y.l0.p(32)],children:(0,c.tZ)(ge.Z,{})}):null,d.loading||v&&m?null:(0,c.tZ)(h.G,{children:(0,c.tZ)(p.xv,{children:"You cannot use abandon this Bounty."})}),!d.loading&&v&&m?(0,c.BX)(cr,{onSubmit:function(e){e.preventDefault(),b||g({variables:{input:{bountyId:r}}})},css:[y.l0.colWithGap(24)],children:[(0,c.BX)(p.xv,{children:["If you abandon this Bounty, any work you've submitted for this Bounty will be deleted, the Bounty will be reopened so a new hunter can be selected, and the poster (@",m,") will be notified. You will still retain access to any Repls you attached to work submissions."]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{onClick:function(){o()},text:"Cancel"}),(0,c.tZ)(J.zx,{disabled:b,colorway:"negative",text:"Abandon Bounty",type:"submit",iconLeft:b?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(jt.Z,{})})]})]}):null]})}function pr(e){var n=e.bounty,t=e.isStaff,r=(0,u.Z)(x.useState(null),2),o=r[0],i=r[1],a=[];return n.isCurrentUserBountyPoster&&a.push({label:"Cancel Bounty",key:sr.CancelBounty,icon:(0,c.tZ)(xt.Z,{}),isDestructive:!0}),n.isCurrentUserBountySolver&&a.push({label:"Abandon Bounty",key:sr.AbandonBounty,icon:(0,c.tZ)(jt.Z,{}),isDestructive:!0}),n.isCurrentUserBountyPoster||a.push({label:"Report Bounty",key:sr.ReportBounty,icon:(0,c.tZ)(Ut.Z,{}),isDestructive:!0}),t&&(n.isUnlisted?a.push({label:"[staff] Re-list Bounty",key:sr.UnlistBounty,icon:(0,c.tZ)(Je.Z,{}),isDestructive:!1}):a.push({label:"[staff] Unlist Bounty",key:sr.UnlistBounty,icon:(0,c.tZ)(Ht.Z,{}),isDestructive:!0}),a.push({label:"[staff] Force Hunter to Abandon",key:sr.StaffForceAbandon,icon:(0,c.tZ)(jt.Z,{}),isDestructive:!0}),a.push({label:"[staff] Cancel Bounty",key:sr.StaffCancelBounty,icon:(0,c.tZ)(xt.Z,{}),isDestructive:!0})),0===a.length?null:(0,c.BX)(c.HY,{children:[(0,c.tZ)(ft.ZE,{items:a,icon:(0,c.tZ)(It.Z,{}),onAction:function(e){return i(e)},children:a.map((function(e){return(0,c.tZ)(ft.ck,{children:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center,e.isDestructive?[y.l0.color.accentNegativeStronger]:[y.l0.color.foregroundDefault]],children:[e.icon?e.icon:(0,c.tZ)(h.G,{css:[y.l0.width(16)]}),(0,c.tZ)(p.xv,{multiline:!1,children:e.label})]})},e.key)}))}),(0,c.tZ)(m.u,{isOpen:o===sr.CancelBounty,onRequestClose:function(){return i(null)},children:(0,c.tZ)(Gt,{bountyId:n.id,onDone:function(){return i(null)}})}),(0,c.tZ)(m.u,{isOpen:o===sr.ReportBounty,onRequestClose:function(){return i(null)},children:(0,c.tZ)(Xt,{bountyId:n.id,onDone:function(){return i(null)}})}),(0,c.tZ)(m.u,{isOpen:o===sr.UnlistBounty,onRequestClose:function(){return i(null)},children:(0,c.tZ)(Lt,{bountyId:n.id,onDone:function(){return i(null)}})}),(0,c.tZ)(m.u,{isOpen:o===sr.StaffForceAbandon,onRequestClose:function(){return i(null)},children:(0,c.tZ)(Yt,{bountyId:n.id,onDone:function(){return i(null)}})}),(0,c.tZ)(m.u,{isOpen:o===sr.StaffCancelBounty,onRequestClose:function(){return i(null)},children:(0,c.tZ)(rr,{bountyId:n.id,onDone:function(){return i(null)}})}),(0,c.tZ)(m.u,{isOpen:o===sr.AbandonBounty,onRequestClose:function(){return i(null)},children:(0,c.tZ)(dr,{bountyId:n.id,onDone:function(){return i(null)}})})]})}!function(e){e.CancelBounty="CancelBounty",e.ReportBounty="ReportBounty",e.ListBounty="ListBounty",e.UnlistBounty="UnlistBounty",e.AbandonBounty="AbandonBounty",e.StaffForceAbandon="StaffForceAbandon",e.StaffCancelBounty="StaffCancelBounty"}(sr||(sr={}));var hr=t(31854);function yr(){var e=(0,A.Z)(["\n  fragment EditBountyFormCurrentUser on CurrentUser {\n    id\n    isStaff: hasRole(role: REPLIT_STAFF)\n    email\n    cycles {\n      balance {\n        __typename\n        ... on CyclesBalance {\n          cycles\n        }\n      }\n    }\n  }\n"]);return yr=function(){return e},e}function vr(){var e=(0,A.Z)(["\n  fragment EditBountyFormBounty on Bounty {\n    id\n    title\n    description\n    cycles\n    deadline\n    status\n    slug\n    contactMethod\n    contactInfo\n    isUnlisted\n    user {\n      id\n      username\n    }\n    ...BountyPageBounty\n  }\n  ","\n"]);return vr=function(){return e},e}function mr(){var e=(0,A.Z)(["\n  mutation EditBountyFormEdit($input: EditBountyInput!) {\n    editBounty(input: $input) {\n      __typename\n      ... on Bounty {\n        ...EditBountyFormBounty\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return mr=function(){return e},e}function fr(){var e=(0,A.Z)(["\n  query EditBountyFormCurrentUser {\n    currentUser {\n      ...EditBountyFormCurrentUser\n    }\n  }\n  ","\n"]);return fr=function(){return e},e}function gr(){var e=(0,A.Z)(["\n  query EditBountyFormBounty($input: BountyByIdInput!) {\n    bountyById(input: $input) {\n      __typename\n      ... on Bounty {\n        ...EditBountyFormBounty\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return gr=function(){return e},e}var Zr={},br=(0,G.Ps)(yr()),Br=(0,G.Ps)(vr(),V),wr=(0,G.Ps)(mr(),Br);var Cr=(0,G.Ps)(fr(),br);var xr=(0,G.Ps)(gr(),Br);var Sr,Ar=t(79918),Gr=t(79375),Ir=t(14312),Rr=t(56412),Pr=t(64769),kr=t(2757),Ur=t(91398),Er=t(92683),Xr=t(18171),Dr={query:Ct.s8},_r=Math.min(Be.vT,Ze.l2.MAX),Wr=function(e){if(!e)return{severity:"error",message:"Due date is required"};var n=new Date(e);return n<new Date?{severity:"error",message:"Due date must be in the future"}:n>(0,Gr.Z)(new Date,6)?{severity:"error",message:"Due date must be within 6 months"}:n<(0,Ir.Z)(new Date,3)?{severity:"error",message:"Due date must be at least 3 days from now"}:void 0},Tr=(Sr={},(0,o.Z)(Sr,ee.PP.Discord,{title:"Discord",value:ee.PP.Discord,placeholder:"Username#1234"}),(0,o.Z)(Sr,ee.PP.Email,{title:"Email",value:ee.PP.Email,placeholder:"mark@replit.com"}),Sr),Mr=function(e){var n,t=e.bounty,a=e.currentUser,l=e.onComplete,d=(0,le.Z)(),v=d.showError,m=d.showConfirm,f=(0,re.H)(),g=(0,u.Z)(function(e){var n=(0,i.Z)({},Zr,e);return ce.D(wr,n)}({onError:function(){return v("Something went wrong. Please try again later.")},refetchQueries:[Dr,wn]}),2),B=g[0],w=g[1].loading,C=(0,Ar.YV)(t.title,We.JJ),x=(0,Ar.YV)(t.description,We.HO),S=(0,Ar.YV)((0,Rr.Z)(new Date(t.deadline),"yyyy-MM-dd"),Wr),A=t.contactMethod===ee.PP.Discord?ee.PP.Discord:ee.PP.Email,G=(0,Ar.YV)(A,We.V6),I=null!==(n=t.contactInfo)&&void 0!==n?n:"",R=(0,Ar.YV)(I,G.value===ee.PP.Email?We.Le:We.E1),P="CyclesBalance"===a.cycles.balance.__typename?a.cycles.balance.cycles:null,k=(0,Ar.YV)(t.cycles,function(e){var n=e.cyclesBalance,t=e.bountyCyclesAmount;return function(e){if(!e||e<Ze.l2.MIN)return{severity:"error",message:"Minimum bounty of ".concat(Ze.l2.MIN.toLocaleString()," cycles")};if(e>_r)return{severity:"error",message:"Maximum bounty of ".concat(_r.toLocaleString()," cycles")};if(n&&e>t&&e-t>n){var r=e-t-n,o=r.toLocaleString();return{severity:"error",message:"You need ".concat(o," more ").concat((0,kr.Z)("cycles",r))}}}}({cyclesBalance:P,bountyCyclesAmount:t.cycles})),U=[C,x,k,S,R,G],E=Boolean(U.find((function(e){return e.error}))),X=Math.max(k.value||0,0),D=(0,Ze.Xw)(X),_=X-D,W=null!==P&&t.cycles<X&&P<X-t.cycles,T=function(e){var n=(0,Xr.Z)((function(){return(0,Ur.cn)((function(n){var t=e.some((function(e){var t=n(e).error,r=n(e).isTouched;return!!t&&r})),r=e.some((function(e){return n(e).isValidating}));return!t&&!r}))}),[]);return(0,Er.Dv)(n)}(U.map((function(e){return e.field}))),M=function(){var e=(0,r.Z)((function(e){var n,r,o,i,a,u,c,d,p,h,y;return(0,s.__generator)(this,(function(s){switch(s.label){case 0:return e.preventDefault(),U.forEach((function(e){return e.validate()})),T?w?[2]:[4,B({variables:{input:{bountyId:t.id,title:C.value,description:x.value,cycles:X,deadline:new Date(S.value).toISOString(),contactInfo:R.value}}})]:[2];case 1:return r=s.sent(),"Bounty"===(null===(n=r.data)||void 0===n?void 0:n.editBounty.__typename)?(i=r.data.editBounty,a=(0,Ze.Xw)(i.cycles),u=i.cycles-a,(0,Ue.Xi)({bountyId:i.id,title:i.title,description:i.description,hunterPayout:u,platformFee:a,username:null!==(c=null===(o=i.user)||void 0===o?void 0:o.username)&&void 0!==c?c:"",targetCompletionDate:new Date(i.deadline).toISOString(),communicationMethod:null!==(d=i.contactMethod)&&void 0!==d?d:void 0,isUnlisted:i.isUnlisted}),m("Bounty updated"),l()):(y=null!==(h=null===(p=r.data)||void 0===p?void 0:p.editBounty.message)&&void 0!==h?h:"Something went wrong",v(y)),[2]}}))}));return function(n){return e.apply(this,arguments)}}();if(t.status!==ee.cG.Open)return(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{variant:"subheadBig",level:1,children:"Edit Bounty"}),(0,c.BX)(p.xv,{children:["You cannot edit a Bounty unless it is currently open with no accepted application. If you are having a problem with your Bounty, please get in touch with"," ",(0,c.tZ)("a",{href:"mailto:support@replit.com",children:"support@replit.com"}),"."]})]});var H=null;if(P&&k.value&&k.value!==t.cycles){var F=Math.abs(k.value-t.cycles);H=(0,c.BX)(p.xv,{variant:"small",color:"dimmer",children:[F.toLocaleString()," ",(0,kr.Z)("cycles",F)," will be"," ",k.value>t.cycles?"deducted from":"credited to"," ","your account"]})}return(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{variant:"subheadBig",level:1,children:"Edit Bounty"}),(0,c.BX)(h.G,{tag:"form",onSubmit:M,css:[y.l0.colWithGap(24)],children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:f("title"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Bounty Title"})}),(0,c.tZ)(ue.II,{id:f("title"),disabled:w,placeholder:"Give your Bounty a descriptive name",name:"title",type:"text",value:C.value,onChange:function(e){return C.setValue(e.target.value)},"aria-describedby":f("title-error")}),C.error?(0,c.tZ)(se.p,{error:C.error,id:f("title-error")}):null]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4),y.l0.flex.growAndShrink(1)],children:[(0,c.tZ)("label",{htmlFor:f("dueDate"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Target Completion Date"})}),(0,c.tZ)(ue.II,{id:f("dueDate"),disabled:w,placeholder:"mm/dd/yy",name:"dueDate",type:"date",value:S.value,onChange:function(e){return S.setValue(e.target.value)},css:[y.l0.color.foregroundDimmer,y.l0.rowReverseWithGap(8),y.l0.align.center]}),S.error?(0,c.tZ)(se.p,{error:S.error,id:f("dueDate-error")}):null]}),(0,c.BX)(h.G,{css:[(0,o.Z)({gap:16,display:"grid",gridTemplateColumns:"1fr 1fr"},(0,Pn.EM)("mobileMax"),[y.l0.flex.column])],children:[(0,c.tZ)(b.u,{tooltip:"You cannot edit the communication method after posting",placement:"top",children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(4),y.l0.flex.growAndShrink(1)],children:[(0,c.BX)("label",{htmlFor:f("contact-method"),css:[y.l0.flex.row,y.l0.rowWithGap(4),y.l0.align.center],children:[(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Communication Method"}),(0,c.tZ)(mt.Z,{size:16})]}),(0,c.tZ)(hr.P,{disabled:!0,items:Object.values(Tr),selectedItem:Tr[G.value],onChange:function(e){R.setValue(""),G.setValue(e.value)},"aria-describedby":f("contact-method-error")}),G.error?(0,c.tZ)(se.p,{error:G.error,id:f("contact-method-error")}):null]})}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4),y.l0.flex.growAndShrink(1)],children:[(0,c.tZ)("label",{htmlFor:f("contact-info"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:Tr[G.value].title})}),(0,c.tZ)(ue.II,{id:f("contact-info"),disabled:w,placeholder:Tr[G.value].placeholder,value:R.value,onChange:function(e){return R.setValue(e.target.value)},"aria-describedby":f("contact-info-error")}),R.error?(0,c.tZ)(se.p,{error:R.error,id:f("contact-info-error")}):null]})]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.tZ)("label",{htmlFor:f("description"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Description"})}),(0,c.tZ)(ue.B,{id:f("description"),disabled:w,placeholder:"Be specific about what you want in the solution",name:"description",type:"text",value:x.value,onChange:function(e){return x.setValue(e.target.value)},"aria-describedby":f("description-error"),css:[{width:"100%",resize:"vertical",minHeight:125}]}),x.error?(0,c.tZ)(se.p,{error:x.error,id:f("description-error")}):null,(0,c.tZ)(Pr.S,{header:"Style your description with Markdown"})]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(12)],children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(4),y.l0.flex.growAndShrink(1)],children:[(0,c.tZ)("label",{htmlFor:f("amount"),children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Bounty Amount"})}),(0,c.tZ)(h.G,{children:(0,c.BX)(h.G,{css:[y.l0.position.relative],children:[(0,c.tZ)(Q.Z,{css:[y.l0.position.absolute,{top:"50%",left:y.TV.space8,transform:"translate(0, -50%)"}]}),(0,c.tZ)(ue.II,{disabled:w,id:f("amount"),placeholder:"Amount in Cycles",name:"amount",type:"number",step:"100",value:void 0===k.value?"":"".concat(k.value),onChange:function(e){var n=parseInt(e.target.value,10);k.setValue(Number.isNaN(n)?void 0:n)},"aria-describedby":f("amount-error"),css:[{paddingLeft:28}]})]})}),k.error?(0,c.tZ)(se.p,{error:k.error,id:f("amount-error")}):H]}),(0,c.BX)(h.G,{css:[{display:"inline-grid",gridTemplateColumns:"auto auto",gap:y.TV.space4,columnGap:y.TV.space16,alignSelf:"start"}],children:[(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Solver Payout"}),(0,c.BX)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:[(0,c.tZ)(Q.Z,{})," ",_.toLocaleString(),(0,c.tZ)(oe.T,{children:"Cycles"})]}),(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Bounty Marketplace Fee"}),(0,c.BX)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:[(0,c.tZ)(Q.Z,{})," ",D.toLocaleString(),(0,c.tZ)(oe.T,{children:"Cycles"})]}),(0,c.tZ)("div",{css:[{borderTop:"1px solid",borderTopColor:y.TV.outlineDefault,gridColumn:"span 2"}]}),(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Bounty Amount"}),(0,c.BX)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:[(0,c.tZ)(Q.Z,{})," ",X.toLocaleString(),(0,c.tZ)(oe.T,{children:"Cycles"})]})]})]}),(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.justify.end,(0,o.Z)({gap:8},(0,Pn.EM)("mobileMax"),[y.l0.flex.column])],children:[W?(0,c.tZ)(Z.Z,{disabled:w,target:"_blank",text:"Buy Cycles",href:"/cycles/buy"}):null,(0,c.tZ)(J.zx,{type:"submit",iconLeft:w?(0,c.tZ)(ge.Z,{}):void 0,text:"Update Bounty",colorway:"primary",disabled:w||E||W})]})]})]})},Hr=function(e){var n,t,r=e.bountyId,o=e.onComplete,a=function(e){var n=(0,i.Z)({},Zr,e);return q.a(xr,n)}({variables:{input:{id:r}}}),l=function(e){var n=(0,i.Z)({},Zr,e);return q.a(Cr,n)}({pollInterval:5e3});if(a.loading||l.loading)return(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{variant:"subheadBig",level:1,children:"Edit Bounty"}),(0,c.tZ)(h.G,{css:[y.l0.center],children:(0,c.tZ)(ge.Z,{})})]});var u="Bounty"===(null===(n=a.data)||void 0===n?void 0:n.bountyById.__typename)?a.data.bountyById:null,s=(null===(t=l.data)||void 0===t?void 0:t.currentUser)?l.data.currentUser:null;return a.error||l.error||!u||!s?(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{variant:"subheadBig",level:1,children:"Edit Bounty"}),(0,c.tZ)(h.G,{css:[y.l0.center],children:"Something went wrong"})]}):(0,c.tZ)(Mr,{bounty:u,currentUser:s,onComplete:o})},Fr=t(3652),Lr=t(45677),Vr=t(33066),qr=t(92408),zr=t(4791),Or=function(e){var n=e.contactMethod,t=e.contactInfo,r=(0,l.Z)(e,["contactMethod","contactInfo"]);if(!t||!n)return(0,c.tZ)(h.G,(0,a.Z)((0,i.Z)({},r),{children:(0,c.tZ)(p.xv,{multiline:!1,children:"No contact information provided."})}));switch(n){case ee.PP.Discord:return(0,c.BX)(h.G,(0,a.Z)((0,i.Z)({},r),{css:[y.l0.rowWithGap(8)],children:[(0,c.tZ)(qr.Z,{alt:"Discord"}),(0,c.tZ)(p.xv,{css:y.l0.flex.growAndShrink(1),multiline:!1,children:t})]}));case ee.PP.Email:return(0,c.BX)(h.G,(0,a.Z)((0,i.Z)({},r),{css:[y.l0.rowWithGap(8)],children:[(0,c.tZ)(zr.Z,{alt:"Email"}),(0,c.tZ)(p.xv,{css:y.l0.flex.growAndShrink(1),multiline:!1,children:(0,c.tZ)("a",{href:"mailto:".concat(t),children:t})})]}));default:return null}},$r=function(e){var n=e.contactMethod,t=e.contactInfo;if(null==n||null==t)return null;switch(n){case ee.PP.Discord:return(0,c.tZ)(Jn.m,{iconLeft:(0,c.tZ)(qr.Z,{}),text:t,textToCopy:t});case ee.PP.Email:return(0,c.tZ)(Z.Z,{iconLeft:(0,c.tZ)(zr.Z,{}),href:"mailto:".concat(t),text:t});default:return null}},jr=t(79225),Nr=t(59240),Yr=(0,Ce.X)({self:[y.l0.colWithGap(24)],buttons:[y.l0.rowWithGap(12),y.l0.justify.end,y.l0.align.end]});function Qr(e){var n=e.bounty,t=e.isCurrentUserBountyPoster,r=(0,Ke.D)({username:n.user.username,slug:n.slug}),o=t?'I just posted a Bounty, "'.concat(n.title,'" - apply for it and earn ').concat((0,Vr.H2)(n.solverPayout)," Cycles for completing it!"):'Check out this Bounty, "'.concat(n.title,'" - apply for it and earn ').concat((0,Vr.H2)(n.solverPayout)," Cycles for completing it!"),i=(0,nt.Z)({text:o,url:r});return(0,c.BX)(h.G,{css:Yr.self,children:[(0,c.BX)(p.h4,{level:1,variant:"headerDefault",children:["Share ",t?"your":"this"," Bounty"]}),(0,c.BX)(p.xv,{children:[t?"Your":"This",' Bounty "',n.title,'" is live and ready to be shared!']}),(0,c.BX)(h.G,{css:Yr.buttons,children:[(0,c.tZ)(Jn.m,{iconLeft:(0,c.tZ)(et.Z,{}),textToCopy:r,text:"Copy Link",tooltip:"Link copied!"}),(0,c.tZ)(Z.Z,{colorway:"primary",prefetch:!1,href:i,iconLeft:(0,c.tZ)(tt.Z,{}),text:"Share to Twitter",target:"_blank"})]})]})}var Kr=t(3923),Jr=t(55923),eo=t(43312),no=t(70353),to={__typename:"User",id:-1,username:"Unknown User",image:"",url:""},ro=function(e){var n=e.content,t=e.timeCreated;return(0,c.BX)(h.G,{css:[y.l0.flex.column,y.l0.align.start,y.l0.flex.grow(1),y.l0.justify.spaceBetween,(0,o.Z)({gap:y.TV.space8},y.BC.min("tabletMin"),[y.l0.flex.row,y.l0.align.center])],children:[n,(0,c.tZ)(Kr.E,{textColor:"dimmest",date:new Date(t)})]})},oo=function(e){var n=e.messageHeader,t=e.messageContent,r=e.user,o=e.timeCreated;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(8),y.l0.flex.growAndShrink(1)],children:[(0,c.tZ)(ro,{content:(0,c.tZ)(h.G,{css:[y.l0.maxWidth("100%")],children:(0,c.tZ)(Jr.Z,{username:r.username,children:(0,c.tZ)(te(),(0,a.Z)((0,i.Z)({},(0,Qe.Ru)(r)),{passHref:!0,children:(0,c.tZ)(h.G,{tag:"a",css:[y.l0.color.foregroundDefault,y.l0.flex.growAndShrink(1)],children:(0,c.tZ)(g.n,{src:r.image,username:r.username})})}))})}),timeCreated:o}),(0,c.BX)(v.Tg,{css:[y.l0.flex.growAndShrink(1),y.l0.p(8),y.l0.borderRadius(8),y.l0.colWithGap(8)],elevated:!0,children:[(0,c.tZ)(p.xv,{css:y.l0.fontWeight.medium,children:n}),t?(0,c.tZ)(p.xv,{children:t}):null]})]})},io=function(e){switch(e){case"open":return"Open";case"in_progress":return"In Progress";case"closed":return"Closed";case"canceled":return"Canceled";case"completed":return"Completed";default:return"Unknown"}},ao=(0,eo.iv)({fontStyle:"italic"}),lo={title:"Title",description:"Description",cycles:"Cycles",deadline:"Due Date",contactInfo:"Contact Info"},uo=x.memo((function(e){var n=e.before,t=e.after;if(!t||!n)return null;var r=Object.keys(lo).map((function(e){var r=lo[e],o=n[e],i=t[e];return o===i?null:"description"===e?(0,c.tZ)(p.xv,{children:"Description was updated"},e):"cycles"===e?(0,c.BX)(p.xv,{children:[(0,c.tZ)(p.xv,{children:r})," changed from ",(0,c.tZ)(Q.Z,{css:y.l0.color.accentPositiveStronger}),(0,c.tZ)(p.xv,{css:y.l0.color.accentPositiveStronger,children:o})," to ",(0,c.tZ)(Q.Z,{css:y.l0.color.accentPositiveStronger}),(0,c.tZ)(p.xv,{css:y.l0.color.accentPositiveStronger,children:i})]},e):"deadline"===e?(0,c.BX)(p.xv,{children:[(0,c.tZ)(p.xv,{children:r})," changed from ",(0,c.tZ)(p.xv,{children:(0,no.p)(o)})," to ",(0,c.tZ)(p.xv,{children:(0,no.p)(i)})]},e):(0,c.BX)(p.xv,{children:[(0,c.tZ)(p.xv,{children:r}),' changed from "',(0,c.tZ)(p.xv,{css:{fontStyle:"italic"},children:o}),'" to "',(0,c.tZ)(p.xv,{css:{fontStyle:"italic"},children:i}),'"']},e)}));return(0,c.tZ)(h.G,{css:y.l0.colWithGap(8),children:r.filter(Boolean)})})),so=function(e){var n=e.event,t=e.poster;switch(n.__typename){case"BountyUpdatesEvent":var r,o;return(0,c.tZ)(oo,{messageHeader:"Edited this Bounty",messageContent:(0,c.tZ)(uo,{before:null!==(r=n.before)&&void 0!==r?r:null,after:null!==(o=n.after)&&void 0!==o?o:null}),user:t,timeCreated:n.timeCreated});case"BountyStateChangeEvent":return n.oldStatus?(0,c.tZ)(ro,{content:(0,c.BX)(p.xv,{css:[y.l0.flex.growAndShrink(1)],children:["Bounty changed from",(0,c.BX)("span",{css:ao,children:[" ",io(n.oldStatus)," "]}),"to",(0,c.BX)("span",{css:ao,children:[" ",io(n.newStatus)]})]}),timeCreated:n.timeCreated}):(0,c.tZ)(ro,{content:(0,c.tZ)(p.xv,{css:[y.l0.flex.growAndShrink(1)],children:"Bounty opened"}),timeCreated:n.timeCreated});case"BountyWorkReviewedEvent":return(0,c.tZ)(oo,{messageHeader:n.isAccepted?"Accepted work":"Left a review",messageContent:n.content,user:t,timeCreated:n.timeCreated});case"BountyWorkSubmittedEvent":return(0,c.tZ)(oo,{messageHeader:"Submitted work",messageContent:n.content,user:n.user||to,timeCreated:n.timeCreated});case"BountyApplicationReviewedEvent":return(0,c.tZ)(ro,{content:(0,c.tZ)(p.xv,{css:[y.l0.flex.growAndShrink(1)],children:n.isAccepted?"@".concat((n.user||to).username," was accepted to work on this Bounty"):"".concat((n.user||to).username,"'s application was reviewed")}),timeCreated:n.timeCreated});default:return null}},co=function(e){var n,t=function(e){var n=(0,i.Z)({},fn,e);return q.a(wn,n)}({variables:{input:{id:e.bountyId}}}),r=t.data;if(t.loading)return(0,c.tZ)(h.G,{css:[y.l0.display.flex,y.l0.align.center,y.l0.justify.center],children:(0,c.tZ)(ge.Z,{})});var o=(0,c.tZ)(h.G,{css:[y.l0.display.flex,y.l0.align.center,y.l0.justify.center],children:(0,c.BX)(p.xv,{children:["Couldn't load bounty activity. Please try again later. Contact"," ",(0,c.tZ)("a",{href:"mailto:support@replit.com",target:"_blank",rel:"noreferrer",children:"if the problem persists."})]})});if("Bounty"!==(null===r||void 0===r||null===(n=r.bountyById)||void 0===n?void 0:n.__typename))return o;if(!r.bountyById.events)return o;var a=r.bountyById.user;return(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{variant:"subheadDefault",level:3,children:"Activity Log"}),(0,c.tZ)(h.G,{tag:"ul",css:[y.l0.colWithGap(16)],children:r.bountyById.events.items.map((function(e,n){return(0,c.tZ)(h.G,{tag:"li",children:(0,c.tZ)(so,{event:e,poster:a||to})},e.id||"event-".concat(n))}))})]})},po=t(42241),ho=t(66482);function yo(){var e=(0,A.Z)(["\n  mutation ReviewBountyApplication($input: ReviewBountyApplicationInput!) {\n    reviewBountyApplication(input: $input) {\n      __typename\n      ... on BountyApplication {\n        ...BountyPageApplication\n        bounty {\n          ...BountyPageBounty\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return yo=function(){return e},e}var vo={},mo=(0,G.Ps)(yo(),T,V);var fo=t(25744);function go(){var e=(0,A.Z)(["\n  mutation ReportBountyApplicationFormReport(\n    $bountyApplicationId: Int!\n    $reason: String!\n  ) {\n    reportBountyApplication(\n      bountyApplicationId: $bountyApplicationId\n      reason: $reason\n    ) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on BoardReport {\n        id\n      }\n    }\n  }\n"]);return go=function(){return e},e}var Zo={},bo=(0,G.Ps)(go());var Bo=h.K.form;function wo(e){var n=e.bountyApplicationId,t=e.onDone,r=(0,re.H)(),o=(0,ae.Y)("",We.l6,{debounceDelay:"long"}),a=(0,le.Z)(),l=a.showConfirm,s=a.showError,d=(0,u.Z)(function(e){var n=(0,i.Z)({},Zo,e);return ce.D(bo,n)}({onCompleted:function(e){"BoardReport"===e.reportBountyApplication.__typename?(l("Application reported"),t()):s(e.reportBountyApplication.message)},onError:function(e){s(e.message)}}),2),v=d[0],m=d[1],f=Boolean(o.error);return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Report this Bounty application?"}),(0,c.BX)(Bo,{onSubmit:function(e){e.preventDefault(),m.loading||o.validate()||v({variables:{bountyApplicationId:n,reason:o.value}})},css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.xv,{children:"Please describe why you want to report this Bounty application. Your report will be sent to our moderation team for review."}),(0,c.BX)(h.G,{children:[(0,c.tZ)("label",{htmlFor:r("reason"),children:(0,c.tZ)(ue.B,{id:r("reason"),placeholder:"Why do you want to report this Bounty application?",value:o.value,onChange:function(e){return o.setValue(e.currentTarget.value)},css:[y.l0.minHeight(64),y.l0.maxHeight(128),{resize:"vertical",width:"100%"}],"aria-describedby":r("reasonError")})}),o.error?(0,c.tZ)(se.p,{error:o.error,id:r("reasonError")}):null]}),(0,c.tZ)(h.G,{css:[y.l0.rowWithGap(8),y.l0.justify.end],children:(0,c.tZ)(h.G,{children:(0,c.tZ)(J.zx,{disabled:m.loading||f,text:"Report Application",type:"submit",colorway:"negative",iconLeft:m.loading?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(Ut.Z,{})})})})]})]})}function Co(){var e=(0,A.Z)(["\n  mutation ModeratorRemoveBountyApplication(\n    $input: RemoveBountyApplicationAsModeratorInput!\n  ) {\n    removeBountyApplicationAsModerator(input: $input) {\n      __typename\n      ... on BountyApplication {\n        id\n        ...BountyPageApplication\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Co=function(){return e},e}var xo={},So=(0,G.Ps)(Co(),T);var Ao=h.K.form;function Go(e){var n=e.bountyApplicationId,t=e.onDone,r=(0,re.H)(),o=(0,le.Z)(),a=o.showConfirm,l=o.showError,s=(0,ae.Y)("",We.l6,{debounceDelay:"long"}),d=(0,u.Z)(function(e){var n=(0,i.Z)({},xo,e);return ce.D(So,n)}({onError:function(e){l(e.message)},onCompleted:function(e){"BountyApplication"!==e.removeBountyApplicationAsModerator.__typename?l(e.removeBountyApplicationAsModerator.message):(a("Bounty application removed"),t())}}),2),v=d[0],m=d[1],f=Boolean(s.error);return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Remove this Bounty application?"}),(0,c.BX)(Ao,{onSubmit:function(e){e.preventDefault(),m.loading||s.validate()||v({variables:{input:{bountyApplicationId:n,reason:s.value}},refetchQueries:[ke]})},css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.xv,{children:"If you remove this Bounty application, the application will be deleted and will not show up for the Bounty poster or applicant when they view the Bounty."}),(0,c.BX)(h.G,{children:[(0,c.BX)("label",{htmlFor:r("reason"),children:[(0,c.tZ)(p.xv,{variant:"small",multiline:!1,children:"Please describe why you are taking this action"}),(0,c.tZ)(ue.B,{id:r("reason"),placeholder:"Why are you taking this action?",value:s.value,onChange:function(e){return s.setValue(e.currentTarget.value)},css:[y.l0.minHeight(64),y.l0.maxHeight(128),{resize:"vertical",width:"100%"}],"aria-describedby":r("reasonError")})]}),s.error?(0,c.tZ)(se.p,{error:s.error,id:r("reasonError")}):null]}),(0,c.tZ)(h.G,{css:[y.l0.rowWithGap(8),y.l0.justify.end],children:(0,c.tZ)(J.zx,{disabled:m.loading||f,colorway:"negative",text:"[Mod] Remove Application",type:"submit",iconLeft:m.loading?(0,c.tZ)(ge.Z,{}):void 0})})]})]})}function Io(){var e=(0,A.Z)(["\n  mutation RemoveBountyApplicationConfirm(\n    $input: RemoveBountyApplicationAsApplicantInput!\n  ) {\n    removeBountyApplicationAsApplicant(input: $input) {\n      __typename\n      ... on BountyApplication {\n        id\n        ...BountyPageApplication\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Io=function(){return e},e}var Ro={},Po=(0,G.Ps)(Io(),T);var ko,Uo=t(58946);function Eo(e){var n=e.bountyApplicationId,t=e.onDone,r=(0,le.Z)(),o=r.showConfirm,a=r.showError,l=(0,u.Z)(function(e){var n=(0,i.Z)({},Ro,e);return ce.D(Po,n)}({onError:function(e){a(e.message)},onCompleted:function(e){"BountyApplication"!==e.removeBountyApplicationAsApplicant.__typename?a(e.removeBountyApplicationAsApplicant.message):(o("Bounty application removed"),t())}}),2),s=l[0],d=l[1];return(0,c.tZ)(Uo.Z,{prompt:"Remove your Bounty application?",desc:"If you remove your application, the Bounty poster will no longer be able to see it. You will be able to re-apply in the future.",confirmText:"Remove Application",loading:d.loading,onConfirm:function(){d.loading||s({variables:{input:{bountyApplicationId:n}},refetchQueries:[ke]})},onCancel:t,danger:!0})}function Xo(e){var n=e.bountyApplicationId,t=e.canModerateApplications,r=e.canRemoveApplication,o=e.isLoggedIn,i=(0,u.Z)(x.useState(null),2),a=i[0],l=i[1],s=[];return t&&!r&&s.push({label:"[mod] Remove Application",key:ko.ModeratorRemoveApplication,icon:(0,c.tZ)(xt.Z,{}),isDestructive:!0}),o&&s.push({label:"Report Application",key:ko.ReportApplication,icon:(0,c.tZ)(Ut.Z,{}),isDestructive:!0}),r&&s.push({label:"Remove Application",key:ko.RemoveApplication,icon:(0,c.tZ)(xt.Z,{}),isDestructive:!0}),0===s.length?null:(0,c.BX)(c.HY,{children:[(0,c.tZ)(ft.ZE,{items:s,icon:(0,c.tZ)(It.Z,{}),onAction:function(e){return l(e)},children:s.map((function(e){return(0,c.tZ)(ft.ck,{children:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center,e.isDestructive?[y.l0.color.accentNegativeStronger]:[y.l0.color.foregroundDefault]],children:[e.icon?e.icon:(0,c.tZ)(h.G,{css:[y.l0.width(16)]}),(0,c.tZ)(p.xv,{multiline:!1,children:e.label})]})},e.key)}))}),(0,c.tZ)(m.u,{isOpen:a===ko.ModeratorRemoveApplication,onRequestClose:function(){return l(null)},children:(0,c.tZ)(Go,{bountyApplicationId:n,onDone:function(){return l(null)}})}),(0,c.tZ)(m.u,{isOpen:a===ko.ReportApplication,onRequestClose:function(){return l(null)},children:(0,c.tZ)(wo,{bountyApplicationId:n,onDone:function(){return l(null)}})}),(0,c.tZ)(m.u,{isOpen:a===ko.RemoveApplication,onRequestClose:function(){return l(null)},children:(0,c.tZ)(Eo,{bountyApplicationId:n,onDone:function(){return l(null)}})})]})}!function(e){e.ReportApplication="ReportApplication",e.ModeratorRemoveApplication="ModeratorRemoveApplication",e.RemoveApplication="RemoveApplication"}(ko||(ko={}));var Do,_o=t(28432),Wo=t(13455),To=function(e){switch(e){case ee.Bo.Rejected:return(0,c.tZ)(B.D,{text:"Rejected",colorway:"negative"});case ee.Bo.Accepted:return(0,c.tZ)(B.D,{text:"Accepted",colorway:"primary",iconLeft:(0,c.tZ)(_e.Z,{})});default:case ee.Bo.NotReviewed:return null}};!function(e){e.Accept="Approve",e.Reject="Reject"}(Do||(Do={}));var Mo=function(e){var n=e.bounty,t=e.application,l=e.isBountyPostedByCurrentUser,d=e.hasAcceptedApplication,f=e.canModerateApplications,b=e.isLoggedIn,B=(0,Y.Z)("slug","string"),S=(0,Y.Z)("username","string"),A=(0,Y.Z)("t","string"),G=(0,le.Z)(),I=G.showError,R=G.showConfirm,P=(0,Ne.useRouter)(),k=(0,u.Z)(x.useState(null),2),U=k[0],E=k[1],X=(0,u.Z)(function(e){var n=(0,i.Z)({},vo,e);return ce.D(mo,n)}({onError:function(e){I(e.message)},onCompleted:function(e){if("BountyApplication"===e.reviewBountyApplication.__typename){var t,r;if("accepted"===e.reviewBountyApplication.status)(0,Ue.Ci)({bountyId:n.id,username:null!==(r=null===(t=e.reviewBountyApplication.user)||void 0===t?void 0:t.username)&&void 0!==r?r:""});E(null),R("Application ".concat("accepted"===e.reviewBountyApplication.status?"accepted":"rejected"))}else I(e.reviewBountyApplication.message)}}),2),D=X[0],_=X[1].loading;if(!t.user)return null;var W,T,M,H=(0,c.tZ)(Xo,{bountyApplicationId:t.id,canModerateApplications:f,canRemoveApplication:t.canCurrentUserRemoveApplication,isLoggedIn:b});return(0,c.BX)(c.HY,{children:[(0,c.BX)(v.Tg,{elevated:!0,css:[y.l0.p(24),y.l0.borderRadius(8),y.l0.colWithGap(24)],tag:"li",children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8)],children:[(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.flex.grow(1),y.l0.justify.spaceBetween,(W={},(0,o.Z)(W,y.BC.max("tabletMax"),[y.l0.flex.column,y.l0.align.start]),(0,o.Z)(W,"gap",y.TV.space16),W)],children:[(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.align.center,y.l0.flex.growAndShrink(1),(T={},(0,o.Z)(T,y.BC.max("tabletMax"),[y.l0.flex.column,y.l0.align.start]),(0,o.Z)(T,"gap",y.TV.space8),T)],children:[(0,c.tZ)(Jr.Z,{username:t.user.username,children:(0,c.tZ)(te(),(0,a.Z)((0,i.Z)({},(0,Qe.Ru)(t.user)),{passHref:!0,children:(0,c.tZ)(h.G,{tag:"a",css:[y.l0.color.foregroundDefault,y.l0.focusRing,y.l0.borderRadius(8),{transition:"box-shadow 120ms ease-out"}],children:(0,c.tZ)(g.n,{src:t.user.image,username:t.user.username})})}))}),To(t.status)]}),l&&t.canCurrentUserViewChat?(0,c.tZ)(Z.Z,(0,a.Z)((0,i.Z)({},(0,Ke.sJ)({slug:B,username:S,query:{t:A,chatId:"".concat(t.id)}})),{iconLeft:(0,c.tZ)(je.Z,{}),text:"Chat"})):null,l&&!d?(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8)],children:[t.status!==ee.Bo.Rejected?(0,c.tZ)(w.h,{alt:"Reject Application","aria-label":"Reject Application",onClick:function(){return E(Do.Reject)},css:[y.l0.width(32),y.l0.height(32),C.gU.filled],children:(0,c.tZ)(xt.Z,{})}):null,H,(0,c.tZ)(J.zx,{text:"Accept Application",iconLeft:(0,c.tZ)(_e.Z,{}),colorway:"primary",onClick:function(){return E(Do.Accept)}})]}):null]}),!l||d?H:null]}),(0,c.BX)(p.xv,{color:"dimmer",children:["Applied ",(0,K.F)(new Date(t.timeCreated))]})]}),(0,c.tZ)(h.G,{css:[y.l0.colWithGap(16)],children:(0,c.tZ)(Wo.Z,{collapsedHeight:175,children:(0,c.tZ)(p.xv,{css:{whiteSpace:"pre-line"},children:t.content})})}),(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.justify.spaceBetween,y.l0.flex.growAndShrink(1),(M={},(0,o.Z)(M,y.BC.max("tabletMax"),[y.l0.flex.column,y.l0.align.start]),(0,o.Z)(M,"gap",y.TV.space16),M)],children:[(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.flex.wrap,{gap:y.TV.space8},y.l0.flex.growAndShrink(1)],children:[t.user.socials.map((function(e){return e.type===ee._J.Discord?null:(0,c.tZ)(Z.Z,{iconLeft:(0,fo.nJ)(e.type),href:e.url,target:"_blank",text:(0,fo.GV)(e.type)},e.type)})),l||t.isCurrentUserApplicant?(0,c.tZ)($r,{contactMethod:n.contactMethod,contactInfo:t.contactInfo}):null]}),(0,c.tZ)(_o.E,{user:t.user,context:"application"})]})]},t.id),(0,c.tZ)(m.u,{isOpen:U===Do.Accept,onRequestClose:function(){E(null)},children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{variant:"headerDefault",level:2,children:"Accept Application"}),(0,c.BX)(p.xv,{children:["After you accept ",t.user.username,"'s application, they will begin working on the Bounty and you will not be able to accept any additional applications."]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{onClick:function(){E(null)},text:"Cancel"}),(0,c.tZ)(J.zx,{iconLeft:_?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(_e.Z,{}),disabled:_,text:"Accept Application",colorway:"primary",css:{alignSelf:"end"},onClick:(0,r.Z)((function(){var e,n,r;return(0,s.__generator)(this,(function(o){switch(o.label){case 0:return _?[2]:[4,D({variables:{input:{bountyApplicationId:t.id,status:ee.o4.Accepted}},refetchQueries:[ke,wn]})];case 1:return o.sent(),e=(0,Ke.sJ)({slug:B,username:S,query:{t:"discussion"}}),n=e.as,r=e.href,P.push(r,n,{shallow:!0}),[2]}}))}))})]})]})}),(0,c.tZ)(m.u,{isOpen:U===Do.Reject,onRequestClose:function(){E(null)},children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{variant:"headerDefault",level:2,children:"Reject Application"}),(0,c.BX)(p.xv,{children:["Reject ",t.user.username,"'s application? You will still be able to come back and accept their application later."]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{onClick:function(){E(null)},text:"Cancel"}),(0,c.tZ)(J.zx,{iconLeft:_?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(xt.Z,{}),disabled:_,text:"Reject Application",colorway:"negative",onClick:function(){_||D({variables:{input:{bountyApplicationId:t.id,status:ee.o4.Rejected}}})}})]})]})})]})},Ho=t(93658),Fo=t(20313),Lo=[{title:"Recommended",value:ee.uX.Recommended},{title:"Highest Rating",value:ee.uX.HighestRating},{title:"Newest",value:ee.uX.ApplicationDateDescending},{title:"Oldest",value:ee.uX.ApplicationDateAscending}],Vo=(0,Ce.X)({self:[y.l0.colWithGap(32)],blankContents:[y.l0.p(24),y.l0.borderRadius(8)],applicationsList:[y.l0.colWithGap(16)],loading:[y.l0.pt(16),y.l0.flex.growAndShrink(1),y.l0.align.center,y.l0.justify.center],loadMore:[y.l0.center,y.l0.pt(16)],error:[y.l0.align.start],controlsContainer:[y.l0.align.start],sortSelect:[y.l0.minWidth(125)],acceptedApplicationContainer:[y.l0.colWithGap(16)],applicationsContainer:[y.l0.colWithGap(16)]});function qo(e){var n,t,o,l=e.bounty,d=e.isCurrentUserBountyPoster,y=(0,u.Z)(x.useState(Lo[0].value),2),m=y[0],f=y[1],g=function(e){var n=(0,i.Z)({},Pe,e);return q.a(ke,n)}({variables:{input:{bountyId:l.id,count:10,order:m,status:ee.Lk.RejectedAndNotReviewed}},notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",ssr:!1}),Z=g.data,b=g.error,B=g.fetchMore,C=g.networkStatus,S=C===Fo.I.loading||C===Fo.I.setVariables,A=C===Fo.I.fetchMore,G="BountyApplicationConnection"===(null===Z||void 0===Z?void 0:Z.bountyApplicationSearch.__typename)?Z.bountyApplicationSearch:null,I=G&&G.pageInfo.hasNextPage,R=null!==(o=l.acceptedApplication)&&void 0!==o?o:null,P=R?null===G||void 0===G?void 0:G.items.filter((function(e){return e.id!==R.id})):null===G||void 0===G?void 0:G.items,k=Boolean((null===Z||void 0===Z||null===(n=Z.currentUser)||void 0===n?void 0:n.moderationRoles.length)&&Z.currentUser.moderationRoles.length>0),U=null!=(null===Z||void 0===Z||null===(t=Z.currentUser)||void 0===t?void 0:t.id),E=function(){var e=(0,r.Z)((function(){return(0,s.__generator)(this,(function(e){switch(e.label){case 0:return S||A||!G||!G.pageInfo.hasNextPage||null==G.pageInfo.nextCursor?[2]:[4,B({variables:{input:{order:m,after:G.pageInfo.nextCursor,bountyId:l.id,count:10,status:ee.Lk.RejectedAndNotReviewed}},updateQuery:function(e,n){var t=n.fetchMoreResult;if("BountyApplicationConnection"!==t.bountyApplicationSearch.__typename)return t;var r="BountyApplicationConnection"===e.bountyApplicationSearch.__typename?e.bountyApplicationSearch.items:[],o=(0,we.Z)(r).concat((0,we.Z)(t.bountyApplicationSearch.items));return(0,a.Z)((0,i.Z)({},t),{bountyApplicationSearch:(0,a.Z)((0,i.Z)({},t.bountyApplicationSearch),{items:o})})}})];case 1:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),X=(0,po.Z)({onLoadMore:E,rootMargin:"0px 0px 300px 0px"}).targetRef;return S||A||!b&&G?(0,c.BX)(h.G,{css:Vo.self,children:[l.acceptedApplication?(0,c.BX)(h.G,{css:Vo.acceptedApplicationContainer,children:[(0,c.tZ)(p.h4,{variant:"subheadBig",level:2,children:"Accepted Application"}),(0,c.tZ)(Mo,{bounty:l,application:l.acceptedApplication,isBountyPostedByCurrentUser:d,hasAcceptedApplication:Boolean(l.acceptedApplication),canModerateApplications:k,isLoggedIn:U},l.acceptedApplication.id)]}):null,(0,c.BX)(h.G,{css:Vo.applicationsContainer,children:[(0,c.tZ)(p.h4,{variant:"subheadBig",level:2,children:"Applications"}),(0,c.tZ)(h.G,{css:Vo.controlsContainer,children:(0,c.tZ)(hr.P,{items:Lo,selectedItem:Lo.find((function(e){return e.value===m})),onChange:function(e){return f(e.value)},css:Vo.sortSelect,"data-cy":"bounty-apps-sort"})}),(0,c.BX)(h.G,{css:Vo.applicationsList,tag:"ul","data-cy":"bounty-apps-list",children:[!S&&P?P.map((function(e){return(0,c.tZ)(Mo,{bounty:l,application:e,isBountyPostedByCurrentUser:d,hasAcceptedApplication:Boolean(l.acceptedApplication),canModerateApplications:k,isLoggedIn:U},e.id)})):null,S||0!==(null===P||void 0===P?void 0:P.length)?null:(0,c.tZ)(v.Tg,{elevated:!0,css:Vo.blankContents,children:"No applications."}),S||A?(0,c.tZ)(h.G,{css:Vo.loading,children:(0,c.tZ)(ge.Z,{})}):null,A||S||!I?null:(0,c.tZ)(h.G,{css:Vo.loadMore,children:(0,c.tZ)(w.h,{tooltipHidden:!0,alt:"Show more",onClick:E,ref:X,children:(0,c.tZ)(ho.Z,{})})})]})]})]}):(0,c.tZ)(h.G,{css:Vo.error,children:(0,c.tZ)(en.E,{icon:(0,c.tZ)(Ho.Z,{}),text:"Something went wrong. Please try again."})})}var zo=t(4643),Oo=t(25647),$o=t(1205),jo=t(4678);function No(){var e=(0,A.Z)(["\n  mutation StaffRemoveBountyHunterReviewFormRemove(\n    $input: RemoveBountyHunterReviewAsStaffInput!\n  ) {\n    removeBountyHunterReviewAsStaff(input: $input) {\n      __typename\n      ... on BountyHunterReview {\n        id\n        bounty {\n          id\n          ...BountyPageBounty\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return No=function(){return e},e}var Yo={},Qo=(0,G.Ps)(No(),V);var Ko,Jo=h.K.form;function ei(e){var n=e.bountyHunterReviewId,t=e.onDone,r=(0,re.H)(),o=(0,le.Z)(),a=o.showConfirm,l=o.showError,s=(0,ae.Y)("",We.l6,{debounceDelay:"long"}),d=(0,u.Z)(function(e){var n=(0,i.Z)({},Yo,e);return ce.D(Qo,n)}({onError:function(e){l(e.message)},onCompleted:function(e){"BountyHunterReview"!==e.removeBountyHunterReviewAsStaff.__typename?l(e.removeBountyHunterReviewAsStaff.message):(a("Review removed"),t())}}),2),v=d[0],m=d[1],f=Boolean(s.error);return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Remove this Bounty Hunter review?"}),(0,c.BX)(Jo,{onSubmit:function(e){e.preventDefault(),m.loading||s.validate()||v({variables:{input:{bountyHunterReviewId:n,reason:s.value}}})},css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.xv,{children:"If you remove this Bounty Hunter review, the review will be deleted and will not show up for the Bounty poster or hunter when they view the Bounty."}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(4)],children:[(0,c.BX)("label",{htmlFor:r("reason"),css:[y.l0.colWithGap(4)],children:[(0,c.tZ)(p.xv,{variant:"small",color:"dimmer",multiline:!1,children:"Please describe why you are taking this action"}),(0,c.tZ)(ue.B,{id:r("reason"),placeholder:"Why are you taking this action?",value:s.value,onChange:function(e){return s.setValue(e.currentTarget.value)},css:[y.l0.minHeight(64),y.l0.maxHeight(128),{resize:"vertical",width:"100%"}],"aria-describedby":r("reasonError")})]}),s.error?(0,c.tZ)(se.p,{error:s.error,id:r("reasonError")}):null]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(12),y.l0.justify.end],children:[(0,c.tZ)(J.zx,{disabled:m.loading,onClick:t,text:"Cancel"}),(0,c.tZ)(J.zx,{disabled:m.loading||f,colorway:"negative",text:"[Staff] Remove Review",type:"submit",iconLeft:m.loading?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(xt.Z,{})})]})]})]})}function ni(e){var n=e.bountyHunterReviewId,t=e.isStaff,r=(0,u.Z)(x.useState(null),2),o=r[0],i=r[1],a=[];return t&&a.push({label:"[staff] Remove Review",key:Ko.StaffRemoveReview,isDestructive:!0}),0===a.length?null:(0,c.BX)(c.HY,{children:[(0,c.tZ)(ft.ZE,{items:a,icon:(0,c.tZ)(It.Z,{}),onAction:function(e){return i(e)},children:a.map((function(e){return(0,c.tZ)(ft.ck,{children:(0,c.tZ)(h.G,{style:{color:e.isDestructive?y.TV.accentNegativeStronger:y.TV.foregroundDefault},children:(0,c.tZ)(p.xv,{multiline:!1,children:e.label})})},e.key)}))}),(0,c.tZ)(m.u,{isOpen:o===Ko.StaffRemoveReview,onRequestClose:function(){return i(null)},children:(0,c.tZ)(ei,{bountyHunterReviewId:n,onDone:function(){return i(null)}})})]})}!function(e){e.StaffRemoveReview="StaffRemoveReview"}(Ko||(Ko={}));var ti=(0,Ce.X)({self:[y.l0.colWithGap(24)],bountyDescription:[y.l0.p(24),y.l0.borderRadius(8)],completedInfoCard:[[y.l0.p(24),y.l0.colWithGap(8),y.l0.borderRadius(8),y.l0.border({width:1,style:"solid"})]],completedInfoHeaderText:[y.l0.flex.growAndShrink(1)],reviewAverageRating:[y.l0.color.greenStronger,y.l0.rowWithGap(4),y.l0.align.center],reviewAllRatings:[y.l0.flex.growAndShrink(1)],reviewContainer:[y.l0.rowWithGap(8)],review:[y.l0.colWithGap(8),y.l0.flex.growAndShrink(1)],reviewRatings:[y.l0.flex.column,y.l0.align.start,(0,o.Z)({gap:8},y.BC.min("mobileMax"),[y.l0.flex.row,y.l0.align.center,{gap:4}])]}),ri=function(e){var n=e.solver,t=e.poster,r=e.isStaff,o=e.bountyHunterReview,i=(o.communicationRating+o.qualityRating+o.timelinessRating)/3;return(0,c.BX)(h.G,{css:ti.reviewContainer,children:[(0,c.BX)(h.G,{css:ti.review,children:[(0,c.BX)(p.xv,{children:["@",t.username,"'s review of @",n.username]}),(0,c.BX)(h.G,{css:ti.reviewRatings,children:[(0,c.tZ)(p.xv,{variant:"subheadBig",multiline:!1,children:(0,c.BX)(h.G,{css:ti.reviewAverageRating,children:[(0,c.tZ)($o.Z,{}),(0,c.tZ)("span",{children:(0,jo.D)(i)}),(0,c.tZ)(oe.T,{children:"Average Rating"})]})}),(0,c.BX)(p.xv,{variant:"small",color:"dimmest",css:ti.reviewAllRatings,children:["Communication ",o.communicationRating,"/5, Quality"," ",o.qualityRating,"/5, Timeliness"," ",o.timelinessRating,"/5"]})]}),o.reviewText?(0,c.BX)(p.xv,{children:["\u201c",o.reviewText,"\u201d"]}):null]}),(0,c.tZ)(ni,{bountyHunterReviewId:o.id,isStaff:r})]})};function oi(e){var n=e.bounty,t=e.isStaff,r=(0,Un.F)().values,o=y.TV.accentPositiveDefault,i=Xn()(r.global.accentPositiveDefault).alpha(.4).hex();return(0,c.BX)(v.Tg,{elevated:!0,style:{borderColor:o,boxShadow:"0 0 8px ".concat(i)},css:ti.completedInfoCard,children:[(0,c.tZ)(p.xv,{variant:"subheadDefault",css:ti.completedInfoHeaderText,children:"This Bounty has been completed!"}),n.bountyHunterReview&&n.user&&n.solver?(0,c.BX)(c.HY,{children:[(0,c.tZ)(Tn.R,{}),(0,c.tZ)(ri,{isStaff:t,poster:n.user,solver:n.solver,bountyHunterReview:n.bountyHunterReview})]}):null]})}function ii(e){var n=e.bounty,t=e.isStaff;return(0,c.BX)(h.G,{css:ti.self,children:[n.status===ee.cG.Completed?(0,c.tZ)(oi,{bounty:n,isStaff:t}):null,(0,c.tZ)(p.h4,{variant:"subheadBig",level:2,children:"Bounty Description"}),(0,c.tZ)(v.Tg,{elevated:!0,css:ti.bountyDescription,children:(0,c.tZ)(Oo.O,{children:n.description})})]})}var ai=t(90349),li=(0,eo.iv)([y.l0.maxWidth("100%"),y.l0.align.end]),ui=(0,eo.iv)([y.l0.py(4),y.l0.px(8),y.l0.borderRadius(8),y.l0.flex.shrink(1),y.l0.backgroundColor.backgroundHigher]),si=(0,Ce.X)({left:[li,y.l0.rowWithGap(8),y.l0.pr(48)],right:[li,y.l0.rowReverseWithGap(8),y.l0.pl(48)],bubbleleft:[ui,y.l0.borderRadius(0,4,4,4)],bubbleright:[ui,y.l0.borderRadius(4,0,4,4)],text:[{whiteSpace:"pre-wrap"}]}),ci=function(e){var n=e.variant,t=e.children,r=e.user,o=e.timeAgo;return(0,c.BX)(c.HY,{children:[o?(0,c.tZ)(h.G,{css:[y.l0.flex.row,y.l0.align.center,y.l0.justify.center],children:(0,c.tZ)(p.xv,{variant:"small",color:"dimmest",multiline:!1,children:o})}):null,(0,c.BX)(h.G,{css:si[n||"left"],children:[(0,c.tZ)(ai.q,(0,a.Z)((0,i.Z)({},r),{size:32})),(0,c.tZ)(v.Tg,{elevated:!0,css:si["bubble".concat(n||"left")],children:(0,c.tZ)(p.xv,{css:si.text,children:t})})]})]})},di=t(72454),pi=t(5889),hi=t(35294),yi=(0,Ce.X)({messageList:[y.l0.px(8),y.l0.py(4),y.l0.colWithGap(4),y.l0.height(400),y.l0.overflowY("scroll"),y.l0.overflowX("hidden"),y.l0.focusRing],scrollContainer:[],loading:[y.l0.p(4),y.l0.py(32),y.l0.display.flex,y.l0.align.center,y.l0.justify.center,y.l0.height(480)],emptyStateContainer:[y.l0.p(4),y.l0.py(32)],emptyStateContent:[y.l0.px(16),y.l0.py(32),y.l0.colWithGap(16),y.l0.borderRadius(8),y.l0.justify.center,y.l0.align.center],emptyStateImage:[{opacity:.5}]}),vi=function(e){return e.scrollHeight-e.scrollTop===e.clientHeight},mi=function(e){var n=e.className,t=e.isLoading,r=void 0!==t&&t,o=e.messages,a=void 0===o?[]:o,l=e.loadOlderMessages,u=e.isLoadingOlder,s=void 0!==u&&u,d=e.handleMarkAsRead,y=void 0===d?function(){}:d,m=e.isWaitingForPosterMessage,f=void 0!==m&&m,g=x.useRef(null),Z=function(e){var n=x.useRef(!1);return x.useEffect((function(){var t=e.current;t&&(n.current=vi(t))}),[e]),x.useEffect((function(){var t=e.current;if(t){var r=function(){requestAnimationFrame((function(){n.current=vi(t)}))};return t.addEventListener("scroll",r),function(){t.removeEventListener("scroll",r)}}}),[e]),n}(g);(0,di.Z)((function(){if(!r){var e=g.current;e&&(e.scrollTop=e.scrollHeight)}}),[r]),(0,x.useEffect)((function(){if(0!==a.length&&!0===Z.current){var e=g.current;e&&(e.scrollTop=e.scrollHeight)}}),[a,Z]);var b=x.useRef(null);return(0,hi.Z)((function(){if(!1!==Z.current){var e=a[0];e&&e.id!==b.current&&(b.current=e.id,y())}}),3e3),r?(0,c.tZ)(h.G,{className:n,css:yi.scrollContainer,children:(0,c.tZ)("div",{css:yi.loading,children:(0,c.tZ)(ge.Z,{})})}):a&&0!==a.length?(0,c.tZ)(c.HY,{children:(0,c.tZ)(h.G,{className:n,css:yi.scrollContainer,children:(0,c.BX)(h.G,{css:yi.messageList,innerRef:g,tabIndex:0,children:[l?(0,c.tZ)(J.zx,{text:"Load older messages",onClick:l,loading:s}):null,a.map((function(e,n){return(0,c.tZ)(ci,(0,i.Z)({},e),-1===e.id?"optimistic-".concat(n):e.id)})).reverse()]})})}):(0,c.tZ)(h.G,{className:n,css:yi.scrollContainer,children:(0,c.tZ)(h.G,{css:yi.emptyStateContainer,children:(0,c.BX)(v.Tg,{elevated:!0,css:yi.emptyStateContent,children:[(0,c.tZ)(p.xv,{children:f?"Only Bounty Posters can start the conversation. Check back later!":"Start the conversation by sending a message"}),(0,c.tZ)(pi.Z,{src:"/public/images/bounties/chat_empty_state.svg",alt:"",layout:"fixed",width:125,height:125,css:yi.emptyStateImage})]})})})};function fi(){var e=(0,A.Z)(["\n  fragment BountyChatActionsApplication on BountyApplication {\n    id\n    bounty {\n      id\n      user {\n        id\n        username\n        isBlockedByCurrentUser\n      }\n    }\n    user {\n      id\n      username\n      isBlockedByCurrentUser\n    }\n  }\n"]);return fi=function(){return e},e}function gi(){var e=(0,A.Z)(["\n  fragment BountyChatActionsCurrentUser on CurrentUser {\n    id\n  }\n"]);return gi=function(){return e},e}var Zi=(0,G.Ps)(fi()),bi=(0,G.Ps)(gi()),Bi=t(86615);function wi(){var e=(0,A.Z)(["\n  fragment BountyApplicationChatMessage on BountyChatMessage {\n    id\n    timeCreated\n    message\n    user {\n      id\n      fullName\n      username\n      image\n    }\n  }\n"]);return wi=function(){return e},e}function Ci(){var e=(0,A.Z)(["\n  query BountyChat($input: BountyChatSearchInput!) {\n    currentUser {\n      id\n      username\n      fullName\n      image\n      ...BountyChatActionsCurrentUser\n    }\n    bountyChatSearch(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on BountyChatMessageConnection {\n        items {\n          id\n          ...BountyApplicationChatMessage\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          nextCursor\n          previousCursor\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Ci=function(){return e},e}function xi(){var e=(0,A.Z)(["\n  query BountyChatBountyApplication($input: BountyApplicationByIdInput!) {\n    bountyApplicationById(input: $input) {\n      __typename\n      ... on BountyApplication {\n        id\n        ...BountyPageApplication\n        ...BountyChatActionsApplication\n        canCurrentUserSendChatMessage\n        bounty {\n          id\n          user {\n            id\n            username\n          }\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n  ","\n"]);return xi=function(){return e},e}function Si(){var e=(0,A.Z)(["\n  mutation SendBountyChat($input: SendBountyChatInput!) {\n    sendBountyChat(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on BountyChatMessage {\n        id\n        ...BountyApplicationChatMessage\n      }\n    }\n  }\n  ","\n"]);return Si=function(){return e},e}function Ai(){var e=(0,A.Z)(["\n  mutation MarkBountyChatRead($input: MarkBountyChatReadInput!) {\n    markBountyChatRead(input: $input) {\n      ... on BountyChatMessage {\n        id\n        ...BountyApplicationChatMessage\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ai=function(){return e},e}function Gi(){var e=(0,A.Z)(["\n  subscription LatestBountyMessage($input: LatestBountyChatMessageInput!) {\n    latestBountyChatMessage(input: $input) {\n      ... on BountyChatMessage {\n        id\n        ...BountyApplicationChatMessage\n      }\n    }\n  }\n  ","\n"]);return Gi=function(){return e},e}var Ii={},Ri=(0,G.Ps)(wi()),Pi=(0,G.Ps)(Ci(),bi,Ri);var ki=(0,G.Ps)(xi(),T,Zi);var Ui=(0,G.Ps)(Si(),Ri);var Ei=(0,G.Ps)(Ai(),Ri);var Xi=(0,G.Ps)(Gi(),Ri);var Di=t(16022),_i=t(54414),Wi=t(42569),Ti=t.n(Wi),Mi=(0,Ce.X)({self:[y.l0.rowWithGap(8),y.l0.height(48),y.l0.overflowY("visible"),y.l0.align.end],background:[y.l0.p(8),y.l0.pt(0),y.l0.backgroundColor.backgroundDefault,y.l0.rowWithGap(8),y.l0.align.end,{width:"100%",zIndex:1}],input:[y.l0.maxHeight(200)],sendButton:[(0,Di.ec)("primary")]}),Hi=function(e){return 0===e.trim().length?{message:"Message cannot be empty",severity:"error"}:e.length>5e3?{message:"Message cannot be longer than 5000 characters",severity:"error"}:void 0},Fi=function(e){var n=e.className,t=e.onSubmit,r=e.canSend,o=(0,u.Z)(x.useState(""),2),i=o[0],a=o[1],l=(0,le.Z)().showError,s=x.useRef(null),d=x.useCallback((function(){var e=s.current;e&&requestAnimationFrame((function(){Ti().update(e)}))}),[]),p=x.useCallback((function(e){if("Enter"===e.key&&!e.shiftKey){if(e.preventDefault(),!r)return;var n=e.currentTarget.value;if(!n)return;var o=Hi(n);if(o)return void l(o.message);t(n),a(""),d()}}),[t,l,r,d]),y=x.useCallback((function(){t(i),a(""),d()}),[t,i,d]),v=!r||!!Hi(i);return(0,c.tZ)(h.G,{className:n,css:Mi.self,children:(0,c.BX)(h.G,{css:Mi.background,children:[(0,c.tZ)(ue.B,{css:Mi.input,rows:1,ref:s,autoSize:!0,disabled:!r,value:i,placeholder:r?"Enter message":"Messaging is disabled",onChange:function(e){return a(e.target.value)},onKeyDown:p}),(0,c.tZ)(w.h,{disabled:v,colorway:"primary",size:32,alt:"Send",type:"button",onClick:v?void 0:y,css:Mi.sendButton,children:(0,c.tZ)(_i.Z,{})})]})})},Li=t(97933);function Vi(){var e=(0,A.Z)(["\n  mutation BlockToggleConfirmSetBlocking($input: SetBlocking2Input!) {\n    setBlocking2(input: $input) {\n      __typename\n      ... on SetBlocking2Result {\n        targetUser {\n          id\n          username\n          isBlockedByCurrentUser\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return Vi=function(){return e},e}var qi={},zi=(0,G.Ps)(Vi());function Oi(e){var n=e.targetUserId,t=e.shouldSetBlocking,r=e.onDone,o=(0,le.Z)(),a=o.showConfirm,l=o.showError,s=(0,u.Z)(function(e){var n=(0,i.Z)({},qi,e);return ce.D(zi,n)}({onError:function(e){l(e.message)},onCompleted:function(e){if("SetBlocking2Result"!==e.setBlocking2.__typename)l(e.setBlocking2.message);else{var n=e.setBlocking2.targetUser.username;a("@".concat(n," is ").concat(e.setBlocking2.targetUser.isBlockedByCurrentUser?"blocked":"unblocked")),r()}},refetchQueries:[ki]}),2),d=s[0],p=s[1];return(0,c.tZ)(Uo.Z,{prompt:t?"Block User?":"Unblock User?",desc:t?"If you block this user, you will no longer be able to chat with them and they will not be able to send you messages.":"If you unblock this user, you will be able to chat with them and they will be able to send you messages.",confirmText:t?"Block":"Unblock",loading:p.loading,onConfirm:function(){p.loading||d({variables:{input:{targetUserId:n,shouldBlock:t}}})},onCancel:r,danger:t})}function $i(){var e=(0,A.Z)(["\n  mutation ReportUserFormReport($reportedUserId: Int!, $reason: String!) {\n    createBoardReport(reportedUserId: $reportedUserId, reason: $reason) {\n      id\n    }\n  }\n"]);return $i=function(){return e},e}var ji={},Ni=(0,G.Ps)($i());var Yi,Qi=h.K.form;function Ki(e){var n=e.onDone,t=e.userToReport,r=e.bountyId,o=e.bountyApplicationId,a=(0,re.H)(),l=(0,ae.Y)("",We.l6),s=(0,le.Z)(),d=s.showConfirm,v=s.showError,m=(0,u.Z)(function(e){var n=(0,i.Z)({},ji,e);return ce.D(Ni,n)}({onCompleted:function(){d("User reported"),n()},onError:function(e){v(e.message)}}),2),f=m[0],g=m[1],Z=Boolean(l.error);return(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.BX)(p.h4,{level:1,variant:"headerDefault",children:["Report @",t.username,"?"]}),(0,c.BX)(Qi,{onSubmit:function(e){e.preventDefault(),g.loading||l.validate()||f({variables:{reportedUserId:t.id,reason:l.value+"\nBounty ID: ".concat(r,"\nBounty Application ID: ").concat(o)}})},css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(p.xv,{children:"Please describe why you want to report this user. Your report will be sent to our moderation team for review."}),(0,c.BX)(h.G,{children:[(0,c.tZ)("label",{htmlFor:a("reason"),children:(0,c.tZ)(ue.B,{id:a("reason"),placeholder:"Why do you want to report this user?",value:l.value,onChange:function(e){return l.setValue(e.currentTarget.value)},css:[y.l0.minHeight(64),y.l0.maxHeight(128),{resize:"vertical",width:"100%"}],"aria-describedby":a("reasonError")})}),l.error?(0,c.tZ)(se.p,{error:l.error,id:a("reasonError")}):null]}),(0,c.tZ)(h.G,{css:[y.l0.rowWithGap(8),y.l0.justify.end],children:(0,c.tZ)(h.G,{children:(0,c.tZ)(J.zx,{disabled:g.loading||Z,text:"Report User",type:"submit",colorway:"negative",iconLeft:g.loading?(0,c.tZ)(ge.Z,{}):(0,c.tZ)(Ut.Z,{})})})})]})]})}function Ji(e){var n=e.application,t=e.currentUser,r=(0,u.Z)(x.useState(null),2),o=r[0],i=r[1],a=[],l=null===n||void 0===n?void 0:n.bounty,s=null===l||void 0===l?void 0:l.user,d=null===n||void 0===n?void 0:n.user;if(null==l||null==s||null==d)return null;var v=t.id===s.id?d.isBlockedByCurrentUser:s.isBlockedByCurrentUser,f=t.id===s.id?d:s;return v?a.push({label:"Unblock User",key:Yi.UnblockUser,icon:(0,c.tZ)(ht.Z,{})}):a.push({label:"Block User",key:Yi.BlockUser,icon:(0,c.tZ)(dn.Z,{}),isDestructive:!0}),a.push({label:"Report User",key:Yi.ReportUser,icon:(0,c.tZ)(Ut.Z,{}),isDestructive:!0}),(0,c.BX)(c.HY,{children:[(0,c.tZ)(ft.ZE,{items:a,icon:(0,c.tZ)(It.Z,{}),onAction:function(e){return i(e)},cssProps:[y.l0.reset.button,C.gU.listItem,y.l0.width(24),y.l0.height(24)],children:a.map((function(e){return(0,c.tZ)(ft.ck,{children:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.align.center,e.isDestructive?[y.l0.color.accentNegativeStronger]:[y.l0.color.foregroundDefault]],children:[e.icon?e.icon:(0,c.tZ)(h.G,{css:[y.l0.width(16)]}),(0,c.tZ)(p.xv,{multiline:!1,children:e.label})]})},e.key)}))}),(0,c.tZ)(m.u,{isOpen:o===Yi.ReportUser,onRequestClose:function(){return i(null)},children:(0,c.tZ)(Ki,{userToReport:t.id===s.id?d:s,bountyApplicationId:n.id,bountyId:l.id,onDone:function(){return i(null)}})}),(0,c.tZ)(m.u,{isOpen:o===Yi.BlockUser,onRequestClose:function(){return i(null)},children:(0,c.tZ)(Oi,{shouldSetBlocking:!0,targetUserId:f.id,onDone:function(){return i(null)}})}),(0,c.tZ)(m.u,{isOpen:o===Yi.UnblockUser,onRequestClose:function(){return i(null)},children:(0,c.tZ)(Oi,{shouldSetBlocking:!1,targetUserId:f.id,onDone:function(){return i(null)}})})]})}!function(e){e.ReportUser="ReportUser",e.BlockUser="BlockUser",e.UnblockUser="UnblockUser"}(Yi||(Yi={}));var ea=(0,Ce.X)({asideWrapper:[y.l0.position.fixed,y.l0.bottom(0),y.l0.right("10%"),y.l0.borderRadius(8,8,0,0),y.l0.shadow(3),y.l0.width(400),y.l0.border({width:1,style:"solid",color:y.TV.outlineDefault})],self:[y.l0.colWithGap(0)],header:[y.l0.rowWithGap(8),y.l0.py(8),y.l0.justify.spaceBetween,y.l0.align.center,y.l0.position.relative,y.l0.border({color:y.TV.outlineDefault,direction:"bottom"})],headerButtons:[y.l0.rowWithGap(4),y.l0.align.center]}),na={id:"0",fullName:"Unknown",username:"unknown",src:""},ta=function(e,n){return e.map((function(t,r){var o,i=e[r-1],a=(0,K.F)(new Date(t.timeCreated),!1,6e4),l=i?(0,K.F)(new Date(i.timeCreated),!1,6e4):null;return{id:t.id,variant:(null===(o=t.user)||void 0===o?void 0:o.id)===n?"right":"left",children:t.message,user:t.user?{src:t.user.image,fullName:t.user.fullName||t.user.username,username:t.user.username}:na,timeAgo:l===a||"now"===a?void 0:a}})).reverse()},ra=function(e,n){return"BountyChatMessageConnection"!==e.__typename||"BountyChatMessageConnection"!==n.__typename?e:{__typename:"BountyChatMessageConnection",items:(0,we.Z)(e.items).concat((0,we.Z)(n.items)).reduce((function(e,n){return-1===n.id||e.find((function(e){return e.id===n.id}))?e:(0,we.Z)(e).concat([n])}),[]),pageInfo:{__typename:"PageInfo",hasPreviousPage:e.pageInfo.hasPreviousPage,previousCursor:e.pageInfo.previousCursor,hasNextPage:n.pageInfo.hasNextPage,nextCursor:n.pageInfo.nextCursor}}},oa=function(e){var n=(0,u.Z)(x.useState(!1),2),t=n[0],o=n[1],l=function(e){var n=(0,i.Z)({},Ii,e);return q.a(Pi,n)}({variables:{input:{bountyApplicationId:e}},notifyOnNetworkStatusChange:!0,fetchPolicy:"network-only",ssr:!1}),c=l.data,d=l.updateQuery,p=l.fetchMore,h=function(){var n=(0,r.Z)((function(){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return o(!0),"BountyChatMessageConnection"!==(null===c||void 0===c?void 0:c.bountyChatSearch.__typename)?[2]:[4,p({variables:{input:{bountyApplicationId:e,before:c.bountyChatSearch.pageInfo.previousCursor}},updateQuery:function(e,n){var t=n.fetchMoreResult;return(0,a.Z)((0,i.Z)({},e,t),{bountyChatSearch:ra(t.bountyChatSearch,e.bountyChatSearch)})}})];case 1:return n.sent(),o(!1),[2]}}))}));return function(){return n.apply(this,arguments)}}(),y=function(){var n=(0,r.Z)((function(){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return"BountyChatMessageConnection"!==(null===c||void 0===c?void 0:c.bountyChatSearch.__typename)?[2]:[4,p({variables:{input:{bountyApplicationId:e,after:c.bountyChatSearch.pageInfo.nextCursor}},updateQuery:function(e,n){var t=n.fetchMoreResult;return(0,a.Z)((0,i.Z)({},e,t),{bountyChatSearch:ra(e.bountyChatSearch,t.bountyChatSearch)})}})];case 1:return n.sent(),[2]}}))}));return function(){return n.apply(this,arguments)}}();!function(e){var n=(0,i.Z)({},Ii,e);Bi.m(Xi,n)}({variables:{input:{bountyApplicationId:e}},onData:function(e){var n,t,r=e.data,o=null===r||void 0===r||null===(n=r.data)||void 0===n||null===(t=n.latestBountyChatMessage)||void 0===t?void 0:t.id;o&&("BountyChatMessageConnection"!==(null===c||void 0===c?void 0:c.bountyChatSearch.__typename)||c.bountyChatSearch.items.some((function(e){return e.id===o}))||(y(),!1===(null===b||void 0===b?void 0:b.canCurrentUserSendChatMessage)&&Z()))}});var v=x.useCallback((function(e){d((function(n){return function(e,n){var t;if("BountyChatMessageConnection"!==e.bountyChatSearch.__typename)return e;if("CurrentUser"!==(null===(t=e.currentUser)||void 0===t?void 0:t.__typename))return e;var r=(0,we.Z)(e.bountyChatSearch.items).concat([{__typename:"BountyChatMessage",id:-1,message:n,timeCreated:(new Date).toISOString(),user:(0,a.Z)((0,i.Z)({},e.currentUser),{id:e.currentUser.id,__typename:"User"})}]);return(0,a.Z)((0,i.Z)({},e),{bountyChatSearch:{__typename:"BountyChatMessageConnection",items:r,pageInfo:(0,a.Z)((0,i.Z)({},e.bountyChatSearch.pageInfo),{hasNextPage:!0})}})}(n,e)}))}),[d]),m=x.useCallback((function(){d((function(e){return"BountyChatMessageConnection"!==e.bountyChatSearch.__typename?e:(0,a.Z)((0,i.Z)({},e),{bountyChatSearch:(0,a.Z)((0,i.Z)({},e.bountyChatSearch),{items:e.bountyChatSearch.items.filter((function(e){return-1!==e.id}))})})}))}),[d]),f=function(e){var n=(0,i.Z)({},Ii,e);return q.a(ki,n)}({variables:{input:{id:e}}}),g=f.data,Z=f.refetch,b="BountyApplication"===(null===g||void 0===g?void 0:g.bountyApplicationById.__typename)?g.bountyApplicationById:null;return{data:c,loadOlderMessages:h,isLoadingOlderMessages:t,addOptimisticMessage:v,bountyApplication:b,clearOptimisticMessages:m}},ia=function(e){var n,t=e.bountyApplicationId,o=e.onRequestClose,a=e.padding,l=(0,le.Z)().showError,d=oa(t),y=d.data,v=d.isLoadingOlderMessages,m=d.loadOlderMessages,f=d.addOptimisticMessage,g=d.bountyApplication,Z=d.clearOptimisticMessages;x.useEffect((function(){var e,n;if((null===g||void 0===g||null===(e=g.bounty)||void 0===e||null===(n=e.user)||void 0===n?void 0:n.id)&&(null===y||void 0===y?void 0:y.currentUser)){var r=y.currentUser.id===g.bounty.user.id;(0,Ue.hQ)({bountyApplicationId:t,bountyId:g.bounty.id,role:r?"poster":"hunter"})}}),[null===g||void 0===g?void 0:g.bounty,null===y||void 0===y?void 0:y.currentUser,t]);var b=(0,u.Z)(function(e){var n=(0,i.Z)({},Ii,e);return ce.D(Ui,n)}({onError:function(){l("Couldn't send message. Please try again later."),Z()},onCompleted:function(e){if((null===e||void 0===e?void 0:e.sendBountyChat.__typename)&&"BountyChatMessage"!==e.sendBountyChat.__typename)l(e.sendBountyChat.message);else{var n,r,o;if(!(null===g||void 0===g||null===(n=g.bounty)||void 0===n?void 0:n.id)||!(null===g||void 0===g||null===(r=g.bounty)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.id)||!(null===y||void 0===y?void 0:y.currentUser))return;var i=y.currentUser.id===g.bounty.user.id;(0,Ue.OB)({bountyId:g.bounty.id,bountyApplicationId:t,role:i?"poster":"hunter"})}}}),1),B=b[0],C=(0,u.Z)(function(e){var n=(0,i.Z)({},Ii,e);return ce.D(Ei,n)}({variables:{input:{bountyApplicationId:t}}}),1)[0];if(!y||!y.bountyChatSearch||!y.currentUser||!(null===g||void 0===g?void 0:g.user)||!(null===(n=g.bounty)||void 0===n?void 0:n.user))return(0,c.tZ)(mi,{isLoading:!0});if(!g.canCurrentUserViewChat)return(0,c.tZ)(h.G,{children:"Failed to load chat."});var S=g.user.id===y.currentUser.id?g.bounty.user:g.user;if("BountyChatMessageConnection"===y.bountyChatSearch.__typename){var A=y.currentUser.id,G=!g.canCurrentUserSendChatMessage&&0===y.bountyChatSearch.items.length;return(0,c.BX)(h.G,{css:ea.self,children:[(0,c.BX)(h.G,{css:ea.header,style:{padding:"".concat(a,"px")},children:[(0,c.BX)(p.h4,{level:1,variant:"text",color:"dimmer",children:["Chat with @",S.username]}),(0,c.BX)(h.G,{css:ea.headerButtons,children:[(0,c.tZ)(Ji,{application:g,currentUser:y.currentUser}),(0,c.tZ)(w.h,{alt:"Close Chat",onClick:o,children:(0,c.tZ)(xt.Z,{})})]})]}),(0,c.tZ)(mi,{isWaitingForPosterMessage:G,handleMarkAsRead:function(){return C()},isLoadingOlder:v,loadOlderMessages:y.bountyChatSearch.pageInfo.hasPreviousPage?m:void 0,messages:ta(y.bountyChatSearch.items,A)}),(0,c.tZ)(Fi,{canSend:g.canCurrentUserSendChatMessage,onSubmit:function(){var e=(0,r.Z)((function(e){return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return f(e),[4,B({variables:{input:{bountyApplicationId:t,message:e}}})];case 1:return n.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}()})]})}return(0,c.tZ)(en.E,{colorway:"negative",text:y.bountyChatSearch.message})},aa=function(e){var n=e.bountyApplicationId,t=e.onRequestClose,r=e.isOpen,o=(0,Li.i)();return o.width?o.width<768?(0,c.tZ)(m.u,{isOpen:r,onRequestClose:t,noPadding:!0,hideCloseButton:!0,children:(0,c.tZ)(ia,{bountyApplicationId:n,onRequestClose:t,padding:12})}):r?(0,c.tZ)(v.Tg,{as:"aside","aria-label":"Bounty Messaging",background:"default",css:ea.asideWrapper,children:(0,c.tZ)(ia,{bountyApplicationId:n,onRequestClose:t,padding:8})}):null:null},la=t(66394),ua=t(64907),sa=t(71540),ca=t(62740),da=t(36561),pa=t(43047);function ha(){var e=(0,A.Z)(["\n  query BountyPosterInsightsUser($userId: Int!) {\n    user(id: $userId) {\n      id\n      username\n      bountyInfo {\n        stats {\n          postedBountiesCount\n        }\n        posterSpending {\n          approximateCyclesSpent\n        }\n      }\n    }\n  }\n"]);return ha=function(){return e},e}function ya(){var e=(0,A.Z)(["\n  query BountyPosterInsightsBounties($input: BountySearchInput!) {\n    bountySearch(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on BountySearchConnection {\n        items {\n          id\n          ...BountyPosterInsightsCard\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          nextCursor\n        }\n      }\n    }\n  }\n  ","\n"]);return ya=function(){return e},e}var va={},ma=(0,G.Ps)(ha());var fa=(0,G.Ps)(ya(),pa.B);var ga,Za=h.K.ul,ba=h.K.li,Ba=function(e){var n,t,l,u,d=e.bountyPosterId,m=e.context,f=function(e){var n=(0,i.Z)({},va,e);return q.a(ma,n)}({variables:{userId:d}}),g=function(e){var n=(0,i.Z)({},va,e);return q.a(fa,n)}({variables:{input:{posterId:d,statuses:[ee.jA.Open,ee.jA.InProgress,ee.jA.Completed],order:ee.IN.CreationDateDescending}}}),Z="BountySearchConnection"===(null===(n=g.data)||void 0===n?void 0:n.bountySearch.__typename)&&g.data.bountySearch.pageInfo.hasNextPage,B=function(){var e=(0,r.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return g.loading||"BountySearchConnection"!==(null===(e=g.data)||void 0===e?void 0:e.bountySearch.__typename)||!g.data.bountySearch.pageInfo.hasNextPage||null==g.data.bountySearch.pageInfo.nextCursor?[2]:[4,g.fetchMore({variables:{input:{after:g.data.bountySearch.pageInfo.nextCursor,posterId:d,statuses:[ee.jA.Open,ee.jA.InProgress,ee.jA.Completed],order:ee.IN.CreationDateDescending,listingState:ee._V.All}},updateQuery:function(e,n){var t=n.fetchMoreResult;if("BountySearchConnection"!==t.bountySearch.__typename)return t;var r="BountySearchConnection"===e.bountySearch.__typename?e.bountySearch.items:[],o=(0,we.Z)(r).concat((0,we.Z)(t.bountySearch.items));return(0,a.Z)((0,i.Z)({},t),{bountySearch:(0,a.Z)((0,i.Z)({},t.bountySearch),{items:o})})}})];case 1:return n.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),C=(0,po.Z)({onLoadMore:B,rootMargin:"0px 0px 300px 0px"}).targetRef;if(x.useEffect((function(){(0,Ue.aQ)({context:m})}),[m]),f.loading||g.loading)return(0,c.tZ)(h.G,{css:[y.l0.center,y.l0.p(32)],children:(0,c.tZ)(ge.Z,{})});var S=null!=(null===(t=f.data)||void 0===t?void 0:t.user)?null===(l=f.data)||void 0===l?void 0:l.user:null,A="BountySearchConnection"===(null===(u=g.data)||void 0===u?void 0:u.bountySearch.__typename)?g.data.bountySearch:null;return f.error||g.error||!S||!A?(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{level:1,variant:"headerDefault",children:"Bounty Poster Insights"}),(0,c.tZ)(p.xv,{children:"Something went wrong - please try again"})]}):(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.BX)(p.h4,{level:1,variant:"headerDefault",css:[y.l0.pr(32)],children:["@",S.username," \u2014 Bounty Poster Insights"," ",(0,c.tZ)(h.G,{css:[y.l0.display.inlineFlex],children:(0,c.tZ)(b.u,{tooltip:"Bounty Poster Insights shows stats about this user and shows their posted Bounties. They may have hidden Bounties that are not shown here.",delay:"default",children:(0,c.tZ)(Ho.Z,{})})})]}),(0,c.BX)(h.G,{css:(0,o.Z)({display:"grid",gap:y.TV.space8,gridTemplateColumns:"1fr"},y.BC.min("tabletMin"),{gridTemplateColumns:"1fr 1fr",gap:y.TV.space16}),children:[(0,c.BX)(v.Tg,{elevated:!0,css:[y.l0.colWithGap(4),y.l0.borderRadius(8),y.l0.p(8),y.l0.align.center,y.l0.justify.center],children:[(0,c.tZ)(p.xv,{variant:"subheadBig",multiline:!1,children:S.bountyInfo.stats.postedBountiesCount}),(0,c.BX)(p.xv,{color:"dimmest",multiline:!1,children:[(0,kr.Z)("Bounty",S.bountyInfo.stats.postedBountiesCount)," ","Posted"]})]}),(0,c.BX)(v.Tg,{elevated:!0,css:[y.l0.colWithGap(4),y.l0.borderRadius(8),y.l0.p(8),y.l0.align.center,y.l0.justify.center],children:[(0,c.tZ)(p.xv,{multiline:!1,variant:"subheadBig",css:[y.l0.rowWithGap(2),y.l0.align.center],children:(0,c.BX)(h.G,{css:[y.l0.rowWithGap(4),y.l0.align.center],children:[(0,c.tZ)(Q.Z,{alt:"",size:20}),(0,c.tZ)("span",{children:(0,Vr.H2)(S.bountyInfo.posterSpending.approximateCyclesSpent)})]})}),(0,c.tZ)(p.xv,{color:"dimmest",multiline:!1,children:"Cycles Spent in Bounties"})]})]})]}),(0,c.tZ)(Tn.R,{}),A.items.length>0?(0,c.tZ)(Za,{css:[y.l0.colWithGap(16)],children:A.items.map((function(e){return(0,c.tZ)(ba,{css:[y.l0.flex.growAndShrink(1)],children:(0,c.tZ)(da.$,{bounty:e})},e.id)}))}):(0,c.BX)(p.xv,{children:["@",S.username," does not have any public posted Bounties currently. They may have hidden or cancelled Bounties that are not shown here."]}),g.loading?(0,c.tZ)(h.G,{css:[y.l0.pt(16),y.l0.flex.growAndShrink(1),y.l0.align.center,y.l0.justify.center],children:(0,c.tZ)(ge.Z,{})}):null,!g.loading&&Z?(0,c.tZ)(h.G,{css:[y.l0.center,y.l0.pt(16)],children:(0,c.tZ)(w.h,{tooltipHidden:!0,alt:"Show more",onClick:B,ref:C,children:(0,c.tZ)(ho.Z,{})})}):null]})},wa=t(33137),Ca=t(23142),xa=x.forwardRef((function(e,n){var t=e.count,r=(0,l.Z)(e,["count"]);return(0,c.tZ)(f.OK,(0,a.Z)((0,i.Z)({ref:n,css:y.l0.align.center},r),{iconRight:null!=t?(0,c.tZ)(B.D,{text:t.toString(),css:{display:"inline-flex"}}):null}))})),Sa=["details","applications","discussion"],Aa=function(e){return Sa.indexOf(e)};!function(e){e.Application="Application",e.Submit="Submit",e.Edit="Edit",e.Share="Share",e.Help="Help",e.PosterInsights="PosterInsights"}(ga||(ga={}));var Ga=function(e){var n,t=e.title,r=e.description,i=e.children;return(0,c.tZ)(S.Z,{title:t,description:r,image:jr.r,keywords:jr.A,children:(0,c.tZ)(h.G,{css:[(n={},(0,o.Z)(n,Lr.S$.above,y.l0.p(64)),(0,o.Z)(n,Lr.S$.below,y.l0.p(16)),n),y.l0.maxWidth(970),{marginLeft:"auto",marginRight:"auto",width:"100%"}],children:i})})},Ia=function(){var e,n,t,r,l,s,d,S=(0,u.Z)(x.useState(null),2),A=S[0],G=S[1],I=(0,le.Z)(),R=I.showConfirm,P=I.showError,k=(0,Ne.useRouter)(),U=(0,Y.Z)("username","string"),E=(0,Y.Z)("slug","string"),X=function(e){switch(e){case"applications":return"applications";case"discussion":return"discussion";default:return"details"}}((0,Y.Z)("t","string")),D=(0,Y.Z)("action","string"),_=(0,Y.Z)("chatId","number"),W=(0,u.Z)(x.useState(null!==_&&void 0!==_?_:null),2),T=W[0],M=W[1];x.useEffect((function(){_&&M(_)}),[_]);var H,F=function(e){var n=(0,i.Z)({},$,e);return q.a(j,n)}({variables:{input:{username:U,slug:E}}}),L=F.data,V=F.loading,z=function(e){var n=(0,i.Z)({},$,e);return q.a(N,n)}({variables:{input:{id:null!==(H=null!==T&&void 0!==T?T:_)&&void 0!==H?H:-1}},skip:null==T&&null==_}).data,O="BountyApplication"===(null===z||void 0===z?void 0:z.bountyApplicationById.__typename)&&z.bountyApplicationById.canCurrentUserViewChat;(0,x.useEffect)((function(){var e;if("Bounty"===(null===L||void 0===L?void 0:L.bountyByUrl.__typename)){var n,t=L.bountyByUrl,r=t.isCurrentUserBountyPoster,o=t.isCurrentUserBountySolver,i=null!==(n=null===L||void 0===L||null===(e=L.currentUser)||void 0===e?void 0:e.isStaff)&&void 0!==n&&n;if(t&&"discussion"===X&&!r&&!o&&!i){var a=(0,Ke.sJ)({username:U,slug:E,query:{t:"details"}}),l=a.href,u=a.as;Ye().replace(l,u,{shallow:!0})}}}),[X,L,U,E]);var ne="Bounty"===(null===L||void 0===L?void 0:L.bountyByUrl.__typename)?L.bountyByUrl:null,re=null==(null===L||void 0===L||null===(e=L.currentUser)||void 0===e?void 0:e.id);if((0,x.useEffect)((function(){"apply"!==D||V||null===ne||ne.isCurrentUserBountyPoster||ne.hasCurrentUserApplied?"share"!==D||V||null===ne||G(ga.Share):(G(ga.Application),re&&(0,ot.j)(ot.U3.SIGNUP_REQUESTED,{from:"bounties",placement:"automatic-apply",authFormPlacement:"modal"}))}),[D,V,ne,re]),V)return(0,c.tZ)(Ga,{title:"Bounty",description:"",children:(0,c.tZ)(h.G,{css:[y.l0.align.center,y.l0.justify.center],children:(0,c.tZ)(ge.Z,{})})});if(null==ne)return(0,c.tZ)(Ga,{title:"Bounty Not Found",description:"Bounty could not be found.",children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{variant:"headerBig",level:1,children:"Bounty not found"}),(0,c.BX)(p.xv,{children:["The bounty for @",U,"/",E," could not be found. Please double check the URL. If you think this is a mistake please let us know by"," ",(0,c.tZ)("a",{href:pt.av,children:"contacting support"})]})]})});var ie,ae,ue,se,ce=ne.status,de=ne.user,pe=ne.isCurrentUserBountyPoster,he=ne.isCurrentUserBountySolver,ye=ne.hasCurrentUserApplied,ve=ne.latestSubmission,me=null!==(ie=null===L||void 0===L||null===(n=L.currentUser)||void 0===n?void 0:n.isStaff)&&void 0!==ie&&ie,fe=null!==(ae=null===(t=ne.acceptedApplication)||void 0===t?void 0:t.contactInfo)&&void 0!==ae?ae:null;return(0,c.BX)(Ga,{title:ne.title,description:ne.descriptionPreview,children:[(0,c.BX)(h.G,{css:[y.l0.colWithGap(24)],children:[(0,c.tZ)(Z.Z,(0,a.Z)((0,i.Z)({iconLeft:(0,c.tZ)(Fr.Z,{})},(0,Ke.sP)()),{text:"Back to all Bounties",css:{alignSelf:"start"}})),(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.flex.wrap,y.l0.justify.spaceBetween,(se={},(0,o.Z)(se,Lr.S$.below,y.l0.flex.column),(0,o.Z)(se,"gap",8),se)],children:[(0,c.BX)(p.h4,{variant:"headerBig",level:1,children:[(0,c.BX)("span",{css:[y.l0.color.accentPositiveStronger],children:["Earn ",(0,c.tZ)(Q.Z,{alt:"",size:32})," ",ne.solverPayout.toLocaleString()]}),(0,c.BX)("span",{css:[y.l0.color.foregroundDimmest,{fontSize:y.TV.fontSizeHeaderDefault}],children:[" ","(",(0,Vr.$E)(ne.solverPayout),")"]})]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(4),y.l0.align.center],children:[(0,c.tZ)(yt.Z,{size:12,alt:"Time Remaining"}),(0,c.BX)(p.xv,{color:"dimmer",multiline:!1,children:["due ",(0,K.F)(new Date(ne.deadline))]}),(0,c.tZ)(p.xv,{color:"dimmer","aria-hidden":!0,multiline:!1,children:"\u2022"}),ne.isUnlisted?(0,c.tZ)(b.u,{tooltip:"This bounty is unlisted and will not show up in search results.",children:(0,c.tZ)(B.D,{text:"Unlisted"})}):null,(0,c.tZ)(zo.b,{status:ce})]})]}),(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[(0,c.tZ)(p.h4,{variant:"headerDefault",level:2,children:ne.title}),(0,c.BX)(h.G,{css:[y.l0.flex.row,{gap:16},y.l0.align.center,y.l0.flex.wrap,y.l0.justify.spaceBetween],children:[(0,c.BX)(h.G,{css:[y.l0.flex.row,y.l0.align.center,y.l0.flex.growAndShrink(1),(0,o.Z)({gap:8},(0,Pn.EM)("mobileMax"),[y.l0.flex.column,y.l0.align.start])],children:[de&&(0,c.tZ)(te(),(0,a.Z)((0,i.Z)({},(0,Qe.Ru)(de)),{passHref:!0,children:(0,c.tZ)("a",{css:[y.l0.color.foregroundDefault],children:(0,c.tZ)(g.n,(0,i.Z)({src:de.image},de))})})),de&&(0,c.tZ)(ca.T,{colorway:"green",onClick:function(){return G(ga.PosterInsights)},iconLeft:(0,c.tZ)(Q.Z,{}),text:de.bountyInfo.posterSpending.approximateCyclesSpent>0?(0,c.BX)("span",{children:[(0,c.tZ)("span",{children:"Spent ".concat((0,wa.d)(de.bountyInfo.posterSpending.approximateCyclesSpent)," ")}),(0,c.tZ)(oe.T,{children:"Cycles"}),(0,c.tZ)("span",{children:" in Bounties"})]}):"Poster Insights"}),(0,c.BX)(p.xv,{color:"dimmer",multiline:!1,children:["Posted ",(0,K.F)(new Date(ne.timeCreated))]})]}),(0,c.BX)(h.G,{css:[y.l0.rowWithGap(8),y.l0.justify.end,y.l0.align.center],children:[(null===ne||void 0===ne||null===(r=ne.currentUserApplication)||void 0===r?void 0:r.id)&&ne.currentUserApplication.canCurrentUserViewChat?(0,c.tZ)(Z.Z,(0,a.Z)((0,i.Z)({iconLeft:(0,c.tZ)(je.Z,{})},(0,Ke.sJ)({slug:E,username:U,query:{t:X,chatId:"".concat(ne.currentUserApplication.id)}})),{text:"Chat"})):null,pe&&(null===(l=ne.acceptedApplication)||void 0===l?void 0:l.canCurrentUserViewChat)?(0,c.tZ)(Z.Z,(0,a.Z)((0,i.Z)({iconLeft:(0,c.tZ)(je.Z,{})},(0,Ke.sJ)({slug:E,username:U,query:{t:X,chatId:"".concat(ne.acceptedApplication.id)}})),{text:(null===(s=ne.acceptedApplication)||void 0===s?void 0:s.user)?"Chat with @".concat(ne.acceptedApplication.user.username):"Chat"})):null,(0,c.tZ)(w.h,{alt:"Share",onClick:function(){G(ga.Share)},css:[C.gU.filled,y.l0.width(32),y.l0.height(32)],children:(0,c.tZ)(Nr.Z,{})}),pe?(0,c.tZ)(w.h,{alt:"Edit",onClick:function(){return G(ga.Edit)},css:[C.gU.filled,y.l0.width(32),y.l0.height(32)],children:(0,c.tZ)(vt.Z,{})}):null,re?null:(0,c.tZ)(pr,{bounty:ne,isStaff:me||!1}),ce===ee.cG.Open&&!pe&&(0,c.tZ)(J.zx,{disabled:ye,text:ye?"Already Applied":"Apply",iconLeft:(0,c.tZ)(ht.Z,{}),onClick:function(){G(ga.Application),re&&(0,ot.j)(ot.U3.SIGNUP_REQUESTED,{from:"bounties",placement:"apply",authFormPlacement:"modal"})},colorway:"primary"}),ce===ee.cG.Open&&pe&&(0,c.tZ)(Z.Z,(0,a.Z)((0,i.Z)({colorway:"primary"},(0,Ke.sJ)({username:U,slug:E,query:{t:"applications"}})),{text:"View Applications",iconLeft:(0,c.tZ)(Je.Z,{})})),ce===ee.cG.InProgress&&he&&(0,c.tZ)(J.zx,{text:"Submit Work",colorway:"primary",onClick:function(){return G(ga.Submit)},iconLeft:(0,c.tZ)(cn.Z,{})}),ce===ee.cG.InProgress&&pe&&!!ve&&(0,c.tZ)(Z.Z,(0,a.Z)((0,i.Z)({colorway:"primary"},(0,Ke.sJ)({username:U,slug:E,query:{t:"discussion"}})),{target:"_blank",text:"View Work",iconLeft:(0,c.tZ)(Je.Z,{})}))]})]})]}),(0,c.BX)(f.mQ,{selectedIndex:Aa(X),onSelectionChange:function(e){var n=(0,Ke.sJ)({username:U,slug:E,query:{t:Sa[e]}});k.replace(n.href,n.as,{shallow:!0})},children:[(0,c.BX)(f.td,{css:[y.l0.overflowX("auto"),y.l0.height("auto")],children:[(0,c.tZ)(xa,{iconLeft:(0,c.tZ)(Oe.Z,{}),children:"Details"}),(0,c.tZ)(xa,{iconLeft:(0,c.tZ)($e.Z,{}),count:ne.applicationCount,children:"Applications"}),pe||he||me?(0,c.tZ)(xa,{iconLeft:(0,c.tZ)(je.Z,{}),children:"Discussion".concat(!me||pe||he?"":" [staff]")}):(0,c.tZ)(c.HY,{children:(0,c.tZ)(b.u,{tooltip:"You can view discussion if you are accepted as the solver",children:function(e,n){return(0,c.tZ)(xa,(0,a.Z)((0,i.Z)({},e),{ref:n,iconLeft:(0,c.tZ)(mt.Z,{}),isDisabled:!0,css:[y.l0.color.foregroundDimmest],children:"Discussion"}))}})})]}),(0,c.BX)(f.nP,{css:[y.l0.py(24)],children:[(0,c.tZ)(f.x4,{children:(0,c.tZ)(ii,{bounty:ne,isStaff:me})}),(0,c.tZ)(f.x4,{children:(0,c.tZ)(qo,{bounty:ne,isCurrentUserBountyPoster:pe})}),(pe||he||me)&&(0,c.tZ)(f.x4,{children:(0,c.BX)(h.G,{css:[y.l0.colWithGap(16)],children:[!!ve&&(0,c.tZ)(dt,{bounty:ne,submission:ve,isUserBountyPoster:pe}),(0,c.BX)(h.G,{css:[(0,o.Z)({display:"grid",gridTemplateColumns:"1fr",gap:y.TV.space16},y.BC.min("tabletMax"),{gridTemplateColumns:"1fr 1fr"})],children:[(0,c.BX)(v.Tg,{elevated:!0,css:[y.l0.p(16),y.l0.colWithGap(8),y.l0.borderRadius(8)],children:[(0,c.tZ)(p.h4,{variant:"subheadDefault",level:3,children:"Get in touch"}),ne.acceptedApplication&&(0,c.tZ)(Z.Z,(0,a.Z)((0,i.Z)({},(0,Ke.sJ)({username:U,slug:E,query:{chatId:"".concat(ne.acceptedApplication.id),t:"discussion"}})),{text:"Chat",iconLeft:(0,c.tZ)(je.Z,{})})),(0,c.tZ)(p.xv,{color:"dimmer",multiline:!1,children:pe?"You":"Poster"}),(0,c.tZ)(Or,{contactInfo:ne.contactInfo,contactMethod:ne.contactMethod}),(0,c.tZ)(p.xv,{color:"dimmer",multiline:!1,children:he?"You":"Bounty Hunter"}),(0,c.tZ)(Or,{contactInfo:fe,contactMethod:ne.contactMethod})]}),(0,c.BX)(v.Tg,{elevated:!0,css:[y.l0.p(16),y.l0.colWithGap(8),y.l0.borderRadius(8)],children:[(0,c.BX)(p.h4,{variant:"subheadDefault",level:3,children:["Having trouble?"," "]}),(0,c.tZ)(J.zx,{onClick:function(){return G(ga.Help)},text:"Get help",iconLeft:(0,c.tZ)(sa.Z,{})})]})]}),(0,c.tZ)(v.Tg,{elevated:!0,css:[y.l0.p(16),y.l0.borderRadius(8)],children:(0,c.tZ)(co,{bountyId:ne.id})})]})})]})]})]}),A===ga.Application?(0,c.tZ)(m.u,{isOpen:A===ga.Application,onRequestClose:function(){return G(null)},maxWidth:600,children:re?(0,c.tZ)(Ca.o,{loginTitle:"Login to apply for this Bounty",signupTitle:"Signup to apply for this Bounty",description:"",textOnSuccess:"Success! Forking Repl...",onSuccess:function(){R("Logged in!")},onFailure:function(){P("Something went wrong - please try logging in again.")},trackSource:"bountyPage"}):(0,c.tZ)(ze,{onComplete:function(){return G(null)},bounty:ne})}):null,(0,c.tZ)(m.u,{isOpen:A===ga.Submit,onRequestClose:function(){return G(null)},maxWidth:600,children:(0,c.tZ)(Sn,{onComplete:function(){return G(null)},bountyId:ne.id})}),(0,c.tZ)(m.u,{isOpen:A===ga.Edit,onRequestClose:function(){return G(null)},maxWidth:600,children:(0,c.tZ)(Hr,{onComplete:function(){return G(null)},bountyId:ne.id})}),(0,c.tZ)(m.u,{isOpen:A===ga.Share,onRequestClose:function(){return G(null)},maxWidth:512,children:(0,c.tZ)(Qr,{bounty:(0,a.Z)((0,i.Z)({},ne),{user:{username:null!==(ue=null===(d=ne.user)||void 0===d?void 0:d.username)&&void 0!==ue?ue:U}}),isCurrentUserBountyPoster:pe})}),O&&null!=T&&(0,c.tZ)(aa,{isOpen:!!T,onRequestClose:function(){var e=(0,Ke.sJ)({slug:E,username:U,query:(0,a.Z)((0,i.Z)({},k.query),{chatId:void 0})}),n=e.as,t=e.href;k.replace(t,n,{shallow:!0}),M(null)},bountyApplicationId:T}),(0,c.tZ)(m.u,{isOpen:A===ga.Help,onRequestClose:function(){G(null)},children:(0,c.tZ)(ua.Z,{items:pe?la.Kp:la.am,onRequestClose:function(){G(null)},formConfig:{titleField:"Summary",titleDescription:"Please summarize what you want us to help you with",titlePlaceholder:"",bodyField:"Situation",bodyDescription:"Please describe the situation in detail and provide any additional information that can help us help you.",bodyPlaceholder:""}})}),ne.user&&(0,c.tZ)(m.u,{isOpen:A===ga.PosterInsights,onRequestClose:function(){G(null)},maxWidth:620,children:(0,c.tZ)(Ba,{bountyPosterId:ne.user.id,context:"bounty"})})]})};Ia.getInitialProps=function(){var e=(0,r.Z)((function(e){var n,t;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return n=e.req,t=e.store,[4,(0,d.Z)(n,t)];case 1:return r.sent(),[2,{}]}}))}));return function(n){return e.apply(this,arguments)}}();var Ra=Ia},84395:function(e,n,t){"use strict";t.d(n,{N:function(){return i},U:function(){return a}});var r=t(43718),o=t(49500);function i(e){let{id:n,label:t,"aria-labelledby":i,"aria-label":a,labelElementType:l="label"}=e;n=(0,r.Me)(n);let u=(0,r.Me)(),s={};return t?(i=i?`${i} ${u}`:u,s={id:u,htmlFor:"label"===l?n:void 0}):i||a||o.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility"),{labelProps:s,fieldProps:(0,r.bE)({id:n,"aria-label":a,"aria-labelledby":i})}}function a(e){let{description:n,errorMessage:t,validationState:o}=e,{labelProps:a,fieldProps:l}=i(e),u=(0,r.mp)([Boolean(n),Boolean(t),o]),s=(0,r.mp)([Boolean(n),Boolean(t),o]);return l=(0,r.dG)(l,{"aria-describedby":[u,s,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:a,fieldProps:l,descriptionProps:{id:u},errorMessageProps:{id:s}}}},85188:function(e,n,t){"use strict";t.d(n,{w:function(){return l}});var r=t(94005),o=t(50959);let i=Math.round(1e10*Math.random()),a=0;function l(e){let n=(0,o.useMemo)((()=>e.name||`radio-group-${i}-${++a}`),[e.name]),[t,l]=(0,r.zk)(e.value,e.defaultValue,e.onChange),[u,s]=(0,o.useState)(null);return{name:n,selectedValue:t,setSelectedValue:n=>{e.isReadOnly||e.isDisabled||l(n)},lastFocusedValue:u,setLastFocusedValue:s,isDisabled:e.isDisabled||!1,isReadOnly:e.isReadOnly||!1,validationState:e.validationState}}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[7901,1492,3709,2550,7005,4759,4945,7512,668,8205,2926,3718,189,2949,898,1858,8525,5923,7900,7081,1628,9774,2888,179],(function(){return n(54186),n(41911)}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=bounty-403cda57f8a3b0db.js.map