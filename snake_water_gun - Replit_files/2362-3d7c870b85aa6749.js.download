"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2362],{73299:function(n,e,r){r.d(e,{C:function(){return a},Gw:function(){return i},Tg:function(){return c},so:function(){return o},ss:function(){return l},tc:function(){return u}});var t=r(55749);function o(n,e){for(var r=[],t=n.split(e),o=0;o<t.length;o++){var u=t[o].trim();""!==u&&r.push(u)}return r}function u(n){return n.replace(/^<|>$/g,"")}function i(n){return"'".concat(n.replace(/'/g,"'\\''"),"'")}function a(n){return n.replace(/^refs\/(?:heads|remotes)\//,"")}function c(n){if(-1===n.indexOf("/"))return[null,null];if(n.startsWith("refs/heads/"))return[null,null];if(n.startsWith("refs/remotes/")){var e=(0,t.Z)(n.split("/"));return[e[2],e.slice(3).join("/")]}var r=(0,t.Z)(n.split("/"));return[r[0],r.slice(1).join("/")]}function l(n){return n.replace(/^refs\/remotes\//,"")}},49760:function(n,e,r){r.d(e,{Z:function(){return m},h:function(){return o}});var t,o,u=r(57135),i=r(2272),a=r(96583),c=r(73299),l="# branch.oid ",s="# branch.head ",f="# branch.upstream ",d="# branch.ab ",h="# stash ",p=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,v=/^([RC])([0-9]+) (.+?)\t(.+)$/,g=/^(\S)(\S) (\S{4}) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (\S+) (.*)$/,E=/([RC][0-9]+ .+?)\0(.+?(?:\0|$))/g;function m(n){return N.apply(this,arguments)}function N(){return(N=(0,u.Z)((function(n){var e,r,t,o,u,p,v,g,m,N,k,R,w,A,b,I,y,D,O,T,S;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return e=null,r=null,t=null,o=0,u=[],[4,n("git status ".concat(["-z","--porcelain=v2","--branch","--show-stash","--untracked-files=all"].join(" ")))];case 1:if((p=a.sent()).error)return[2,p];v=p.output.replaceAll(E,"$1\t$2"),g=(0,c.so)(v,"\0"),m=!0,N=!1,k=void 0;try{for(R=g[Symbol.iterator]();!(m=(w=R.next()).done);m=!0)(A=w.value).startsWith("#")?A.startsWith(l)?"(initial)"!==(b=A.substring(l.length))&&(e=b):A.startsWith(s)?"(detached)"!==(I=A.substring(s.length))&&(r=I):A.startsWith(f)?"(not queried)"!==(y=A.substring(f.length))&&(t={branch:y,ahead:0,behind:0}):A.startsWith(d)?t&&(D=(0,i.Z)(A.substring(d.length).split(" ").map((function(n){return Math.abs(parseInt(n,10))})),2),O=D[0],T=D[1],t.ahead=O,t.behind=T):A.startsWith(h)&&(o=parseInt(A.substring(h.length),10)):null!==(S=C(A))&&u.push(S)}catch(_){N=!0,k=_}finally{try{m||null==R.return||R.return()}finally{if(N)throw k}}return[2,{commit:e,branch:r,upstream:t,stashes:o,changes:u,error:null}]}}))}))).apply(this,arguments)}function C(n){var e=n[0];switch(n=n.substring(2),e){case t.IGNORED:return null;case t.UNTRACKED:return{type:{index:o.UNTRACKED,worktree:o.UNTRACKED},path:n,staged:!1,unmerged:!1};case t.UNMERGED:var r=n.match(g);if(!r)return null;var u=(0,i.Z)(r,12),a=u[1],c=u[2],l=u[11],s=k(a);return{type:{index:s,worktree:k(c)},path:l,staged:s!==o.UNMODIFIED,unmerged:!0};case t.ORDINARY:case t.RENAMED_OR_COPIED:var f=n.match(p);if(!f)return null;var d=(0,i.Z)(f,10),h=d[1],E=d[2],m=d[9],N=k(h),C=k(E),w=N!==o.UNMODIFIED;if(e===t.ORDINARY)return{type:{index:N,worktree:C},path:m,staged:w,unmerged:!1};if(e===t.RENAMED_OR_COPIED){var A=m.match(v);if(!A)return null;var b=(0,i.Z)(A,5),I=b[1],y=b[2],D=b[3],O=b[4];return{type:{index:N,worktree:C},path:D,staged:w,unmerged:!1,source:{type:R(I),score:parseInt(y,10),path:O}}}return null;default:return null}}function k(n){switch(n){case".":default:return o.UNMODIFIED;case"M":return o.MODIFIED;case"T":return o.TYPE_CHANGED;case"A":return o.ADDED;case"D":return o.DELETED;case"R":return o.RENAMED;case"C":return o.COPIED;case"U":return o.UNMERGED}}function R(n){switch(n){case"R":default:return o.RENAMED;case"C":return o.COPIED}}!function(n){n.ORDINARY="1",n.RENAMED_OR_COPIED="2",n.UNMERGED="u",n.UNTRACKED="?",n.IGNORED="!"}(t||(t={})),function(n){n.UNTRACKED="UNTRACKED",n.UNMODIFIED="UNMODIFIED",n.MODIFIED="MODIFIED",n.TYPE_CHANGED="TYPE_CHANGED",n.ADDED="ADDED",n.DELETED="DELETED",n.RENAMED="RENAMED",n.COPIED="COPIED",n.UNMERGED="UNMERGED"}(o||(o={}))},89334:function(n,e,r){r.d(e,{Z:function(){return E}});var t=r(57135),o=r(96583),u=r(91926),i=r(77970),a=r(10841),c=r(27327),l=r(29457),s=r(25528);function f(n){var e=n.container,r=n.toolchain,f=n.beforeRun,d=function(){var n=function(n){v!==n&&(v=n,h.emit(a.zW.STATE_CHANGE,v))};n(p?E?a.Ah.STOPPING:"none"===g?a.Ah.IDLE:a.Ah.RUNNING:a.Ah.OFFLINE)},h=(0,c.ZP)(),p=null,v=a.Ah.OFFLINE,g="none",E=!1,m=Math.random();function N(){return(N=(0,t.Z)((function(n){var t,u,i,c,E,N,C;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(v!==a.Ah.IDLE&&v!==a.Ah.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+v);return u=Math.random(),m=u,h.emit(a.zW.LOCAL_RUN),g="before-run",d(),n||(c=(0,s.Z)(r.configs.current,[],null,(null===(i=r.configs.current)||void 0===i?void 0:i.entrypoint)||null)).length>0&&(n=c[0]),E=l.kg.timeStart({runnerId:null===n||void 0===n?void 0:n.runner.id,filePath:null===n||void 0===n?void 0:n.filePath,isInterpreter:null===n||void 0===n?void 0:n.runner.interpreter,replLanguage:null===(t=e.getContext())||void 0===t?void 0:t.repl.language}),[4,f(E,{runId:u.toString(),channelId:null===p||void 0===p?void 0:p.id,type:"shellrunner",runConfig:n})];case 1:if(o.sent(),m!==u)return[2];if("none"===g)return[2];if("server"===g)return[2];if(!p)throw new Error("State is RUNNING but shellrunner is null?");return"open"!==p.status||(g="optimistic",N={},n&&(N.runnerId=n.runner.id,N.filePath=n.filePath),p.send({runMain:N}),C=p.onCommand((function(n){"state"===n.body&&(C(),E("run finished"))}))),[2]}}))}))).apply(this,arguments)}function C(){return(C=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(e){if(v!==a.Ah.IDLE&&v!==a.Ah.RUNNING)throw new Error("Can only send input when running or idle");if(!p)throw new Error("State is not OFFLINE but shellrunner is null?");return p.send({input:n}),[2]}))}))).apply(this,arguments)}return e.openChannel({name:"shellrunner",service:"shellrun2",skip:function(n){var e,r=n.repl;return!("nix"===(e=r.language)||!0===u.Z.usesInterpreter(e)||!1!==u.Z.usesRunProject(e))}},(function(n){var e=n.channel;return p=e,d(),e.onCommand((function(n){if(null!=n.state){var e=n.state===i.api.State.Stopped;E&&e&&(E=!1),e?"server"===g&&(g="none"):g="server",d()}else null!=n.output?h.emit(a.zW.OUTPUT,n.output):n.hint&&h.emit(a.zW.OUTPUT,"\r\n\x1b[0m\x1b[33m".concat(n.hint.text,"\x1b[0m\r\n"))})),function(){g="none",E=!1,p=null,d()}})),{mode:"shellrunner",run:function(n){return N.apply(this,arguments)},stopRun:function(){if(v!==a.Ah.RUNNING)throw new Error("stopRun must be called when running but got ".concat(v));if(!p)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===g)return g="none",void d();g="none",E=!0,d(),p.send({clear:{}})},sendInput:function(n){return C.apply(this,arguments)},resizeTerminal:function(n){if(!p)throw new Error("resizeTerminal must be called when online");p.send({resizeTerm:n})},onOutput:function(n){return h.on(a.zW.OUTPUT,n),function(){h.removeListener(a.zW.OUTPUT,n)}},onLocalRun:function(n){return h.on(a.zW.LOCAL_RUN,n),function(){h.removeListener(a.zW.LOCAL_RUN,n)}},onStateChanged:function(n){return h.on(a.zW.STATE_CHANGE,n),function(){h.removeListener(a.zW.STATE_CHANGE,n)}},getRunState:function(){return v}}}var d=r(87861);var h=r(92674),p=r.n(h),v=r(92153);function g(n){return 1e3*n.seconds+n.nanos/1e6}function E(n){var e,r=n.container,u=n.toolchain,h=n.beforeRun,E=n.packager,m=n.mode;if("shellrunner"===m)e=f({container:r,toolchain:u,beforeRun:h});else if("outputs"===m){if(!E)throw new Error("outputs mode requires packager");e=function(n){var e=n.container,r=n.toolchain,u=n.beforeRun,f=n.packager,d=function(n){b=(0,v.ZP)(b,n)},h=function(){var n=b.outputBlocks[b.outputBlocks.length-1];n&&N.emit(a.zW.BLOCK_CHANGED,n)},E=function(n,e){var r=!1;d((function(t){var o=t.outputBlocks[t.outputBlocks.length-1];if(o){if(o.type!==n)throw new Error("updating ".concat(n," block type, but current block has a ").concat(o.type," type"));e(o),r=!0}})),r&&h()},m=function(){(function(n){k!==n&&(k=n,N.emit(a.zW.STATE_CHANGE,k))})(C?w?a.Ah.STOPPING:"none"===R?a.Ah.IDLE:a.Ah.RUNNING:a.Ah.OFFLINE)},N=(0,c.ZP)(),C=null,k=a.Ah.OFFLINE,R="none",w=!1,A=Math.random(),b={outputBlocks:[]};function I(){return(I=(0,t.Z)((function(n){var t,i,c,f,d,h,p;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:if(k!==a.Ah.IDLE&&k!==a.Ah.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+k);return i=Math.random(),A=i,N.emit(a.zW.LOCAL_RUN),R="before-run",m(),n||(f=(0,s.Z)(r.configs.current,[],null,(null===(c=r.configs.current)||void 0===c?void 0:c.entrypoint)||null)).length>0&&(n=f[0]),d=l.kg.timeStart({runnerId:null===n||void 0===n?void 0:n.runner.id,filePath:null===n||void 0===n?void 0:n.filePath,isInterpreter:null===n||void 0===n?void 0:n.runner.interpreter,replLanguage:null===(t=e.getContext())||void 0===t?void 0:t.repl.language}),[4,u(d,{runId:i.toString(),channelId:null===C||void 0===C?void 0:C.id,type:"outputs",runConfig:n})];case 1:if(o.sent(),A!==i)return[2];if("none"===R)return[2];if("server"===R)return[2];if(!C)throw new Error("State is RUNNING but outputs is null?");return"open"!==C.status||(R="optimistic",h={},n&&(h.runnerId=n.runner.id,h.filePath=n.filePath),C.send({runMain:h}),p=C.onCommand((function(n){"state"===n.body&&(p(),d("run finished"))}))),[2]}}))}))).apply(this,arguments)}function y(){return(y=(0,t.Z)((function(n){return(0,o.__generator)(this,(function(e){if(k!==a.Ah.IDLE&&k!==a.Ah.RUNNING)throw new Error("Can only send input when running or idle");if(!C)throw new Error("State is not OFFLINE but shellrunner is null?");return C.send({input:n}),[2]}))}))).apply(this,arguments)}return f.onOutput((function(n){E(a.kH.PACKAGER,(function(e){e.output+=n.replace(/\n/g,"\n\r")}))})),f.onError((function(n){E(a.kH.PACKAGER,(function(e){e.error?e.error+="\n"+n:e.error=n}))})),f.onStateChanged((function(n){n?(d((function(n){n.outputBlocks.push({id:p()(),localStartTime:Date.now(),isDone:!1,type:a.kH.PACKAGER,output:""}),n.outputBlocks.length>20&&n.outputBlocks.shift()})),h()):E(a.kH.PACKAGER,(function(n){n.localEndTime=Date.now(),n.isDone=!0}))})),e.openChannel({name:"output",service:"output"},(function(n){var e=n.channel;return C=e,m(),e.onCommand((function(n){if(null!=n.state){var e=n.state===i.api.State.Stopped;return w&&e&&(w=!1),e?("server"===R&&(R="none"),E(a.kH.EXECUTION,(function(n){n.isDone=!0}))):R="server",void m()}if(null!=n.outputBlockStartEvent&&null!=n.outputBlockStartEvent.measureStartTime){var r=n.outputBlockStartEvent.executionMode===i.api.OutputBlockStartEvent.ExecutionMode.Run?"run":"interpret",t=g(n.outputBlockStartEvent.measureStartTime);d((function(n){n.outputBlocks.push({id:p()(),localStartTime:Date.now(),startTime:t,isDone:!1,type:a.kH.EXECUTION,output:"",executionMode:r}),n.outputBlocks.length>20&&n.outputBlocks.shift()})),h()}if(null!=n.output&&E(a.kH.EXECUTION,(function(e){e.output+=n.output})),null!=n.stderr&&E(a.kH.EXECUTION,(function(e){e.stderr=(e.stderr||"")+n.stderr})),null!=n.error){var o=n.error;E(a.kH.EXECUTION,(function(n){n.error?n.error+="\n"+o:n.error=o}))}if(null!=n.outputBlockEndEvent&&null!=n.outputBlockEndEvent.measureEndTime){var u=n.outputBlockEndEvent.exitCode,c=g(n.outputBlockEndEvent.measureEndTime);E(a.kH.EXECUTION,(function(n){n.exitCode=u,n.localEndTime=Date.now(),n.endTime=c,n.isDone=!0}))}})),function(){R="none",w=!1,C=null,m(),d((function(n){n.outputBlocks=[]}))}})),{mode:"outputs",run:function(n){return I.apply(this,arguments)},stopRun:function(){if(k!==a.Ah.RUNNING)throw new Error("stopRun must be called when running but got ".concat(k));if(!C)throw new Error("State is RUNNING but shellrunner is null?");if("before-run"===R)return R="none",void m();R="none",w=!0,m(),C.send({clear:{}})},sendInput:function(n){return y.apply(this,arguments)},onLocalRun:function(n){return N.on(a.zW.LOCAL_RUN,n),function(){N.removeListener(a.zW.LOCAL_RUN,n)}},onStateChanged:function(n){return N.on(a.zW.STATE_CHANGE,n),function(){return N.removeListener(a.zW.STATE_CHANGE,n)}},getRunState:function(){return k},clearBlockHistory:function(){d((function(n){n.outputBlocks=n.outputBlocks.filter((function(n){return!n.isDone}))}))},onBlockChanged:function(n){return N.on(a.zW.BLOCK_CHANGED,n),function(){return N.removeListener(a.zW.BLOCK_CHANGED,n)}},getOutputBlocks:function(){return b.outputBlocks}}}({container:r,toolchain:u,beforeRun:h,packager:E})}else"html"===m&&(e=function(n){var e=n.beforeRun,r=n.container,u=function(){(function(n){s!==n&&(s=n,i.emit(a.zW.STATE_CHANGE,s))})("none"===f?a.Ah.IDLE:a.Ah.RUNNING)},i=(0,c.ZP)(),s=a.Ah.OFFLINE,f="none",h=Math.random();function p(){return(p=(0,t.Z)((function(){var n,r;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:if(s!==a.Ah.IDLE&&s!==a.Ah.STOPPING)throw new Error("Cannot run while state is not IDLE or STOPPING, got state: "+s);return n=Math.random(),h=n,i.emit(a.zW.LOCAL_RUN),f="before-run",u(),r=l.kg.timeStart({replLanguage:"html"}),[4,e(r,{runId:n.toString(),type:"html"})];case 1:return t.sent(),h!==n||"none"===f||(f="running",u(),f="none",u()),[2]}}))}))).apply(this,arguments)}return r.onConnectionStateChanged((function(n){n===d.em.CONNECTED&&(f="none",u())})),{mode:"html",run:function(){return p.apply(this,arguments)},stopRun:function(){if(s!==a.Ah.RUNNING)throw new Error("stopRun must be called when running but got ".concat(s));f="none",u()},onStateChanged:function(n){return i.on(a.zW.STATE_CHANGE,n),function(){i.removeListener(a.zW.STATE_CHANGE,n)}},onLocalRun:function(n){return i.on(a.zW.LOCAL_RUN,n),function(){i.removeListener(a.zW.LOCAL_RUN,n)}},getRunState:function(){return s}}}({beforeRun:h,container:r}));if(!e)throw new Error("mode not supported: "+m);return e}},10841:function(n,e,r){var t,o,u;r.d(e,{Ah:function(){return o},kH:function(){return u},zW:function(){return t}}),function(n){n.STATE_CHANGE="STATE_CHANGE",n.OUTPUT="OUTPUT",n.LOCAL_RUN="RUN",n.BLOCK_CHANGED="BLOCK_CHANGED"}(t||(t={})),function(n){n.OFFLINE="OFFLINE",n.IDLE="IDLE",n.RUNNING="RUNNING",n.STOPPING="STOPPING"}(o||(o={})),function(n){n.EXECUTION="EXECUTION",n.PACKAGER="PACKAGER"}(u||(u={}))},25528:function(n,e,r){r.d(e,{Z:function(){return u}});var t=r(68525),o=r(97532);function u(n,e,r,u){if(!(null===n||void 0===n?void 0:n.runs))return[];var a=[];if(e=e.slice(),r){var c=e.indexOf(r);-1!==c&&(e.splice(c,1),e.splice(0,0,r))}if(u){var l=e.indexOf(u);-1!==l&&e.splice(l,1),e.splice(0,0,u)}var s=!0,f=!1,d=void 0;try{for(var h,p=e[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value;if(v.match(/(\.[a-z0-9]+)$/)){var g=!0,E=!1,m=void 0;try{for(var N,C=n.runs[Symbol.iterator]();!(g=(N=C.next()).done);g=!0){var k=N.value;if(k.fileParam||k.optionalFileParam){var R=(0,t.rF)(k.fileTypeAttrs);null===R&&k.language&&(R=t.$R.from(k.language)),R&&(0,o.JW)(v,R)&&a.push({runner:k,filePath:v})}}}catch(O){E=!0,m=O}finally{try{g||null==C.return||C.return()}finally{if(E)throw m}}}}}catch(O){f=!0,d=O}finally{try{s||null==p.return||p.return()}finally{if(f)throw d}}var w=!0,A=!1,b=void 0;try{for(var I,y=n.runs[Symbol.iterator]();!(w=(I=y.next()).done);w=!0){var D=I.value;D.fileParam||a.push({runner:D})}}catch(O){A=!0,b=O}finally{try{w||null==y.return||y.return()}finally{if(A)throw b}}return function(n){n.sort((function(n,e){var r=i(n),t=i(e);return r!==t?r-t:n.runner.interpreter===e.runner.interpreter?0:n.runner.interpreter?-1:1}))}(a),a}function i(n){var e,r,t;return(null===(e=n.runner.id)||void 0===e?void 0:e.startsWith(".replit/"))?0:(null===(r=n.runner.id)||void 0===r?void 0:r.startsWith("module:"))?1:(null===(t=n.runner.id)||void 0===t?void 0:t.startsWith("language:"))?2:3}},5218:function(n,e,r){r.d(e,{Z:function(){return a}});var t=r(57135),o=r(96583),u=r(35981),i=r(88688);function a(n){var e=n.container,r=n.dotReplit,a=(0,u.u)(null),c=(0,u.u)(null),l=(0,u.u)(null);return e.openChannel({service:"toolchain"},(function(n){var e=n.channel;l.set(e);var r=e.onCommand((function(n){n.toolchainChanged?a.current=n.toolchainChanged.configs:n.nixModulesChanged&&(c.current=n.nixModulesChanged.modules)}));return e.request({toolchainGetRequest:{}}).then((function(n){var e;a.current=(null===(e=n.toolchainGetResponse)||void 0===e?void 0:e.configs)||null})),e.request({nixModulesGetRequest:{}}).then((function(n){var e;c.current=(null===(e=n.nixModulesGetResponse)||void 0===e?void 0:e.modules)||null})),function(){r()}})),{configs:a,modules:c,getRegistry:function(){return(0,t.Z)((function(){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return[4,l.current?Promise.resolve(l.current):new Promise((function(n){var e=l.subscribe((function(r){r&&(e(),n(r))}))}))];case 1:return[4,n.sent().request({nixModulesGetRegistryRequest:{}})];case 2:return[2,n.sent().nixModulesGetRegistryResponse||null]}}))}))()},addModule:function(n){return(0,t.Z)((function(){var e,t,u;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=[],[4,r.getConfig()];case 1:if((u=o.sent()).error&&u.error!==i.Yt.NotFound)throw new Error("Failed to read .replit"+u.error);return-1!==(t=(null===(e=u.config)||void 0===e?void 0:e.modules)||[]).indexOf(n)?[3,3]:(t.push(n),[4,r.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(t)}])]);case 2:o.sent(),o.label=3;case 3:return[2]}}))}))()},removeModule:function(n){return(0,t.Z)((function(){var e,t,u,a;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return t=[],[4,r.getConfig()];case 1:if((u=o.sent()).error&&u.error!==i.Yt.NotFound)throw new Error("Failed to read .replit"+u.error);return t=(null===(e=u.config)||void 0===e?void 0:e.modules)||[],(a=t.filter((function(e){if(n===e)return!1;var r=e.match(/^(.+)\.nix$/);return(r&&r[1])!==n}))).length===t.length?[2]:[4,r.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(a)}])];case 2:return o.sent(),[2]}}))}))()},upgradeModule:function(n,e){return(0,t.Z)((function(){var t,u,a,c;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,r.getConfig()];case 1:if((u=o.sent()).error&&u.error!==i.Yt.NotFound)throw new Error("Failed to read .replit"+u.error);return a=(null===(t=u.config)||void 0===t?void 0:t.modules)||[],c=a.map((function(r){return n===r?e:r})),[4,r.updateDotReplit([{op:"add",path:"modules",value:JSON.stringify(c)}])];case 2:return o.sent(),[2]}}))}))()}}}},19065:function(n,e,r){var t=r(57389),o=r(72006),u=r(4405),i=r(77637),a=r(74985),c=r(48306),l=r.n(c),s=(r(50959),r(97754)),f=r.n(s),d=r(38749);e.Z=function(n){var e,r=n.level,c=n.fontFamily,s=void 0===c?"sans-serif":c,h=n.fontWeight,p=void 0===h?"medium":h,v=n.foreground,g=void 0===v?1:v,E=n.align,m=void 0===E?"left":E,N=n.truncate,C=void 0!==N&&N,k=n.className,R=void 0===k?"":k,w=n.children,A=(0,i.Z)(n,["level","fontFamily","fontWeight","foreground","align","truncate","className","children"]),b="h".concat(r);return(0,a.BX)(b,(0,u.Z)((0,o.Z)({},A),{className:l().dynamic([["a6394f28fee3116d",[d.Z.levels[r],d.Z.fontFamily[s],d.Z.fontWeight[p],d.Z.foreground[g],m]]])+" "+(f()("heading",(e={},(0,t.Z)(e,R,Boolean(R)),(0,t.Z)(e,"truncate",C),e))||""),children:[w,(0,a.tZ)(l(),{id:"a6394f28fee3116d",dynamic:[d.Z.levels[r],d.Z.fontFamily[s],d.Z.fontWeight[p],d.Z.foreground[g],m],children:".heading.__jsx-style-dynamic-selector{font-size:".concat(d.Z.levels[r],";font-family:").concat(d.Z.fontFamily[s],";font-weight:").concat(d.Z.fontWeight[p],";color:").concat(d.Z.foreground[g],";text-align:").concat(m,"}.truncate.__jsx-style-dynamic-selector{overflow:hidden;white-space:nowrap;-o-text-overflow:ellipsis;text-overflow:ellipsis;max-width:100%}")})]}))}},8885:function(n,e,r){r.d(e,{Z:function(){return _}});var t=r(57135),o=r(2272),u=r(55749),i=r(9970),a=r(96583),c=r(74985),l=r(48306),s=r.n(l),f=r(19065),d=r(24743),h=r(27522),p=r(35301),v=r(2041),g=r(39541),E=r(90349),m=r(13424),N=r(72006),C=r(43119),k=r(71440),R=r(24635);function w(){var n=(0,C.Z)(["\n  query BSODComponent {\n    currentUser {\n      id\n      username\n      image\n      isStaff: hasRole(role: REPLIT_STAFF)\n      isAdmin: hasRole(role: ADMIN)\n    }\n  }\n"]);return w=function(){return n},n}var A={},b=(0,k.Ps)(w());var I=r(50959),y=/at (.+) \((https:\/\/.+\.js):(\d+):(\d+)\)/,D=/at (https:\/\/.+\.js):(\d+):(\d+)/;function O(n){return T.apply(this,arguments)}function T(){return T=(0,t.Z)((function(n){var e,c,l,s,f,d,h,p,v;function g(n){return E.apply(this,arguments)}function E(){return(E=(0,t.Z)((function(n){var r,t,o;return(0,a.__generator)(this,(function(u){switch(u.label){case 0:if(r=e.get(n))return[2,r];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fetch(n).then((function(n){return n.json()}))];case 2:return t=u.sent(),o=new c.SourceMapConsumer(t),e.set(n,o),[2,o];case 3:return u.sent(),[2,null];case 4:return[2]}}))}))).apply(this,arguments)}return(0,a.__generator)(this,(function(E){switch(E.label){case 0:e=new Map,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,r.e(4552).then(r.t.bind(r,94552,19))];case 2:return c=E.sent(),[3,4];case 3:throw E.sent(),new Error("source-map not available");case 4:if(!(l=n.stack))throw new Error("expected error.stack to be defined");return s=l.split("\n").map((function(n){return n.trim()})).filter((function(n){return!!n})),f=(0,u.Z)(s),d=f[0],h=f.slice(1),[4,Promise.all(h.map(function(){var n=(0,t.Z)((function(n){var e,r,t,u,i,c,l,s,f;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(y.test(n)){if(!(u=y.exec(n)))throw new Error("expected result");i=(0,o.Z)(u.slice(2),3),e=i[0],r=i[1],t=i[2]}else{if(!D.test(n))return[2,n];if(!(c=D.exec(n)))throw new Error("expected result");l=(0,o.Z)(c.slice(1),3),e=l[0],r=l[1],t=l[2]}return[4,g("".concat(e,".map"))];case 1:return(s=a.sent())?(f=s.originalPositionFor({line:Number(r),column:Number(t)}),[2,"    at ".concat(f.source,":").concat(f.line,":").concat(f.column)]):[2,"    ".concat(n)]}}))}));return function(e){return n.apply(this,arguments)}}()))];case 5:return p=E.sent(),v=new Error,Object.assign(v,{name:n.name,stack:[d].concat((0,i.Z)(p)).join("\n"),message:n.message},n),[2,v]}}))})),T.apply(this,arguments)}var S=function(n){var e=n.bsod,r=(0,o.Z)(I.useState(null),2),u=r[0],i=r[1];I.useEffect((function(){(0,t.Z)((function(){var n;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,O(e.error)];case 1:return n=r.sent(),i(n),[3,3];case 2:return r.sent(),[2];case 3:return[2]}}))}))()}),[e.error]);var l=I.useMemo((function(){var n,r,t,o;return u?null!==(t=null===(r=u.stack)||void 0===r?void 0:r.split("\n"))&&void 0!==t?t:[]:null!==(o=null===(n=e.error.stack)||void 0===n?void 0:n.split("\n"))&&void 0!==o?o:[]}),[u,e.error.stack]);return(0,c.tZ)("div",{css:[g.l0.p(16),g.l0.width("100%"),g.l0.backgroundColor.backgroundHigher,g.l0.borderRadius(8),g.l0.overflowY("hidden"),{whiteSpace:"pre"}],children:(0,c.tZ)(p.gC,{spacing:1,children:(0,c.BX)("div",{css:[g.l0.font.code,g.l0.fontSize(12)],children:[(0,c.BX)("div",{children:["Origin: ",e.origin]}),null===l||void 0===l?void 0:l.map((function(n,e){var r=n.replace("webpack-internal:///./",""),t=r.includes("node_modules");return(0,c.tZ)("div",{css:t?g.l0.color.foregroundDimmest:null,children:r},e)}))]})})})},_=function(){var n,e,r=(0,o.Z)((0,m.qg)(),1)[0],t=function(n){var e=(0,N.Z)({},A,n);return R.a(b,e)}({skip:!r}),u=t.data,i=t.loading;(0,m.ic)();if(!r)return null;var a=(null===u||void 0===u||null===(n=u.currentUser)||void 0===n?void 0:n.isStaff)||(null===u||void 0===u||null===(e=u.currentUser)||void 0===e?void 0:e.isAdmin);return(0,c.BX)(v.u,{isOpen:!0,preventClose:!0,onRequestClose:function(){},maxWidth:872,children:[(0,c.BX)(p.gC,{spacing:2,align:"center",children:[(0,c.tZ)(f.Z,{level:2,children:" Your Repl is having a bit of trouble."}),(0,c.tZ)("div",{className:s().dynamic([["a3ce5d5b024408a4",[g.n0]]])+" spacer"}),(0,c.tZ)(d.Z,{size:"large",children:"The issue has been logged and the Replit team will look into it. Try reloading the page to get back to coding."}),(0,c.tZ)("div",{css:[g.l0.p(16),g.l0.width("100%"),g.l0.backgroundColor.backgroundHigher,g.l0.borderRadius(8)],className:s().dynamic([["a3ce5d5b024408a4",[g.n0]]]),children:(0,c.BX)(p.gC,{spacing:1,children:[!i&&(null===u||void 0===u?void 0:u.currentUser)?(0,c.BX)(p.Ug,{spacing:2,align:"center",children:[(0,c.tZ)(E.q,{src:u.currentUser.image,username:u.currentUser.username,size:48}),(0,c.tZ)(d.Z,{size:"medium",children:u.currentUser.username})]}):null,(0,c.BX)("div",{css:[g.l0.font.code],className:s().dynamic([["a3ce5d5b024408a4",[g.n0]]]),children:["Error: ",r.eventId]})]})}),a?(0,c.tZ)(S,{bsod:r}):null,(0,c.tZ)("div",{className:s().dynamic([["a3ce5d5b024408a4",[g.n0]]])+" spacer"}),(0,c.tZ)(h.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,c.tZ)(s(),{id:"a3ce5d5b024408a4",dynamic:[g.n0],children:".sentry-error-embed-wrapper{z-index:".concat(g.n0,"!important}")})]})}},13424:function(n,e,r){r.d(e,{I7:function(){return E},Id:function(){return g},ic:function(){return C},jT:function(){return v},qg:function(){return N},uV:function(){return m}});var t=r(72006),o=r(4405),u=r(91398),i=r(92683),a=r(92153),c=r(1468),l=r(82325),s=r(50959),f=(0,u.cn)(null),d=(0,u.cn)(null,(function(n,e,r){var u=r.error,i=r.tags,a=r.extras,l=r.origin,s=(0,o.Z)((0,t.Z)({},i),{origin:l});"statusCode"in u?s.statusCode=u.statusCode:"status"in u&&(s.statusCode=u.status);var d=(0,c.Qw)(u,{tags:s,extras:a});e(f,{eventId:d,error:u,sentry:{tags:s,extras:a},origin:l})})),h=(0,u.cn)(null,(function(n,e){e(f,null)})),p=(0,u.cn)(new Map);function v(){return(0,l.lV)((0,s.useCallback)((function(n,e,r){var t=r.filePath;return n(p).get(t)}),[]))}function g(){return(0,l.lV)((0,s.useCallback)((function(n,e,r){var t=r.filePath,o=r.version;e(p,(function(n){return(0,a.ZP)(n,(function(n){n.set(t,o)}))}))}),[]))}function E(){return(0,l.lV)((0,s.useCallback)((function(n,e,r){var t=r.filePath;e(p,(function(n){return(0,a.ZP)(n,(function(n){n.delete(t)}))}))}),[]))}function m(){return(0,i.b9)(d)}function N(){return[(0,i.Dv)(f),m()]}function C(){return(0,i.b9)(h)}},22126:function(n,e,r){function t(n,e){return{ok:!1,error:n,errorExtras:e}}function o(n){return{ok:!0,value:n}}r.d(e,{Ok:function(){return o},U:function(){return t}});var u={Ok:o,Err:t};e.Z=u},51446:function(n,e,r){r.d(e,{Y:function(){return u}});var t=r(57135),o=r(96583);function u(n){return i.apply(this,arguments)}function i(){return(i=(0,t.Z)((function(n){var e,r;return(0,o.__generator)(this,(function(t){return e=n.container,r=n.service,[2,new Promise((function(n){var t=e.openChannel({service:r},(function(e){var r=e.channel;return n([r,t]),t}))}))]}))}))).apply(this,arguments)}},22946:function(n,e,r){r.d(e,{Z:function(){return p}});var t,o=r(57135),u=r(2272),i=r(96583),a=r(77970),c=r(88254),l=r(45005),s=r.n(l),f=r(27327),d=r(22126),h=r(51446);function p(n){var e=n.container,r=n.dotReplit,l=function(n){var e=g.get(n);return e||(e={packagerChannel:null,didCallOpenChannel:!1,closeChannel:null},g.set(n,e),e)},p=function(n){var r=l(n);if(r.didCallOpenChannel)throw new Error("Already called open channel");r.didCallOpenChannel=!0,r.closeChannel=e.openChannel({service:"packager3",name:n||"packager"},(function(e){var o=e.channel;return o.onCommand((function(e){if(null!=e.state){var r=e.state===a.api.State.Running;v.emit(t.STATE_CHANGED,r,n)}else null!=e.output?v.emit(t.OUTPUT,e.output,n):null!=e.error&&v.emit(t.ERROR,e.error,n)})),n?o.request({packageSetPackagerRequest:{packagerId:n}}).then((function(){r.packagerChannel=o,v.emit(t.CHANNEL_OPENED,o,n)})):(r.packagerChannel=o,v.emit(t.CHANNEL_OPENED,o,n)),function(){r.packagerChannel=null}}))},v=(0,f.ZP)(),g=new Map;function E(n){return m.apply(this,arguments)}function m(){return m=(0,o.Z)((function(n){var r,t,o,a,c=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:0,[4,(0,h.Y)({container:e,service:"packager3"})];case 1:return t=u.Z.apply(void 0,[i.sent(),2]),o=t[0],a=t[1],n?[4,o.request({packageSetPackagerRequest:{packagerId:n}})]:[3,3];case 2:i.sent(),i.label=3;case 3:if("open"!==o.status){if(r>5)throw new Error("Failed to getAnonymousPackagerChannel");return[2,E(n,r+1)]}return[2,[o,a]]}}))})),m.apply(this,arguments)}function N(n){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)((function(n){var e;return(0,i.__generator)(this,(function(r){return(e=l(n)).didCallOpenChannel||p(n),e.packagerChannel&&"open"===e.packagerChannel.status?[2,e.packagerChannel]:[2,new Promise((function(e){v.once(t.CHANNEL_OPENED,(function(r,t){t===n&&e(r)}))}))]}))}))).apply(this,arguments)}return{addPackages:function(n,e){return(0,o.Z)((function(){var r,t,o;return(0,i.__generator)(this,(function(u){switch(u.label){case 0:return[4,N(e)];case 1:return r=u.sent(),t=n.map((function(n){return{name:n.name,spec:n.version}})),[4,r.request({packageAdd:{pkgs:t}})];case 2:return(o=u.sent()).channelClosed?[2,!1]:[2,Boolean(o.ok)]}}))}))()},removePackages:function(n,e){return(0,o.Z)((function(){var r,t,o;return(0,i.__generator)(this,(function(u){switch(u.label){case 0:return[4,N(e)];case 1:return r=u.sent(),t=n.map((function(n){return{name:n}})),[4,r.request({packageRemove:{pkgs:t}})];case 2:return(o=u.sent()).channelClosed?[2,!1]:[2,Boolean(o.ok)]}}))}))()},searchPackages:function(n,t){return(0,o.Z)((function(){var o,a,l,f,d,h,p,v,g,m;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,r.getConfig()];case 1:if((null===(h=null!==(d=null===(o=i.sent())||void 0===o||null===(a=o.config)||void 0===a||null===(l=a.packager)||void 0===l?void 0:l.language)&&void 0!==d?d:null===(f=e.getContext())||void 0===f?void 0:f.repl.language)||void 0===h?void 0:h.includes("python"))||"pygame"===h)try{return[2,s()("https://pipsearch.replit.app/search?name="+encodeURIComponent(n),{mode:"cors"}).then((function(n){return n.json()}))]}catch(N){return c.Tb(N),[2,[]]}return[4,E(t)];case 2:return p=u.Z.apply(void 0,[i.sent(),2]),v=p[0],g=p[1],[4,v.request({packageSearch:{query:n}})];case 3:return(m=i.sent()).channelClosed?[2,[]]:(g(),"packageSearchResp"===m.body&&m.packageSearchResp?[2,m.packageSearchResp.results||[]]:(c.Tb(new Error("Unknown packager3 command ".concat(m.body,". ")+"Expected packageSearchResp. Received error: ".concat(m.error))),[2,[]]))}}))}))()},fetchPackageInfo:function(n,e){return(0,o.Z)((function(){var r,t,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,E(e)];case 1:return r=u.Z.apply(void 0,[i.sent(),2]),t=r[0],o=r[1],[4,t.request({packageInfo:{pkg:{name:n}}})];case 2:return(a=i.sent()).channelClosed?[2,void 0]:(o(),"packageInfoResp"===a.body&&a.packageInfoResp?[2,a.packageInfoResp.pkg||void 0]:(c.Tb(new Error("Unknown packager3 command ".concat(a.body,". ")+"Expected packageInfoResp. Received error: ".concat(a.error))),[2,void 0]))}}))}))()},installPackages:function(n){return(0,o.Z)((function(){var e,r,t;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return[4,N(n)];case 1:return[4,o.sent().request({packageInstall:{useNewResponse:!0}})];case 2:return(r=o.sent()).error?[2,(0,d.U)(r.error)]:r.channelClosed?[2,(0,d.U)("ChannelClosed")]:[2,(0,d.Ok)(null!==(t=null===(e=r.packageInstallResponse)||void 0===e?void 0:e.guessedPkgs)&&void 0!==t?t:[])]}}))}))()},listSpecfile:function(n){return(0,o.Z)((function(){var e,r,t,o,a,l,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,E(n)];case 1:return e=u.Z.apply(void 0,[i.sent(),2]),r=e[0],t=e[1],[4,r.request({packageListSpecfile:{}})];case 2:if((o=i.sent()).channelClosed)return[2,{packages:null,error:"channel closed"}];switch(t(),o.body){case"error":return[2,{packages:null,error:"list specfile failed: ".concat(o.error)}];case"packageListSpecfileResp":return(l=null===(a=o.packageListSpecfileResp)||void 0===a?void 0:a.pkgs)?[2,{packages:l,error:null}]:[2,{packages:null,error:"list specfile returned an empty response"}];default:return s="Unknown packager3 listSpecFile command ".concat(o.body,". ")+"Expected error or packageListSpecfileResp",c.Tb(new Error(s)),[2,{packages:null,error:s}]}return[2]}}))}))()},getPackagerIds:function(){return Array.from(g.keys())},clearPackager:function(n){var e=g.get(n);(null===e||void 0===e?void 0:e.closeChannel)&&e.closeChannel(),g.delete(n)},onOutput:function(n){return v.on(t.OUTPUT,n),function(){v.removeListener(t.OUTPUT,n)}},onError:function(n){return v.on(t.ERROR,n),function(){v.removeListener(t.ERROR,n)}},onStateChanged:function(n){return v.on(t.STATE_CHANGED,n),function(){v.removeListener(t.STATE_CHANGED,n)}}}}!function(n){n.OUTPUT="OUTPUT",n.ERROR="ERROR",n.STATE_CHANGED="STATE_CHANGED",n.CHANNEL_OPENED="CHANNEL_OPENED"}(t||(t={}))}}]);
//# sourceMappingURL=2362-3d7c870b85aa6749.js.map