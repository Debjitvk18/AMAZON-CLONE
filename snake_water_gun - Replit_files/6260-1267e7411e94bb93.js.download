"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6260],{26948:function(e,t,n){n.d(t,{Z:function(){return l},c:function(){return r}});var r="https://twitter.com/intent/tweet";function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.url,l=e.hashtags,i=e.via,a=new URLSearchParams;t&&a.append("text",t),n&&a.append("url",n),l&&a.append("hashtags",l.join(",")),i&&a.append("via",i);var o=a.toString();return o.length>0?"".concat(r,"?").concat(o):r}},44841:function(e,t,n){function r(e,t){var n=t.existing,r=t.getKey,l=new Map,i=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;l.set(r(c),c)}}catch(S){a=!0,o=S}finally{try{i||null==u.return||u.return()}finally{if(a)throw o}}var d=new Set,p=[],h=!0,f=!1,g=void 0;try{for(var v,m=n[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var Z=r(v.value),b=l.get(Z);b&&(p.push(b),d.add(Z))}}catch(S){f=!0,g=S}finally{try{h||null==m.return||m.return()}finally{if(f)throw g}}var w=!0,y=!1,R=void 0;try{for(var x,C=e[Symbol.iterator]();!(w=(x=C.next()).done);w=!0){var G=x.value;d.has(r(G))||p.push(G)}}catch(S){y=!0,R=S}finally{try{w||null==C.return||C.return()}finally{if(y)throw R}}return p}n.d(t,{Z:function(){return r}})},56260:function(e,t,n){n.d(t,{Z:function(){return un}});var r=n(57389),l=n(74985),i=n(50959),a=n(85368),o=n(90024),s=n(39541),u=n(61284),c=n(32104),d=n(57135),p=n(72006),h=n(4405),f=n(2272),g=n(96583),v=n(45510),m=n(25198),Z=n(63128),b=n(66539),w=n(76735),y=n(72463),R=n(3652),x=n(35004),C=n(34338),G=n(15877),S=n(66091),T=n(5683),B=n(83451),V=n(45347),I=n(3341),k=n.n(I),P=n(51631),F=n(43119),_=n(71440),E=n(24635);function U(){var e=(0,F.Z)(["\n  query ReplPublishInputRepl($id: String!) {\n    repl(id: $id) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return U=function(){return e},e}var D={},W=(0,_.Ps)(U(),o.FW);var X=n(12318),L=n(89635),H=n(94716),N=n(10394);function z(e){return e.message||"Something went wrong saving updates to your Repl"}var A=n(50216);function M(){var e=(0,F.Z)(["\n  mutation SetReplViewSettingsSetSettings($input: SetReplViewSettingsInput!) {\n    setReplViewSettings(input: $input) {\n      ... on ReplViewSettings {\n        id\n        repl {\n          id\n          ...PublishReplData\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return M=function(){return e},e}var O={},K=(0,_.Ps)(M(),o.FW);function j(e){var t,n,r,l,i,a,o;return e.error?e.error.message||"Something went wrong saving your Cover page":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(n=t.setReplViewSettings)||void 0===n?void 0:n.__typename)||"UnauthorizedError"===(null===(r=e.data)||void 0===r||null===(l=r.setReplViewSettings)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(a=i.setReplViewSettings)||void 0===a?void 0:a.__typename)?e.data.setReplViewSettings.message:(null===(o=e.data)||void 0===o?void 0:o.setReplViewSettings)&&"ReplViewSettings"!==e.data.setReplViewSettings.__typename?"Something went wrong saving your Cover page":void 0}function $(){var e=(0,f.Z)(function(e){var t=(0,p.Z)({},O,e);return A.D(K,t)}(),2),t=e[0],n=e[1];function r(){return(r=(0,d.Z)((function(e){var r;return(0,g.__generator)(this,(function(l){switch(l.label){case 0:if(n.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:(r=l.sent()).data,error:j(r)}];case 3:return l.sent(),[2,{data:null,error:"Something went wrong saving your Cover page"}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:n.data,loading:n.loading,error:j(n),setReplViewSettings:function(e){return r.apply(this,arguments)}}}function Y(){var e=(0,F.Z)(["\n  mutation UseSetReplTagsSetTags($input: SetReplTagsInput!) {\n    setReplTags(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}var q={},Q=(0,_.Ps)(Y(),o.FW);function J(e){var t,n,r,l,i,a,o;return e.error?e.error.message||"Something went wrong saving your Repl Tags":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(n=t.setReplTags)||void 0===n?void 0:n.__typename)||"UnauthorizedError"===(null===(r=e.data)||void 0===r||null===(l=r.setReplTags)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(a=i.setReplTags)||void 0===a?void 0:a.__typename)?e.data.setReplTags.message:(null===(o=e.data)||void 0===o?void 0:o.setReplTags)&&"Repl"!==e.data.setReplTags.__typename?"Something went wrong posting your Repl":void 0}function ee(){var e=(0,f.Z)(function(e){var t=(0,p.Z)({},q,e);return A.D(Q,t)}(),2),t=e[0],n=e[1];function r(){return(r=(0,d.Z)((function(e){var r;return(0,g.__generator)(this,(function(l){switch(l.label){case 0:if(n.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:(r=l.sent()).data,error:J(r)}];case 3:return l.sent(),[2,{data:null,error:"Something went wrong saving your Repl Tags"}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:n.data,loading:n.loading,error:J(n),setReplTags:function(e){return r.apply(this,arguments)}}}var te,ne=n(35207),re=n(7822),le=n(625),ie=1e3;function ae(e){return"repl_file"===e||"repl_image"===e}!function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(te||(te={}));var oe=function(e){(0,T.Z)(n,e);var t=(0,V.Z)(n);function n(){return(0,S.Z)(this,n),t.apply(this,arguments)}return n}((0,B.Z)(Error)),se=function(e){(0,T.Z)(n,e);var t=(0,V.Z)(n);function n(){return(0,S.Z)(this,n),t.apply(this,arguments)}return n}((0,B.Z)(Error)),ue=function(e){(0,T.Z)(n,e);var t=(0,V.Z)(n);function n(){return(0,S.Z)(this,n),t.apply(this,arguments)}return n}((0,B.Z)(Error));function ce(e){return e?e.length>60?{message:"Title should not be more than ".concat(60," characters")}:void 0:{message:"Give your Repl a title"}}function de(e){return e?e.length>ie?{message:"Description should not be more than ".concat(ie," characters")}:void 0:{message:"What does this Repl do?"}}function pe(e){var t,n,r,l,a,o=(0,X.Y)(e.replId||null,(function(e){return e?null:{message:"Select a Repl to share"}})),s=function(e){var t=(0,p.Z)({},D,e);return E.a(W,t)}({variables:{id:o.value||""},skip:!o.value}),u="Repl"===(null===(t=s.data)||void 0===t?void 0:t.repl.__typename)?s.data.repl:null,c=Boolean(null===u||void 0===u?void 0:u.publishedAs),h=(0,X.Y)("",ce),v=(0,X.Y)("",de),m=(0,X.Y)(null,(function(){return null})),Z=(0,X.Y)(te.ReplImage,(function(){return null})),b=(0,X.Y)(null,(function(){return null})),w=(0,X.Y)("",e.fileValidator),y=(0,X.Y)([],(function(){return null})),R=(0,H.Z)(u),x=(0,X.Y)(!1,(function(e){var t=R.current;return e&&(null===t||void 0===t?void 0:t.lastPublishedAt)?{message:"This Repl has already been published. Please unpublish before publishing as a Template."}:e||(null===t||void 0===t?void 0:t.publishedAs)!==P.O2.Template?void 0:{message:"This Repl has already been published as a Template. Please unpublish before publishing as a Repl."}})),C=[o,h,v,m,Z,b,y,w,x],G=$(),S=ee(),T=function(){var e=(0,f.Z)((0,N.N)(),2),t=e[0],n=e[1];function r(){return(r=(0,d.Z)((function(e){return(0,g.__generator)(this,(function(r){switch(r.label){case 0:if(n.loading)return[2,{data:null,error:null}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t({variables:{input:e}})];case 2:return[2,{data:r.sent().data,error:null}];case 3:return[2,{data:null,error:z(r.sent())}];case 4:return[2]}}))}))).apply(this,arguments)}return{data:n.data,loading:n.loading,error:n.error&&z(n.error),updateRepl:function(e){return r.apply(this,arguments)}}}(),B=(0,ne.O)(),V=(0,re.r)(),I=(null===u||void 0===u||null===(n=u.replViewSettings)||void 0===n?void 0:n.defaultView)&&ae(u.replViewSettings.defaultView)?u.replViewSettings.defaultView:te.ReplImage,F=(0,H.Z)(h.setValue),_=(0,H.Z)(v.setValue),U=(0,H.Z)(y.setValue),A=(0,H.Z)(m.setValue),M=(0,H.Z)(b.setValue),O=(0,H.Z)(Z.setValue),K=(0,H.Z)(w.setValue),j=(0,H.Z)(x.setValue);(0,i.useEffect)((function(){var e,t,n,r;u&&(j.current("Template"===u.publishedAs),O.current(I),K.current(null!==(t=null===(e=u.replViewSettings)||void 0===e?void 0:e.replFile)&&void 0!==t?t:""),F.current(u.isRenamed?u.title:"",{preventTouch:!0}),_.current(null!==(n=u.description)&&void 0!==n?n:"",{preventTouch:!0}),U.current(u.tags),A.current(u.iconUrl.endsWith(".svg")?null:u.iconUrl),M.current(null!==(r=u.imageUrl)&&void 0!==r?r:null))}),[u,M,A,U,F,_,I,O,K,j]);var Y,q=(0,L.W)(m.setValue),Q=q.previewUrl||m.value||(null===u||void 0===u?void 0:u.iconUrl)||(null===u||void 0===u?void 0:u.templateInfo.iconUrl),J=null!==(Y=null===(r=C.filter((function(e){return(e!==w||Z.value===te.ReplFile)&&e.error})))||void 0===r||null===(l=r[0])||void 0===l||null===(a=l.error)||void 0===a?void 0:a.message)&&void 0!==Y?Y:null;function ie(){return ie=(0,d.Z)((function(){var e,t,n,r,l,i,a,o,s,c,d;return(0,g.__generator)(this,(function(p){switch(p.label){case 0:if(!u)throw new oe("Missing repl");if(t=u.title!==h.value,n=u.description!==v.value,r=u.iconUrl!==m.value,l="repl_image"===Z.value&&u.imageUrl!==b.value,i=w.value&&"repl_file"===Z.value&&(null===(e=u.replViewSettings)||void 0===e?void 0:e.replFile)!==w.value,a=Z.value&&I!==Z.value,o=!k()(u.tags,y.value),!(t||n||r))return[3,2];if(h.error||v.error||m.error)throw new oe;return[4,T.updateRepl({id:u.id,title:t?h.value:void 0,description:n?v.value:void 0,iconUrl:r?m.value:void 0})];case 1:if((s=p.sent()).error)throw new se(s.error);p.label=2;case 2:if(!(a||l||i))return[3,4];if(Z.value===te.ReplImage&&b.error||Z.value===te.ReplFile&&w.error)throw new oe;return[4,G.setReplViewSettings({replId:u.id,defaultView:"repl_image"===Z.value?P.bV.ReplImage:P.bV.ReplFile,replImage:l?b.value:void 0,replFile:i?w.value:void 0})];case 3:if((c=p.sent()).error)throw new se(c.error);p.label=4;case 4:if(!o)return[3,6];if(y.error)throw new oe;return[4,S.setReplTags({replId:u.id,tags:y.value.map((function(e){return e.id}))})];case 5:if((d=p.sent()).error)throw new se(d.error);p.label=6;case 6:return[2]}}))})),ie.apply(this,arguments)}function pe(){return(pe=(0,d.Z)((function(){var t,n;return(0,g.__generator)(this,(function(r){switch(r.label){case 0:if(!u)throw new oe("Missing repl");if(J)throw new oe(null!==J&&void 0!==J?J:"Something went wrong");return x.value?[4,V.createDeployment({input:{replId:u.id,description:v.value,iconUrl:Q||u.iconUrl}})]:[3,2];case 1:if((t=r.sent()).error)throw new ue(t.error);return(0,le.j)(le.U3.POST_MADE,{source:e.source,replType:"template_repl",title:h.value,description:v.value,tags:y.value.map((function(e){return e.id})),defaultView:Z.value}),[2];case 2:return[4,B.publish({input:{replId:u.id}})];case 3:if((n=r.sent()).error)throw new ue(n.error);return(0,le.j)(le.U3.POST_MADE,{source:e.source,replType:"regular_repl",title:h.value,description:v.value,tags:y.value.map((function(e){return e.id})),defaultView:Z.value}),[2]}}))}))).apply(this,arguments)}var he=T.loading||G.loading||S.loading,fe=T.error||G.error||S.error,ge=B.loading||V.loading,ve=B.error||V.error;return{selectedRepl:u,isReplLoading:s.loading,replLoadingError:s.error,replIdField:o,replTitleField:h,replDescriptionField:v,iconUrlField:m,coverDefaultViewField:Z,coverUrlField:b,coverFileField:w,tagsField:y,isTemplateField:x,replIconInput:q,replIconUrl:Q,inputError:J,save:function(){return ie.apply(this,arguments)},isSaving:he,savingError:fe,publish:function(){return pe.apply(this,arguments)},isPublishing:ge,publishingError:ve,isPublished:c}}var he=i.createContext(null),fe=function(e){var t=i.useContext(he);if(!t)throw new Error("usePublishField must be used within a PublishInputContext");return t["".concat(e,"Field")]},ge=function(){var e=i.useContext(he);if(!e)throw new Error("usePublishForm must be used within a PublishInputContext");return e},ve=n(9970),me=n(46762),Ze=n(43312),be=n(8622),we=n(21371);function ye(){var e=(0,F.Z)(["\n  fragment TagsComboboxTag on Tag {\n    id\n    isOfficial\n  }\n"]);return ye=function(){return e},e}function Re(){var e=(0,F.Z)(["\n  query TagsCombobox($limit: Int, $search: String) {\n    tagGroups {\n      official(limit: $limit, search: $search) {\n        id\n        ...TagsComboboxTag\n      }\n      community(limit: $limit, search: $search) {\n        id\n        ...TagsComboboxTag\n      }\n    }\n  }\n  ","\n"]);return Re=function(){return e},e}var xe={},Ce=(0,_.Ps)(ye()),Ge=(0,_.Ps)(Re(),Ce);var Se=n(29838),Te=n(84358),Be=n(44841),Ve=/^[0-9a-zA-Z]+$/,Ie=function(e){return e.id};function ke(e){var t=e.search,n=e.filter,r=function(e){var t=(0,p.Z)({},xe,e);return E.a(Ge,t)}({variables:{limit:t?10:3,search:t}}).data,l=(0,i.useState)({official:[],community:[],newTag:[]}),a=l[0],o=l[1],s=(0,i.useMemo)((function(){if(r){var e=[],l=[],i=new Set,a=!0,o=!1,s=void 0;try{for(var u,c=r.tagGroups.official[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value;i.add(d.id.toLowerCase()),n(d)&&e.push(d)}}catch(w){o=!0,s=w}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}var p=!0,h=!1,f=void 0;try{for(var g,v=r.tagGroups.community[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var m=g.value;i.add(m.id.toLowerCase()),n(m)&&l.push(m)}}catch(w){h=!0,f=w}finally{try{p||null==v.return||v.return()}finally{if(h)throw f}}var Z=l.find((function(e){return e.id===t})),b=!t||Z||i.has(t.toLowerCase())?void 0:{id:t,isOfficial:!1};return{official:e,community:l,newTag:b&&n(b)?[b]:[]}}}),[r,n,t]);return(0,i.useEffect)((function(){if(s){var e=s.official,t=s.community,n=s.newTag;o((function(r){return{official:(0,Be.Z)(e,{existing:r.official,getKey:Ie}),community:(0,Be.Z)(t,{existing:r.community,getKey:Ie}),newTag:n}}))}}),[s]),{tagGroups:a,reset:function(){o({official:[],community:[],newTag:[]})}}}var Pe=n(17807),Fe=n(97858),_e=n(46792),Ee=a.K.ul,Ue=a.K.li;function De(e){var t=e.children;return(0,l.tZ)(a.G,{css:[s.l0.px(8),s.l0.pt(8)],children:(0,l.tZ)(u.xv,{multiline:!1,css:[{textTransform:"uppercase"}],variant:"small",color:"dimmer",children:t})})}function We(e){var t=e.highlighted,n=e.tag;return(0,l.tZ)(a.G,{css:[s.l0.rowWithGap(8),s.l0.p(8),t&&{backgroundColor:Pe.gU.listItem["@media (hover: hover)"][":not([disabled])"][":not(textarea):active"].backgroundColor},{cursor:"pointer"}],children:(0,l.BX)(a.G,{css:[s.l0.flex.growAndShrink(1),s.l0.rowWithGap(4),s.l0.align.center],children:[(0,l.tZ)(u.xv,{multiline:!1,children:n.id}),n.isOfficial?(0,l.tZ)(_e.Z,{}):null]})})}var Xe=i.memo((function(e){var t=e.getItemProps,n=e.highlightedIndex,r=e.data;return(0,l.tZ)(Fe.Z,{css:[s.l0.minWidth(200)],children:r.sections.reduce((function(e,r){return e.sections.push((0,l.BX)(Ue,{children:[(0,l.tZ)(De,{children:r.title}),(0,l.tZ)(Ee,{css:[s.l0.pt(4),s.l0.pb(8)],children:r.tags.map((function(r){var i=e.itemIndex++;return(0,l.tZ)(Ue,(0,h.Z)((0,p.Z)({},t({item:r,index:i})),{children:(0,l.tZ)(We,{tag:r,highlighted:n===i})}),r.id)}))})]},r.title)),e}),{sections:[],itemIndex:0}).sections})})),Le=a.K.div,He=a.K.input,Ne=(0,Ze.iv)([s.l0.fontSize(12),s.l0.pl(24),s.l0.pr(8),s.l0.py(4)]);function ze(){return(0,l.tZ)(u.xv,{multiline:!1,css:[s.l0.px(4),s.l0.flex.row,s.l0.align.center,s.l0.position.absolute,s.l0.height("100%"),s.l0.color.foregroundDefault,{top:0,left:4,pointerEvents:"none"}],children:(0,l.tZ)(be.Z,{size:12})})}function Ae(e){var t=e.text,n=e.children;return(0,l.BX)(Z.Tg,{elevated:!0,css:[s.l0.position.relative,s.l0.minWidth(30),s.l0.borderRadius(16),{border:"1px solid transparent","&:focus-within":{borderColor:s.TV.outlineDimmer,backgroundColor:"transparent"}}],children:[(0,l.tZ)(ze,{}),(0,l.tZ)(u.xv,{css:[{visibility:"hidden"},Ne],multiline:!1,children:t}),n]})}function Me(e){var t=function(e){var t=e.onRemove,n=e.onSelect,r=e.filter,l=void 0===r?function(){return!0}:r,i=e.inputValue,a=e.setInputValue,o=(0,Te.Z)(i,100),s=(0,H.Z)(n),u=ke({search:o,filter:l}),c=u.tagGroups,d=u.reset,p=(0,we.Kb)({inputValue:i,items:(0,ve.Z)(c.official).concat((0,ve.Z)(c.community),(0,ve.Z)(c.newTag)),defaultHighlightedIndex:0,itemToString:function(e){return e?e.id:""},onSelectedItemChange:function(e){e.selectedItem&&(d(),a(""),p.reset(),p.openMenu())}});return(0,Se.Z)((function(){p.selectedItem&&s.current(p.selectedItem)}),[p.selectedItem]),{tagGroups:c,combobox:p,onChange:function(e){var t=e.currentTarget.value;t&&!Ve.test(t)||t.length>30||a(t)},onKeyDown:function(e){""===i&&"Backspace"===e.key&&(e.preventDefault(),t())}}}(e),n=t.combobox,r=t.tagGroups,o=t.onChange,u=t.onKeyDown,c=(0,i.useMemo)((function(){return function(e){var t=[];return e.official.length&&t.push({title:"Official Tags",tags:e.official}),e.community.length&&t.push({title:"Community Tags",tags:e.community}),e.newTag.length&&t.push({title:"Create new tag",tags:e.newTag}),0===t.length?null:{type:"sections",sections:t}}(r)}),[r]),d="Add tag";return(0,l.BX)(a.G,{children:[(0,l.tZ)(Le,(0,h.Z)((0,p.Z)({},n.getComboboxProps()),{css:[s.l0.flex.row],children:(0,l.tZ)(Ae,{text:n.inputValue||d,children:(0,l.tZ)(He,(0,p.Z)({css:[s.l0.coverContainer,Ne,s.l0.color.foregroundDefault,{backgroundColor:"transparent","&::placeholder":s.l0.color.foregroundDefault,"&:focus::placeholder":s.l0.color.foregroundDimmest}]},n.getInputProps({placeholder:d,onChange:o,onKeyDown:u,onFocus:function(){n.openMenu()}})))})})),(0,l.tZ)(Le,(0,h.Z)((0,p.Z)({},n.getMenuProps()),{css:[s.l0.position.relative],children:c&&n.isOpen?(0,l.tZ)(Xe,{getItemProps:n.getItemProps,highlightedIndex:n.highlightedIndex,data:c}):null}))]})}function Oe(e){var t=e.tags,n=e.max,r=void 0===n?5:n,o=e.onAdd,u=e.onRemove,c=t.map((function(e){return e.id})),d=(0,i.useState)(""),p=d[0],h=d[1];return(0,l.BX)(a.G,{css:[s.l0.flex.row,s.l0.flex.wrap,{margin:"calc(-1 * ".concat(s.TV.space4,")")}],children:[t.map((function(e,t){return(0,l.tZ)(a.G,{css:[s.l0.m(4)],children:(0,l.tZ)(me.g,{small:!0,tag:e,onClick:function(){return u(t)}})},e.id)})),t.length<r?(0,l.tZ)(a.G,{css:[s.l0.m(4)],children:(0,l.tZ)(Me,{onSelect:o,filter:function(e){return!c.includes(e.id.toLowerCase())},inputValue:p,setInputValue:h,onRemove:function(){var e=t.length-1;e>=0&&(h(t[e].id),u(e))}})}):null]})}var Ke=function(){var e=fe("tags");return(0,l.BX)(a.G,{css:[s.l0.colWithGap(8)],children:[(0,l.tZ)(a.G,{css:[s.l0.colWithGap(4)],children:(0,l.tZ)(Oe,{max:5,tags:e.value,onAdd:function(t){return e.setValue((0,ve.Z)(e.value).concat([t]))},onRemove:function(t){return e.setValue((0,ve.Z)(e.value.slice(0,t)).concat((0,ve.Z)(e.value.slice(t+1))))}})}),(0,l.BX)(a.G,{css:s.l0.rowWithGap(4),children:[(0,l.tZ)(u.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Adding tags helps others find your Repl."}),(0,l.BX)(u.xv,{color:"dimmest",variant:"small",multiline:!1,children:[e.value.length,"/",5]})]})]})},je=n(39137);function $e(){var e=(0,F.Z)(["\n  fragment PublishableReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n  }\n"]);return $e=function(){return e},e}function Ye(){var e=(0,F.Z)(["\n  query PublishableReplSelector($search: String!) {\n    currentUser {\n      id\n      publishableReplSearch(search: $search) {\n        id\n        ...PublishableReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return Ye=function(){return e},e}var qe={},Qe=(0,_.Ps)($e()),Je=(0,_.Ps)(Ye(),Qe);var et=n(22107),tt=n(75863),nt=n(12260),rt=n(12341),lt=n(34204),it=a.K.div,at=a.K.li,ot={searchValue:"",loading:!1,repls:[]};function st(e,t){switch(t.type){case"data":var n,r=(null===(n=t.data.currentUser)||void 0===n?void 0:n.publishableReplSearch)||[];return(0,h.Z)((0,p.Z)({},e),{loading:!1,repls:(0,Be.Z)(r,{existing:e.repls,getKey:function(e){return e.id}})});case"loading":return(0,h.Z)((0,p.Z)({},e),{loading:!0});case"searchValue":return(0,h.Z)((0,p.Z)({},e),{searchValue:t.searchValue})}}function ut(){var e=(0,i.useReducer)(st,ot),t=e[0],n=e[1],r=function(e){var t=(0,p.Z)({},qe,e);return E.a(Je,t)}({variables:{search:(0,Te.Z)(t.searchValue,200)},notifyOnNetworkStatusChange:!0,onCompleted:function(e){n({type:"data",data:e})}}).loading;(0,i.useEffect)((function(){r&&n({type:"loading"})}),[r]);var l=(0,i.useCallback)((function(e){return n({type:"searchValue",searchValue:e||""})}),[]);return{repls:t.repls,loading:t.loading,searchValue:t.searchValue,setSearchValue:l}}function ct(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}function dt(e){var t,n=i.useRef(null);(0,lt.rf)((function(){var t;e.selectedRepl&&(null===(t=n.current)||void 0===t||t.blur())}),[e.selectedRepl]);var r=(null===(t=e.selectedRepl)||void 0===t?void 0:t.iconUrl)&&e.inputValue&&ct(e.selectedRepl)===e.inputValue?(0,l.tZ)(a.G,{css:[s.l0.px(8),s.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:(0,l.tZ)(tt.ZP,{alt:e.selectedRepl.title,iconUrl:e.selectedRepl.iconUrl,size:16})}):null;return(0,l.BX)(a.G,{css:[{position:"relative"}],children:[(0,l.BX)(it,(0,h.Z)((0,p.Z)({},e.getComboboxProps()),{css:{position:"relative"},children:[r,(0,l.tZ)(je.II,(0,p.Z)({css:[s.l0.pr(32),r&&s.l0.pl(32)]},e.getInputProps({placeholder:"Search for a Repl",onFocus:e.onFocus,ref:n}))),(0,l.tZ)(a.G,{css:[s.l0.center,s.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:e.loading&&e.isOpen?(0,l.tZ)(c.Z,{}):(0,l.tZ)(nt.Z,{})})]})),(0,l.tZ)(it,(0,h.Z)((0,p.Z)({},e.getMenuProps()),{css:{position:"relative"},children:e.isOpen?(0,l.BX)(Fe.Z,{children:[e.loading&&0===e.repls.length?(0,l.tZ)(at,{css:[s.l0.center,s.l0.py(32)],children:(0,l.tZ)(c.Z,{})}):null,e.loading||0!==e.repls.length?null:(0,l.tZ)(at,{css:[s.l0.center,s.l0.py(32)],children:(0,l.tZ)(u.xv,{color:"dimmer",variant:"small",multiline:!1,children:"No Repls found"})}),e.repls.map((function(t,n){return(0,l.tZ)(at,(0,h.Z)((0,p.Z)({},e.getItemProps({item:t,index:n})),{children:(0,l.tZ)(rt.Z,{taller:!0,filter:"",title:ct(t),subtitle:(0,et.F)(t.timeUpdated),selected:e.selectedRepl===t,highlighted:e.highlightedIndex===n,icon:t.iconUrl?(0,l.tZ)(tt.ZP,{iconUrl:t.iconUrl,alt:t.title,size:16}):void 0})}),t.id)}))]}):null}))]})}var pt=n(56169);function ht(e){var t=e.error,n=e.dataCy;return t?(0,l.BX)(a.G,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:[(0,l.tZ)(w.Z,{css:[s.l0.color.accentNegativeStronger]}),(0,l.tZ)(u.xv,{css:[s.l0.flex.growAndShrink(1),s.l0.color.accentNegativeStronger],dataCy:n,children:t.message})]}):null}var ft=a.K.label,gt=i.forwardRef((function(e,t){return(0,l.tZ)(ft,(0,h.Z)((0,p.Z)({},e),{ref:t,css:s.l0.color.foregroundDimmer}))})),vt=function(){var e=(0,pt.H)()("repl"),t=fe("replId"),n=fe("iconUrl"),r=ut(),i=(0,we.Kb)({id:e,items:r.repls,initialHighlightedIndex:-1,onInputValueChange:function(e){var t=e.inputValue;r.setSearchValue(t)},onSelectedItemChange:function(e){(null===e||void 0===e?void 0:e.selectedItem)&&(t.setValue(e.selectedItem.id),i.closeMenu())},itemToString:ct});return(0,l.BX)(a.G,{css:[s.l0.colWithGap(4)],children:[(0,l.tZ)(gt,{css:s.l0.color.foregroundDimmer,htmlFor:e,children:"Repl"}),(0,l.tZ)(dt,{getComboboxProps:i.getComboboxProps,getInputProps:i.getInputProps,getItemProps:i.getItemProps,getMenuProps:i.getMenuProps,isOpen:i.isOpen,highlightedIndex:i.highlightedIndex,inputValue:i.inputValue,selectedRepl:i.selectedItem?(0,h.Z)((0,p.Z)({},i.selectedItem),{iconUrl:n.value||i.selectedItem.iconUrl}):void 0,repls:r.repls,loading:r.loading,onFocus:function(e){i.selectedItem&&(e.preventDefault(),e.currentTarget.select(),r.setSearchValue("")),i.openMenu()}})]})},mt=function(){var e=(0,pt.H)(),t=e("replName"),n=e("replDescription"),r=ge(),i=r.replIdField,o=r.replTitleField,c=r.replDescriptionField,d=r.isSaving;return(0,l.BX)(a.G,{css:[s.l0.colWithGap(16),s.l0.flex.growAndShrink(1)],children:[!i.value||i.touched?(0,l.tZ)(vt,{}):null,(0,l.BX)(a.G,{css:[s.l0.colWithGap(4)],children:[(0,l.tZ)(a.G,{css:[s.l0.flex.row,s.l0.align.baseline,s.l0.justify.spaceBetween],children:(0,l.tZ)(gt,{css:[s.l0.color.foregroundDimmer,{lineHeight:s.TV.lineHeightSmall}],htmlFor:t,children:"Repl name"})}),o.value]}),(0,l.BX)(a.G,{css:[s.l0.colWithGap(4)],children:[(0,l.BX)(a.G,{css:[s.l0.flex.row,s.l0.align.baseline,s.l0.justify.spaceBetween],children:[(0,l.tZ)(gt,{css:[s.l0.color.foregroundDimmer,{lineHeight:s.TV.lineHeightSmall}],htmlFor:n,children:"Repl description"}),(0,l.BX)(u.xv,{multiline:!1,css:{color:c.value.length>ie?s.TV.accentNegativeStronger:s.TV.foregroundDimmest},children:[c.value.length,"/",ie]})]}),(0,l.tZ)(je.B,{id:n,value:c.value,disabled:!i.value||d,onChange:function(e){c.setValue(e.currentTarget.value)},placeholder:"What does this Repl do?",css:[s.l0.minHeight(128),s.l0.maxHeight(256),{resize:"vertical"}],dataCy:"publish-form-repl-description-input"}),c.touched?(0,l.tZ)(ht,{error:c.error,dataCy:"publish-form-repl-description-error"}):null]})]})},Zt=n(48511),bt=function(e){var t=e.showPlayButton,n=e.children,r=e.active;return(0,l.BX)("div",{css:{position:"relative",aspectRatio:"".concat(268,"/").concat(164),overflow:"hidden"},children:[(0,l.tZ)("div",{css:{position:"absolute",top:"calc(".concat(18," / ").concat(164," * 100%)"),bottom:"calc(".concat(1," / ").concat(164," * 100%)"),left:"calc(".concat(1," / ").concat(268," * 100%)"),right:"calc(".concat(1," / ").concat(268," * 100%)"),borderBottomLeftRadius:4,borderBottomRightRadius:4,overflow:"hidden",backgroundColor:r?s.TV.accentPrimaryDimmest:void 0},children:n}),(0,l.BX)("svg",{viewBox:"0 0 268 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:{position:"relative"},children:[(0,l.tZ)("rect",{width:"268",height:"17",fill:s.TV.backgroundDefault}),(0,l.tZ)("rect",{x:"241.5",y:"4.5",width:"22",height:"10",rx:"2",fill:s.TV.accentPositiveDimmer}),(0,l.tZ)("rect",{x:"228.5",y:"4.5",width:"10",height:"10",rx:"2",fill:s.TV.backgroundHighest}),(0,l.tZ)("rect",{x:"4.5",y:"4.5",width:"32",height:"10",rx:"2",fill:s.TV.backgroundHighest}),(0,l.tZ)("rect",{x:"1",y:"18",width:"266",height:"1",fill:r?s.TV.accentPrimaryDefault:s.TV.outlineDimmer}),t?(0,l.tZ)("path",{d:"M142.225 90.5642C142.565 90.7554 142.565 91.2446 142.225 91.4358L127.745 99.5809C127.412 99.7683 127 99.5275 127 99.1451L127 82.8549C127 82.4725 127.412 82.2317 127.745 82.4191L142.225 90.5642Z",fill:s.TV.white}):null,(0,l.tZ)("rect",{x:"1",y:"1",width:"266",height:"162",rx:"4",stroke:r?s.TV.accentPrimaryDefault:s.TV.outlineDimmer,strokeWidth:"1"})]})]})},wt=n(8023),yt=function(e){var t=function(e){var t=i.useRef(null),n={onClick:function(e){var n;return e.preventDefault(),e.stopPropagation(),null===(n=t.current)||void 0===n?void 0:n.click()}};return{inputProps:{onChange:function(t){var n=t.target,r=n.validity,l=n.files;if(r.valid){var i=l?l[0]:null;i&&e(i)}},"aria-hidden":"true",ref:t,accept:wt.W9.join(","),type:"file"},buttonProps:n,inputRef:t}}(e.onFile),n=t.inputProps,r=t.buttonProps;return(0,l.BX)(l.HY,{children:[(0,l.tZ)("input",(0,h.Z)((0,p.Z)({},n),{css:{display:"none"}})),i.cloneElement(e.children,r)]})},Rt=n(48610),xt=n(62755),Ct=n(87978);function Gt(e){return e.slice().sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{file:e,pathDepth:(0,Ct.U$)(e)}})).sort((function(e,t){return e.pathDepth-t.pathDepth})).map((function(e){return e.file}))}var St=a.K.ol,Tt=a.K.li,Bt=(0,Ze.iv)([s.l0.py(4),s.l0.borderRadius(8),{border:"1px solid ".concat(s.TV.outlineDimmest),borderRadius:s.TV.borderRadius8,backgroundColor:Pe.vb.interactiveBackground,zIndex:s.n0,maxHeight:300,position:"absolute",overflowY:"auto",width:"100%",left:0,top:s.TV.space8,listStyle:"none"}]),Vt={backgroundColor:Pe.vb.interactiveBackgroundActive},It={backgroundColor:s.TV.accentPrimaryDimmer},kt=(0,Ze.iv)([s.l0.p(8),{":not([disabled])":{cursor:"pointer",":hover":(0,p.Z)({},Vt),":active":(0,p.Z)({},It)}}]);function Pt(e){var t=e.fs,n=e.initiallySelectedFile,r=e.onFileSelect,o=e.onClear,c=i.useRef(null),v=function(e){var t=e.fs,n=(0,f.Z)(i.useState({isLoading:!0,error:null,files:[]}),2),r=n[0],l=n[1];return i.useEffect((function(){function e(){return(e=(0,d.Z)((function(){var e,n,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.listFiles()];case 1:if((e=i.sent()).error)throw new Error(e.error);return r=Gt(null!==(n=e.files)&&void 0!==n?n:[]),l({isLoading:!1,error:null,files:r}),[3,3];case 2:return i.sent(),l({isLoading:!1,error:"Could not load files",files:[]}),[3,3];case 3:return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),(0,p.Z)({},r)}({fs:t}),m=v.isLoading,Z=v.files,b=v.error,w=function(e){var t=e.files,n=e.inputRef,r=e.initiallySelectedFile,l=(0,f.Z)(i.useState(!1),2),a=l[0],o=l[1],s=(0,f.Z)(i.useState(t),2),u=s[0],c=s[1],d=i.useCallback((function(e){return t.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())}))}),[t]),g=(0,we.Kb)({items:u,isOpen:a,initialInputValue:r,initialSelectedItem:u.find((function(e){return e===r})),onIsOpenChange:function(e){o(Boolean(e.isOpen))},onInputValueChange:function(e){var t;c(d(null!==(t=e.inputValue)&&void 0!==t?t:""))}}),v=i.useCallback((function(){var e;o(!1),null===(e=n.current)||void 0===e||e.blur()}),[n]);return i.useEffect((function(){var e;c(d(null!==(e=g.inputValue)&&void 0!==e?e:""))}),[t,d,g.inputValue]),i.useEffect((function(){g.selectedItem&&v()}),[g.selectedItem,v]),(0,h.Z)((0,p.Z)({},g),{closeMenu:v,items:u})}({files:Z,inputRef:c,initiallySelectedFile:n}),y=(0,H.Z)(r);return i.useEffect((function(){w.selectedItem&&y.current(w.selectedItem)}),[w.selectedItem,y]),(0,l.BX)(a.G,{children:[(0,l.tZ)(a.G,(0,h.Z)((0,p.Z)({},w.getComboboxProps({refKey:"innerRef"})),{css:[s.l0.position.relative],children:(0,l.tZ)(xt.E,(0,h.Z)((0,p.Z)({},w.getInputProps({onFocus:w.openMenu,ref:c,refKey:"inputRef",disabled:m,placeholder:"Search your files"})),{onClear:function(){var e;w.reset(),null===(e=c.current)||void 0===e||e.focus(),o()},loading:m}))})),(0,l.BX)(a.G,(0,h.Z)((0,p.Z)({},w.getMenuProps({refKey:"innerRef"})),{css:[s.l0.position.relative],children:[b?(0,l.tZ)(a.G,{css:[s.l0.p(8)],children:(0,l.tZ)(u.xv,{multiline:!1,children:"Something went wrong loading your files. Please try again."})}):null,!b&&w.isOpen?(0,l.tZ)(St,{css:[Bt],children:w.items.length>0?w.items.map((function(e,t){return(0,l.tZ)(Tt,(0,h.Z)((0,p.Z)({css:[kt,w.highlightedIndex===t&&Vt,e===w.selectedItem&&It]},w.getItemProps({item:e,index:t,onClick:function(){w.closeMenu()}})),{children:(0,l.tZ)(u.xv,{multiline:!1,children:e})}),e)})):(0,l.tZ)(Tt,{css:[s.l0.p(8)],children:(0,l.BX)(u.xv,{multiline:!1,children:['No files found for "',w.inputValue,'"']})})}):null]}))]})}var Ft=n(32905),_t=n(69849),Et=n(77478),Ut=[{value:te.ReplImage,text:"Photo"},{value:te.ReplFile,text:"File"}],Dt=function(e){var t=e.fs,n=(0,pt.H)(),r=n("coverPage"),i=ge(),o=i.selectedRepl,m=i.coverFileField,Z=i.coverUrlField,b=i.coverDefaultViewField,w=(0,f.Z)((0,Et.Z)(function(){var e=(0,d.Z)((function(e){var t;return(0,g.__generator)(this,(function(n){switch(n.label){case 0:return(null===e||void 0===e?void 0:e.length)&&(t=e[0]).type.startsWith("image/")?[4,x.uploadImage(t,Ft.N.ReplCoverImage)]:[2];case 1:return n.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()),2),y=w[0],R=w[1],x=(0,L.W)(Z.setValue);return(0,l.BX)(a.G,(0,h.Z)((0,p.Z)({css:[s.l0.colWithGap(16)]},R),{children:[(0,l.BX)(a.G,{css:s.l0.colWithGap(12),children:[(0,l.tZ)(a.G,{css:[s.l0.rowWithGap(8)],children:(0,l.tZ)(Zt.E,{tag:"fieldset",css:[s.l0.rowWithGap(24)],name:r,value:b.value,onChange:function(e){ae(e.target.value)&&b.setValue(e.target.value)},children:Ut.map((function(e){return(0,l.BX)(a.G,{css:[s.l0.rowWithGap(8)],children:[(0,l.tZ)(Zt.Y,{id:n(e.value),value:e.value}),(0,l.tZ)("label",{htmlFor:n(e.value),children:e.text})]},e.value)}))})}),b.value===te.ReplImage&&(0,l.BX)(a.G,{css:[s.l0.colWithGap(4),s.l0.align.center],children:[(0,l.tZ)(yt,{onFile:function(e){return x.uploadImage(e,Ft.N.ReplCoverImage)},children:(0,l.tZ)(v.zx,{colorway:y?"primary":void 0,text:"Upload a cover photo",iconLeft:x.isLoading?(0,l.tZ)(c.Z,{}):(0,l.tZ)(Rt.Z,{}),stretch:!0})}),(0,l.tZ)(u.xv,{variant:"small",color:"dimmer",children:"or drag and drop a photo here"})]}),b.value===te.ReplFile&&(0,l.BX)(a.G,{css:[s.l0.colWithGap(8)],children:[(0,l.tZ)(Pt,{fs:t,initiallySelectedFile:m.value,onFileSelect:m.setValue,onClear:function(){return m.setValue("")}},null===o||void 0===o?void 0:o.id),(0,l.tZ)(ht,{error:m.error})]})]}),b.value===te.ReplImage&&(0,l.BX)(bt,{active:y,showPlayButton:b.value===te.ReplImage&&!!Z.value&&!x.isLoading,children:[b.value===te.ReplImage&&Z.value?(0,l.tZ)(_t.y,{src:Z.value,alt:"cover"}):null,x.isLoading?(0,l.tZ)(a.G,{css:[{position:"absolute",inset:0},s.l0.align.center,s.l0.justify.center],children:(0,l.tZ)(c.Z,{color:s.TV.white,size:24})}):null]})]}))},Wt=(n(80336),function(){fe("iconUrl");var e=ge(),t=e.replIconInput,n=e.replIconUrl;return(0,l.BX)(a.G,{css:[s.l0.colWithGap(16),s.l0.align.center],children:[(0,l.BX)(a.G,{css:[s.l0.colWithGap(8)],children:[(0,l.BX)(a.G,{css:[s.l0.rowWithGap(8)],children:[(0,l.tZ)(yt,{onFile:function(e){return t.uploadImage(e,Ft.N.ReplIcon)},css:s.l0.backgroundColor.accentNegativeDefault,children:(0,l.tZ)(v.zx,{text:"Upload image",iconLeft:(0,l.tZ)(Rt.Z,{}),css:[s.l0.backgroundColor.backgroundHigher],type:"button",stretch:!0})}),null]}),t.error?(0,l.tZ)(a.G,{children:(0,l.tZ)(m.E,{icon:(0,l.tZ)(w.Z,{}),colorway:"negative",text:t.error,closable:!0,closeAction:t.clearError})}):null]}),(0,l.tZ)(tt.LN,{alt:"icon",size:84,iconUrl:n,isLoading:Boolean(t.previewUrl),css:[s.l0.backgroundColor.backgroundHigher]})]})}),Xt=n(43694),Lt=n(20593),Ht=n(87861),Nt=n(10702),zt=n(13424),At=n(5993);function Mt(e){var t=e.repl,n=e.currentUser,r=(0,f.Z)((0,zt.qg)(),2),l=r[0],a=r[1],o=(0,zt.ic)(),s=(0,f.Z)(i.useState((function(){return function(e){var t=e.throwBsod,n=(0,Ht.ZP)({onUnrecoverableError:function(e){t({error:e,origin:"Publish: services/onUnrecoverableError"})}}),r=(0,Lt.Z)({container:n});return{container:n,fs:r,dotReplit:(0,Nt.Z)({container:n,fs:r})}}({throwBsod:a})})),1),u=s[0],c=u.container,d=u.fs,p=u.dotReplit,h=(0,f.Z)(i.useState((function(){return c.getConnectionState()===Ht.em.CONNECTED})),2),g=h[0],v=h[1],m=(0,Xt.b)(t?{repl:t,currentUser:n}:null),Z=(0,At.S)();return i.useEffect((function(){if(t&&m&&c.getConnectionState()===Ht.em.DISCONNECTED)return c.connect({context:m,getMinimumRetryDelayMs:Z}),function(){return c.close()}}),[t,c,m]),i.useEffect((function(){var e=c.onConnectionStateChanged((function(e){v(e===Ht.em.CONNECTED)}));return e}),[c]),{isConnected:g,container:c,fs:d,dotReplit:p,bsodId:null===l||void 0===l?void 0:l.eventId,devClearBsod:function(){return o()}}}var Ot=n(8885),Kt=n(4561);var jt=n(63837),$t=a.K.button,Yt=function(){return(0,l.tZ)(a.G,{css:[s.l0.flex.row,s.l0.flex.grow(1),{borderTop:"1px solid ".concat(s.TV.outlineDimmest)}]})},qt=function(e){var t=e.isActive,n=e.isComplete,r=e.children,i=e.onClick,a=e.disabled;return(0,l.BX)($t,{type:"button",css:[s.l0.reset.button,s.l0.position.relative,Pe.gU.nofill,t&&s.l0.backgroundColor.backgroundHigher,s.l0.p(4),s.l0.borderRadius(4)],onClick:i,disabled:a,children:[(0,l.tZ)(u.xv,{variant:"small",multiline:!1,children:r}),n?(0,l.tZ)(jt.Z,{size:6,strokeWidth:6,color:s.TV.foregroundDimmer,css:[s.l0.position.absolute,{top:2,right:-2}]}):null]})},Qt=n(34938),Jt=n(86302),en=n(32973),tn=function(){var e=fe("isTemplate"),t=(0,pt.H)()("templateCheckbox");return(0,l.BX)(a.G,{css:[s.l0.colWithGap(8)],children:[(0,l.BX)(a.G,{css:[s.l0.colWithGap(8)],children:[(0,l.BX)(a.G,{css:[s.l0.rowWithGap(8)],children:[(0,l.tZ)(Qt.X,{id:t,checked:e.value,onChange:function(t){return e.setValue(t.target.checked)}}),(0,l.tZ)("label",{htmlFor:t,children:"Submit as Template for Review"})]}),(0,l.tZ)(ht,{error:e.error})]}),(0,l.tZ)(u.xv,{variant:"small",color:"dimmer",children:"This is a good option for Repls meant as starting points for future work."}),(0,l.tZ)(u.xv,{variant:"small",color:"dimmer",children:"The Replit team will review your Template before it is live on the Templates page."}),(0,l.tZ)(a.G,{css:[s.l0.align.start],children:(0,l.tZ)(Jt.Z,{href:"https://docs.replit.com/programming-ide/how-to-make-a-replit-template",target:"_blank",text:"What makes a good Template?",iconRight:(0,l.tZ)(en.Z,{}),outlined:!0,small:!0})}),(0,l.tZ)(a.G,{css:[s.l0.pt(16)],children:(0,l.BX)(u.xv,{children:["Please make sure your Repl abides by the"," ",(0,l.tZ)("a",{href:"https://welcome.moderation.repl.co/#communitystandards",target:"_blank",children:"Replit community rules and guidelines"})," ","before publishing."]})})]})},nn=n(52735),rn=a.K.form,ln=function(e){var t=e.user,n=ge(),i=n.selectedRepl,o=n.replTitleField,d=n.replDescriptionField,f=n.replIconUrl,g=n.tagsField,v=n.isTemplateField;return(0,l.BX)(Z.Tg,{background:"root",css:[(0,r.Z)({},(0,C.et)("tabletMin"),{display:"flex"}),s.l0.flex.growAndShrink(1),s.l0.p(16),s.l0.colWithGap(12),s.l0.align.center,s.l0.display.none],children:[(0,l.tZ)(u.xv,{multiline:!1,variant:"small",color:"dimmer",css:[s.l0.width("100%"),{fontWeight:s.TV.fontWeightMedium}],children:"Preview"}),(0,l.BX)(a.G,{css:[s.l0.width("100%"),s.l0.maxWidth(432),s.l0.position.relative],children:[(0,l.tZ)(a.G,{css:{position:"absolute",zIndex:2,inset:0,boxShadow:"inset 0 48px 24px -24px "+s.TV.backgroundRoot+", inset 0 -48px 24px -24px "+s.TV.backgroundRoot}}),(0,l.BX)(a.G,{css:[s.l0.height(416),s.l0.colWithGap(24),s.l0.justify.center,s.l0.overflow("hidden"),s.l0.backgroundColor.backgroundRoot],children:[(0,l.tZ)(G.O,{}),i&&f?(0,l.tZ)(G.Z,{post:{user:t,repl:(0,h.Z)((0,p.Z)({},i),{title:o.value,iconUrl:f,tags:g.value,description:d.value,isTemplate:v.value})}}):(0,l.tZ)(a.G,{css:[s.l0.flex.grow(1),s.l0.align.center,s.l0.justify.center],children:(0,l.tZ)(c.Z,{})}),(0,l.tZ)(G.O,{})]})]})]})},an=["Basics","Tags","Icon","Cover page","Publishing"];function on(e){var t=e.replId,n=e.currentUser,o=e.source,h=function(){var e=(0,d.Z)((function(e){var t;return(0,g.__generator)(this,(function(n){switch(n.label){case 0:if(!K)return[2,{message:"Could not get file"}];if(!e)return[2,{message:"File path cannot be blank"}];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,K.stat(e)];case 2:return(t=n.sent()).exists&&t.type===Kt.Tv.File?[3,4]:[2,{message:"File does not exist"}];case 3:return n.sent(),[2,{message:"Could not get file"}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),G=pe({replId:t,fileValidator:h,source:o}),S=G.selectedRepl,T=G.isReplLoading,B=G.replLoadingError,V=G.replIdField,I=G.replTitleField,k=G.replDescriptionField,P=G.iconUrlField,F=G.tagsField,_=G.coverDefaultViewField,E=G.coverUrlField,U=G.coverFileField,D=G.isTemplateField,W=G.save,X=G.isSaving,L=G.savingError,N=G.publish,z=G.isPublishing,A=G.publishingError,M=G.isPublished,O=Mt({repl:S,currentUser:n}),K=O.fs,j=O.dotReplit,$=O.bsodId,Y=(0,f.Z)(i.useState(0),2),q=Y[0],Q=Y[1],J=an[q],ee=q===an.length-1,ne=(0,f.Z)(i.useState({show:!1,isUpdate:!1}),2),re=ne[0],ie=ne[1],ae=(0,f.Z)(i.useState((function(){return Array(an.length).fill(!1)})),2),oe=ae[0],se=ae[1],ue=i.useCallback((function(e,t){var n=oe;n[e]=t,se(n)}),[oe]);i.useEffect((function(){G.replTitleField.value&&G.replDescriptionField.value?ue(0,!0):ue(0,!1),G.tagsField.value.length>0?ue(1,!0):ue(1,!1),G.iconUrlField.value?ue(2,!0):ue(2,!1),G.coverDefaultViewField.value===te.ReplImage&&G.coverUrlField.value||G.coverDefaultViewField.value===te.ReplFile&&G.coverFileField.value?ue(3,!0):ue(3,!1)}),[oe,G,ue]);var ce=function(e){var t=e.dotReplit,n=(0,f.Z)(i.useState({isLoading:!0,error:null,entryPoint:null}),2),r=n[0],l=n[1];return i.useEffect((function(){function e(){return e=(0,d.Z)((function(){var e,n,r;return(0,g.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.getConfig()];case 1:if((n=i.sent()).error)throw new Error(n.errorMessage);return l({isLoading:!1,error:null,entryPoint:null!==(r=null===n||void 0===n||null===(e=n.config)||void 0===e?void 0:e.entrypoint)&&void 0!==r?r:null}),[3,3];case 2:return i.sent(),l({isLoading:!1,error:"Could not load .replit config",entryPoint:null}),[3,3];case 3:return[2]}}))})),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),(0,p.Z)({},r)}({dotReplit:j});i.useEffect((function(){ce.isLoading||!ce.entryPoint||U.value||U.setValue(ce.entryPoint)}),[ce.isLoading,ce.entryPoint,U]);var de=(0,f.Z)(i.useState(!1),2),fe=de[0],ge=de[1];i.useEffect((function(){fe||t&&(T||M)||(ge(!0),(0,le.j)(le.U3.PUBLISH_SELECTED,{source:o}))}),[fe,o,t,T,M]);var ve=(0,H.Z)(Boolean((null===S||void 0===S?void 0:S.publishedAs)||(null===S||void 0===S?void 0:S.lastPublishedAt))),me=(0,H.Z)(J);if(i.useEffect((function(){return function(){ve.current||(0,le.j)(le.U3.PUBLISH_FLOW_EXITED,{source:o,lastSectionVisited:me.current})}}),[o,ve,me]),$)return(0,l.tZ)(Ot.Z,{});if(re.show&&S)return(0,l.tZ)(nn.q,{repl:S,isUpdate:re.isUpdate});var Ze,be={Basics:{hasError:Boolean(V.error||I.error||k.error),isValid:(0,d.Z)((function(){return(0,g.__generator)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([V.validate(),I.validate(),k.validate()])];case 1:return[2,e.sent().every((function(e){return!e}))]}}))}))},Tags:{hasError:Boolean(F.error),isValid:(0,d.Z)((function(){return(0,g.__generator)(this,(function(e){switch(e.label){case 0:return[4,F.validate()];case 1:return[2,!e.sent()]}}))}))},Icon:{hasError:Boolean(P.error),isValid:(0,d.Z)((function(){return(0,g.__generator)(this,(function(e){switch(e.label){case 0:return[4,P.validate()];case 1:return[2,!e.sent()]}}))}))},"Cover page":{hasError:Boolean(_.value===te.ReplImage?E.error:U.error),isValid:(0,d.Z)((function(){var e;return(0,g.__generator)(this,(function(t){switch(t.label){case 0:return _.value!==te.ReplImage?[3,2]:[4,E.validate()];case 1:return e=!t.sent(),[3,4];case 2:return[4,U.validate()];case 3:e=!t.sent(),t.label=4;case 4:return[2,e]}}))}))},Publishing:{hasError:Boolean(D.error),isValid:(0,d.Z)((function(){return(0,g.__generator)(this,(function(e){switch(e.label){case 0:return[4,D.validate()];case 1:return[2,!e.sent()]}}))}))}},we=be[J].hasError,ye=be[J].isValid,Re=null!==(Ze=an.find((function(e){return be[e].hasError})))&&void 0!==Ze?Ze:null,xe=null;S?B||L||A?xe="Something went wrong - please try again":we&&(xe="Please fill out the the form"):xe="Please select a Repl";var Ce=Boolean(!S||we||B||T||X||z),Ge=Boolean(D.value),Se=Ge?"Submitting...":"Publishing...",Te=Ge?"Submit Template":"Publish to Community",Be=function(){var e=(0,d.Z)((function(e){var t;return(0,g.__generator)(this,(function(n){switch(n.label){case 0:return(t=Ce)?[3,2]:[4,ye()];case 1:t=!n.sent(),n.label=2;case 2:if(t)return[2];n.label=3;case 3:return n.trys.push([3,5,,6]),Q(e),[4,W()];case 4:return n.sent(),[3,6];case 5:return n.sent(),[2];case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),Ve=q>0;return(0,l.tZ)(he.Provider,{value:G,children:(0,l.BX)(Z.Tg,{css:[s.l0.borderRadius(8),s.l0.flex.row,s.l0.overflow("hidden"),(0,r.Z)({},(0,C.et)("tabletMax"),{minWidth:850})],background:"default",dataCy:"publish-form-container",children:[(0,l.BX)(a.G,{css:[s.l0.colWithGap(12),s.l0.p(16),s.l0.minWidth(320),s.l0.flex.growAndShrink(1),(0,r.Z)({},(0,C.et)("tabletMin"),{maxWidth:320})],children:[(0,l.tZ)(u.xv,{variant:"subheadBig",multiline:!1,children:M?"Edit Publish Settings":"Publish ".concat(t?"this":"a"," Repl")}),(0,l.BX)(rn,{onSubmit:function(){var e=(0,d.Z)((function(e){var t,n,r,l,i,a,o;return(0,g.__generator)(this,(function(s){switch(s.label){case 0:if(e.preventDefault(),!ee)return[3,13];t=!0,n=!1,r=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),l=an[Symbol.iterator](),s.label=2;case 2:return(t=(i=l.next()).done)?[3,5]:(a=i.value,[4,be[a].isValid()]);case 3:if(!s.sent())return[2];s.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return o=s.sent(),n=!0,r=o,[3,8];case 7:try{t||null==l.return||l.return()}finally{if(n)throw r}return[7];case 8:return M?[3,10]:[4,N()];case 9:return s.sent(),ie({show:!0,isUpdate:!1}),[3,12];case 10:return[4,W()];case 11:s.sent(),ie({show:!0,isUpdate:!0}),s.label=12;case 12:return[3,14];case 13:Be(q+1),s.label=14;case 14:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),css:[s.l0.colWithGap(16),s.l0.flex.growAndShrink(1)],children:[(0,l.tZ)(a.G,{css:[s.l0.rowWithGap(4),s.l0.align.center],children:an.map((function(e,t){return(0,l.BX)(i.Fragment,{children:[0!==t&&(0,l.tZ)(Yt,{}),(0,l.tZ)(qt,{isActive:q===t,isComplete:oe[t],onClick:function(){return Be(t)},disabled:Ce,children:e})]},e)}))}),(0,l.BX)(a.G,{css:s.l0.flex.growAndShrink(1),children:["Basics"===J&&(0,l.tZ)(mt,{}),"Tags"===J&&(0,l.tZ)(Ke,{}),"Icon"===J&&(0,l.tZ)(Wt,{}),"Cover page"===J&&(0,l.tZ)(Dt,{fs:K}),"Publishing"===J&&(0,l.tZ)(tn,{})]}),(0,l.BX)(a.G,{children:[ee&&Re&&Re!==J?(0,l.tZ)(m.E,{colorway:"negative",icon:(0,l.tZ)(w.Z,{}),text:"Please fix error in ".concat(Re," section")}):null,L?(0,l.tZ)(m.E,{colorway:"negative",icon:(0,l.tZ)(w.Z,{}),text:L}):null,A?(0,l.tZ)(m.E,{colorway:"negative",icon:(0,l.tZ)(w.Z,{}),text:A}):null]}),(0,l.BX)(a.G,{css:[s.l0.rowWithGap(8),s.l0.align.center,Ve?s.l0.justify.spaceBetween:s.l0.justify.end],children:[Ve?(0,l.tZ)(v.zx,{type:"button",iconLeft:(0,l.tZ)(R.Z,{}),disabled:Ce,onClick:function(){return Be(q-1)},text:"Back"}):null,X?(0,l.tZ)(a.G,{css:[s.l0.rowWithGap(4),s.l0.color.foregroundDimmer],children:(0,l.tZ)(c.Z,{})}):null,(0,l.BX)(b.u,{tooltip:xe,placement:"bottom",isDisabled:!xe,children:[!ee&&(0,l.tZ)(v.zx,{type:"submit",colorway:"primary",iconLeft:(0,l.tZ)(x.Z,{}),disabled:Ce,text:"Next",dataCy:"publish-form-next-button"}),ee&&!M?(0,l.tZ)(v.zx,{type:"submit",colorway:"primary",css:[{boxShadow:"0px 0px 16px 0px ".concat(s.TV.accentPrimaryDimmer," !important")}],iconLeft:(0,l.tZ)(y.Z,{}),disabled:Boolean(Ce||Re),text:z?Se:Te,dataCy:"publish-form-publish-button"}):null,ee&&M?(0,l.tZ)(v.zx,{type:"submit",colorway:"primary",iconLeft:(0,l.tZ)(y.Z,{}),disabled:Boolean(Ce||Re),text:X?"Saving...":"Save"}):null]})]})]})]}),(0,l.tZ)(ln,{user:n})]})})}var sn=n(4421);function un(e){var t,n,i=e.replId,d=e.source,p=(0,o.NH)(),h="CurrentUser"===(null===(t=p.data)||void 0===t||null===(n=t.currentUser)||void 0===n?void 0:n.__typename)?p.data.currentUser:null;return p.loading?(0,l.tZ)(a.G,{css:[s.l0.center,s.l0.p(32),s.l0.width(512),(0,r.Z)({},"@media (max-width: ".concat(sn.j.tabletMin,"px)"),[{width:"100%"}])],children:(0,l.tZ)(c.Z,{})}):p.error||!h?(0,l.tZ)(a.G,{css:[s.l0.center,s.l0.p(32)],children:(0,l.tZ)(u.xv,{multiline:!1,children:"Something went wrong, please try again."})}):(0,l.tZ)(on,{source:d,replId:i,currentUser:h})}},15877:function(e,t,n){n.d(t,{O:function(){return C},Z:function(){return R}});var r=n(72006),l=n(4405),i=n(9970),a=n(74985),o=(n(50959),n(82893)),s=n.n(o),u=n(43312),c=n(61284),d=n(63128),p=n(85368),h=n(39541),f=n(41748),g=n(62376),v=n(75863),m=n(51523),Z=n(98269),b=n(90349),w=p.K.a,y=(0,u.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function R(e){var t=e.post,n=t.repl,i=t.user,o=n.isTemplate?"Template":"Repl";return(0,a.BX)(p.G,{css:h.l0.colWithGap(8),children:[(0,a.BX)(p.G,{css:[h.l0.flex.row,h.l0.align.center,h.l0.justify.spaceBetween],children:[(0,a.tZ)(p.G,{css:[h.l0.flex.row,h.l0.align.center],children:(0,a.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,a.tZ)(b.q,{size:24,username:i.username,src:i.image}),(0,a.BX)(p.G,{css:h.l0.rowWithGap(4),children:[(0,a.tZ)(c.xv,{multiline:!1,children:i.username}),(0,a.BX)(c.xv,{color:"dimmest",multiline:!1,children:[" ","published a ",o]})]})]})}),(0,a.tZ)(Z.Z,{size:12})]}),(0,a.BX)(d.Tg,{css:[h.l0.borderRadius(8),h.l0.colWithGap(8),h.l0.p(8),h.l0.position.relative,{border:"1px solid "+h.TV.outlineDimmest}],children:[(0,a.tZ)(p.G,{css:[h.l0.colWithGap(16)],children:(0,a.tZ)(p.G,{css:[h.l0.rowWithGap(16),h.l0.justify.spaceBetween],children:(0,a.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.align.start,h.l0.flex.growAndShrink(1)],children:[(0,a.tZ)(v.ZP,{iconUrl:n.iconUrl,alt:n.title,size:84,css:[h.l0.backgroundColor.backgroundHigher]}),(0,a.BX)(p.G,{css:[h.l0.flex.growAndShrink(1),h.l0.colWithGap(4)],children:[(0,a.BX)(p.G,{css:[h.l0.flex.row],children:[(0,a.tZ)(s(),(0,l.Z)((0,r.Z)({passHref:!0},(0,m.j3)(n)),{children:(0,a.tZ)(w,{css:[{color:"inherit"},y,h.l0.flex.growAndShrink(1),h.l0.minWidth(0)],onClick:function(e){return e.preventDefault()},children:(0,a.tZ)(c.xv,{variant:"subheadBig",multiline:!1,children:n.title})})})),n.isTemplate?(0,a.tZ)(x,{}):null]}),n.description?(0,a.tZ)(c.xv,{color:"dimmer",maxLines:2,multiline:!1,children:n.description}):null]})]})})}),(0,a.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.justify.spaceBetween,h.l0.minHeight(24)],children:[(0,a.tZ)(f.Z,{repl:{id:n.id,runCount:0,likeCount:0,commentCount:0}}),(0,a.tZ)(p.G,{css:[h.l0.position.relative,{zIndex:1},h.l0.flex.shrink(1)],children:(0,a.tZ)(g.Vs,{tags:n.tags,onTagClick:function(e){return e.preventDefault()}})})]})]})]})}var x=function(){return(0,a.tZ)("span",{css:[h.l0.display.inlineFlex,h.l0.align.center,h.l0.height(24),h.l0.px(8),h.l0.borderRadius(16),h.l0.backgroundColor.yellowDimmest,h.l0.color.yellowStrongest,h.l0.justify.center,h.l0.ml(8),{fontSize:h.TV.fontSizeSmall,lineHeight:h.TV.fontSizeSmall}],children:"Template"})},C=function(){return(0,a.BX)(p.G,{css:[h.l0.colWithGap(8),{opacity:.5}],children:[(0,a.BX)(p.G,{css:[h.l0.flex.row,h.l0.align.center,h.l0.flex.grow(1),h.l0.justify.spaceBetween],children:[(0,a.BX)(p.G,{css:[h.l0.rowWithGap(8),h.l0.align.center],children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(24),h.l0.height(24),h.l0.borderRadius(16)]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(126),h.l0.height(12),h.l0.borderRadius(4)]})]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(12),h.l0.height(12),h.l0.borderRadius(8)]})]}),(0,a.BX)(p.G,{css:[h.l0.backgroundColor.backgroundDefault,h.l0.width("100%"),h.l0.height(132),h.l0.borderRadius(8),h.l0.colWithGap(8),h.l0.p(8)],children:[(0,a.BX)(p.G,{css:h.l0.rowWithGap(8),children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.height(84),h.l0.width(84),h.l0.borderRadius(4)]}),(0,a.BX)(p.G,{css:[h.l0.colWithGap(12),h.l0.pt(4),h.l0.flex.grow(1)],children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(80),h.l0.height(16),h.l0.borderRadius(4)]}),(0,a.BX)(p.G,{css:h.l0.colWithGap(8),children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width("100%"),h.l0.height(12),h.l0.borderRadius(4)]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width("80%"),h.l0.height(12),h.l0.borderRadius(4)]})]})]})]}),(0,a.BX)(p.G,{css:[h.l0.flex.row,h.l0.flex.grow(1),h.l0.align.center,h.l0.justify.spaceBetween],children:[(0,a.tZ)(p.G,{css:h.l0.rowWithGap(16),children:(0,i.Z)(Array(3)).map((function(e,t){return(0,a.BX)(p.G,{css:[h.l0.rowWithGap(4),h.l0.align.center],children:[(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(12),h.l0.height(12),h.l0.borderRadius(8)]}),(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(16),h.l0.height(8),h.l0.borderRadius(2)]})]},t)}))}),(0,a.tZ)(p.G,{css:h.l0.rowWithGap(4),children:(0,i.Z)(Array(2)).map((function(e,t){return(0,a.tZ)("span",{css:[h.l0.backgroundColor.backgroundHigher,h.l0.width(48),h.l0.height(24),h.l0.borderRadius(16)]},t)}))})]})]})]})}},52735:function(e,t,n){n.d(t,{q:function(){return T}});var r=n(57389),l=n(72006),i=n(4405),a=n(2272),o=n(74985),s=n(50959),u=n(63128),c=n(85368),d=n(61284),p=n(66539),h=n(39541),f=n(87076),g=n(86302),v=n(51631),m=n(82893),Z=n.n(m),b=n(51523),w=n(60566),y=n(77806),R=n(91450),x=n(35004),C=n(26948),G=n(4421),S=function(e){var t=e.url,n=e.successMessageDurationMs,r=void 0===n?1500:n,l=(0,a.Z)(s.useState(!1),2),i=l[0],u=l[1],c=s.useRef(null);return s.useEffect((function(){return function(){c.current&&clearTimeout(c.current)}}),[]),(0,o.tZ)(p.u,{isOpen:i,placement:"bottom",tooltip:i?"Copied!":"Copy link",delay:"none",children:(0,o.tZ)(f.h,{alt:"Copy link",tooltipHidden:!1,onClick:function(){t&&((0,w.Z)(t),u(!0),c.current=setTimeout((function(){u(!1)}),r))},children:(0,o.tZ)(y.Z,{})})})},T=function(e){var t=e.repl,n=e.isUpdate,a=(0,b.j3)(t),s=t.url?(0,b.QB)(t):"",p=t.publishedAs===v.O2.Template,f=(0,C.Z)({text:"Check out what I just published on Replit: ".concat(t.title),url:s});return(0,o.BX)(u.Tg,{background:"default",css:[h.l0.borderRadius(8),h.l0.overflow("hidden"),h.l0.colWithGap(16),h.l0.width(510),h.l0.p(16),h.l0.flex.growAndShrink(1),(0,r.Z)({},"@media (max-width: ".concat(G.j.tabletMin,"px)"),[{width:"100%"}])],dataCy:"published-repl-share-info-container",children:[(0,o.BX)(c.G,{css:[h.l0.colWithGap(16)],children:[(0,o.BX)(d.xv,{variant:"subheadBig",multiline:!1,children:[p?"Template":"Repl"," ",n?"updated":"published","!"]})," ",(0,o.BX)(c.G,{css:[h.l0.colWithGap(4)],children:[(0,o.tZ)(d.xv,{variant:"small",css:[h.l0.color.foregroundDimmer],multiline:!1,children:"Cover page link"}),(0,o.BX)(c.G,{css:[h.l0.rowWithGap(4),h.l0.align.center],children:[(0,o.tZ)(Z(),(0,i.Z)((0,l.Z)({},a),{css:[h.l0.flex.growAndShrink(1)],children:(0,o.tZ)("a",{css:[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],children:s})})),(0,o.tZ)(S,{url:s})]})]})]}),(0,o.BX)(c.G,{css:[h.l0.rowWithGap(12),h.l0.justify.end,(0,r.Z)({alignItems:"flex-end"},h.BC.max("mobileMax"),[h.l0.colWithGap(8),{width:"100%",">*":{width:"100%"}}])],children:[(0,o.tZ)(g.Z,{prefetch:!1,href:f,iconLeft:(0,o.tZ)(R.Z,{}),text:"Share to Twitter",target:"_blank",css:[(0,r.Z)({},h.BC.max("mobileMax"),[h.l0.mr(0)])]}),(0,o.tZ)(g.Z,{iconRight:(0,o.tZ)(x.Z,{}),text:p?"Go to Templates":"Go to Community",href:p?{pathname:"/templates/templates"}:{pathname:"/postsFeed",query:{order:"new"}},as:p?"/templates":"/community/all"})]})]})}},7822:function(e,t,n){n.d(t,{r:function(){return Z}});var r=n(57135),l=n(2272),i=n(96583),a=n(72006),o=n(43119),s=n(71440),u=n(90024),c=n(50216);function d(){var e=(0,o.Z)(["\n  mutation CreateTemplateReleaseCreateDeployment(\n    $input: CreateReplDeployemntInput!\n  ) {\n    createReplDeployment(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=(0,o.Z)(["\n  mutation CreateTemplateReleaseCreateRelease($input: CreateReplReleaseInput!) {\n    createReplRelease(input: $input) {\n      ... on Repl {\n        id\n        ...PublishReplData\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var h={},f=(0,s.Ps)(d(),u.FW);var g=(0,s.Ps)(p(),u.FW);var v="Something went wrong publishing your Template";function m(e){if(e.error)return e.error.message||v;if(e.data){if("createReplDeployment"in e.data){if("NotFoundError"===e.data.createReplDeployment.__typename||"UnauthorizedError"===e.data.createReplDeployment.__typename||"UserError"===e.data.createReplDeployment.__typename)return e.data.createReplDeployment.message;if("Repl"!==e.data.createReplDeployment.__typename)return v}if("createReplRelease"in e.data){if("NotFoundError"===e.data.createReplRelease.__typename||"UnauthorizedError"===e.data.createReplRelease.__typename||"UserError"===e.data.createReplRelease.__typename)return e.data.createReplRelease.message;if("Repl"!==e.data.createReplRelease.__typename)return v}}}function Z(){var e=(0,l.Z)(function(e){var t=(0,a.Z)({},h,e);return c.D(f,t)}(),2),t=e[0],n=e[1],o=(0,l.Z)(function(e){var t=(0,a.Z)({},h,e);return c.D(g,t)}(),2),s=o[0],u=o[1],d=function(){var e=(0,r.Z)((function(e){var t,r;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:if(t=e.input,n.loading||u.loading)return[2,{data:null,error:null}];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,s({refetchQueries:["ReplEnvironmentHeader"],variables:{input:t}})];case 2:return[2,{data:(r=l.sent()).data,error:m(r)}];case 3:return l.sent(),[2,{data:null,error:v}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)((function(e){var r,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(r=e.input,n.loading||u.loading)return[2,{data:null,error:null}];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t({variables:{input:r}})];case 2:return[2,{data:(l=i.sent()).data,error:m(l)}];case 3:return i.sent(),[2,{data:null,error:v}];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return{createRelease:d,createDeployment:p,data:n.data||u.data,loading:n.loading||u.loading,error:m(n||u)}}},10394:function(e,t,n){n.d(t,{N:function(){return d}});var r=n(72006),l=n(43119),i=n(71440),a=n(90024),o=n(50216);function s(){var e=(0,l.Z)(["\n  mutation UpdateReplUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...PublishReplData\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var u={},c=(0,i.Ps)(s(),a.FW);function d(e){var t=(0,r.Z)({},u,e);return o.D(c,t)}},62755:function(e,t,n){n.d(t,{E:function(){return p}});var r=n(74985),l=(n(50959),n(85368)),i=n(39541),a=n(12260),o=n(80336),s=n(87076),u=n(32104),c=n(39137),d=(0,n(43312).iv)([i.l0.position.absolute,i.l0.center,{top:0,right:0,height:"100%"}]);function p(e){return(0,r.BX)(l.G,{css:[i.l0.position.relative,i.l0.flex.shrink(1)],children:[(0,r.tZ)(c.II,{id:e.id,className:e.className,css:[i.l0.pr(32)],value:e.value,onChange:e.onChange,placeholder:e.placeholder||"Search",name:e.name,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,disabled:e.disabled,ref:e.inputRef}),e.loading?(0,r.tZ)(l.G,{css:[d,i.l0.p(8),{pointerEvents:"none"}],children:(0,r.tZ)(u.Z,{})}):null,e.loading||e.value?null:(0,r.tZ)(l.G,{css:[d,i.l0.p(8),{pointerEvents:"none"}],children:(0,r.tZ)(a.Z,{})}),!e.loading&&e.value?(0,r.tZ)(l.G,{css:[i.l0.p(4),d],children:(0,r.tZ)(s.h,{alt:"Clear",tooltipHidden:!0,disabled:e.disabled,css:{"&:hover":{backgroundColor:"var(--background-highest) !important"}},onClick:e.onClear,children:(0,r.tZ)(o.Z,{})})}):null]})}}}]);
//# sourceMappingURL=6260-1267e7411e94bb93.js.map