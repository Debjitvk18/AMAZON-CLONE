"use strict";(()=>{var _=Object.defineProperty;var o=(t,e)=>_(t,"name",{value:e,configurable:!0});var l="/devtools/devtools.js";var S="/devtools/devtools-react.js";function g(t){return`/__replco/static/${t.replace(/^\/+/,"")}`}o(g,"getStaticPath");function v(t,e){function n(){t.contentWindow.removeEventListener("unload",e),t.contentWindow.addEventListener("unload",e)}o(n,"attachUnload"),t.addEventListener("load",n),n()}o(v,"onFrameLoad");var p=!1;async function f(t="/"){var E;p=!0;let e=document.getElementById("iframe"),n=await fetch(t,{method:"GET",credentials:"same-origin"});if(!n.ok)throw parent==null||parent.postMessage({type:"error",payload:`fetch-error: ${n.status} ${n.statusText}`},"https://replit.com"),new Error(n.statusText);let s=await n.text(),r=new DOMParser().parseFromString(s,"text/html"),c=document.createElement("script"),L=t.startsWith("/")?t:new URL(t).pathname;if(c.innerHTML=`history.pushState(null, null, ${JSON.stringify(L)});`,navigator.userAgent.includes("Firefox")&&!r.head.querySelector("base")){let d=r.createElement("base");d.href=t,r.head.prepend(d)}let T=m(l),h=[c,T];(s.includes("import RefreshRuntime from")||s.includes('<div id="__next"')||s.includes('<meta name="replit:template" content="react" />'))&&h.unshift(m(S)),r.head.prepend(...h);let i=e.contentDocument;i.open(),((E=r.doctype)==null?void 0:E.name)==="html"&&i.write("<!DOCTYPE html>"),i.write(r.documentElement.outerHTML),i.close(),p=!1,v(e,d=>{p||(p=!0,d.preventDefault(),setTimeout(function(){try{let u=e.contentWindow.location;f(u.href)}catch(u){console.error(u)}},0))})}o(f,"load");function m(t){let e=document.createElement("script");return e.async=!1,e.src=g(t),e}o(m,"insertScript");var a=document.getElementById("iframe");(async()=>{try{await f()}catch(t){O(),parent==null||parent.postMessage({type:"error",payload:t})}})();function O(){var n,s;let t="__replit_devtools__";function e(){let r=a.contentWindow.document;if(r.getElementById(t))return;let c=m(l);c.id=t,r.head.appendChild(c)}o(e,"onload"),(n=a.contentDocument)!=null&&n.head&&e(),a.addEventListener("load",e),a.src||(a.src="/"),(s=a.contentDocument)!=null&&s.head&&e()}o(O,"fallbackLoad");window.addEventListener("message",t=>{t.origin===location.origin?(parent==null||parent.postMessage(t.data,"http://localhost:3000"),parent==null||parent.postMessage(t.data,"https://replit.com")):a.contentWindow.postMessage(t.data,location.origin)});})();
