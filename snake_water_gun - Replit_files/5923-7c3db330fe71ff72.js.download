"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5923],{23142:function(e,n,r){r.d(n,{o:function(){return Z}});var t=r(72006),o=r(4405),i=r(74985),u=r(91858),a=r(82568),l=r(2041),s=r(39541),c=r(61284),d=r(85368),f=r(54894),v=r(41666),m=r(50959),h=r(625),p=r(59545),g=(0,a.X)({authModal:[s.l0.maxWidth("100%"),s.l0.px(16),s.l0.py(32),s.l0.colWithGap(2),s.l0.align.center,s.l0.justify.center],modalDescription:[s.l0.color.foregroundDimmer,s.l0.fontSize(s.TV.fontSizeSubheadDefault),s.l0.py(16),s.l0.width("60%"),s.l0.textAlign.center]}),Z=function(e){var n=e.signupTitle,r=e.loginTitle,a=e.description,l=e.trackSource,m=e.onSuccess,h=e.onFailure,Z=e.textOnSuccess,w=void 0===Z?"Success!":Z,b=e.showAnimationOnSuccess,C=void 0!==b&&b,U=(0,p.F)(),y=U.isLogin,S=U.isTeacher,k=U.isRedirectingAfterSuccessfulAuth,E=(0,p.E)();return(0,i.BX)(d.G,{css:g.authModal,"data-cy":"auth-modal",children:[(0,i.BX)(c.xv,{variant:"headerDefault",multiline:!1,children:[y?r:n,S?" (teacher)":""]}),k?null:(0,i.tZ)(c.xv,{css:g.modalDescription,children:a}),(0,i.tZ)(f.Z,{loop:!1,path:"/public/animations/success.json",css:[s.l0.position.absolute,s.l0.left(0),s.l0.top(0),s.l0.right(0)],show:k&&C}),k?(0,i.tZ)(d.G,{children:w}):(0,i.tZ)(u.Z,{onSubmit:function(e){if("error"in e)h(e);else if("user"in e&&e.user){y&&!e.social||e.social&&!e.newUser||(0,v.jw)(e.user.id.toString()),C?setTimeout((function(){return m((0,o.Z)((0,t.Z)({},e),{isLogin:y}))}),750):m((0,o.Z)((0,t.Z)({},e),{isLogin:y})),E({isRedirectingAfterSuccessfulAuth:!0})}},trackSource:l})]})};n.Z=function(e){var n=e.isOpen,r=e.onClose,t=e.signupTitle,o=e.loginTitle,u=e.description,a=e.trackSource,s=e.onSuccess,c=e.onFailure,d=e.textOnSuccess,f=void 0===d?"Success!":d,v=e.showAnimationOnSuccess,g=void 0!==v&&v,w=(0,p.E)();return(0,m.useEffect)((function(){w({isModal:n,customHeader:n,seededState:!1}),n&&(0,h.j)(h.U3.SIGNUP_REQUESTED,{trackSource:a,authFormPlacement:"modal"})}),[n]),(0,i.tZ)(l.u,{isOpen:n,onRequestClose:r,children:(0,i.tZ)(Z,{signupTitle:t,loginTitle:o,description:u,trackSource:a,onSuccess:s,onFailure:c,textOnSuccess:f,showAnimationOnSuccess:g})})}},25498:function(e,n,r){r.d(n,{Z:function(){return s}});var t=r(74985),o=r(48306),i=r.n(o),u=(r(50959),r(97754)),a=r.n(u),l=r(5889);function s(e){var n=e.className,r=e.src,o=e.alt,u=e.size,s=e.title;return(0,t.BX)("div",{className:i().dynamic([["381115a7727c7cb3",[u,u]]])+" "+(a()("avatar",n)||""),children:[(0,t.tZ)(l.Z,{title:s,width:u,height:u,objectFit:"cover",layout:"responsive",alt:o,src:r}),(0,t.tZ)(i(),{id:"381115a7727c7cb3",dynamic:[u,u],children:"div.__jsx-style-dynamic-selector{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;overflow:hidden;width:".concat(u,"px;height:").concat(u,"px}")})]})}},254:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(57135),o=r(2272),i=r(96583),u=r(50959),a=r(8023);function l(e){var n=e.onUploadPreview,r=e.onUpload,l=e.onError,s=(0,o.Z)(u.useState(!1),2),c=s[0],d=s[1],f=u.useCallback(function(){var e=(0,t.Z)((function(e,t){var o,u,s,c,f,v,m;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:d(!0),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,(0,a.o1)(e)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),l(new Error("This image is over the ".concat(a.bq/1e6,"MB maximum"))),[2,!1];case 4:n({dataUrl:o}),u=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,(0,a.mh)(o,t)];case 6:return u=i.sent(),[3,8];case 7:return s=i.sent(),c=s.message.toLowerCase().includes("entity too large")?"This image is over the 1mb maximum":"Something went wrong",l(new Error(c)),[2,!1];case 8:if(f=u.id,v=u.url,"number"!==typeof f)throw new Error("Expected id");if("string"!==typeof v)throw new Error("Expected url");d(!1),i.label=9;case 9:return i.trys.push([9,11,,12]),[4,r({id:f,url:v})];case 10:return i.sent(),[3,12];case 11:return m=i.sent(),l(m),[2,!1];case 12:return[2,!0]}}))}));return function(n,r){return e.apply(this,arguments)}}(),[l,r,n]);return{isLoading:c,uploadImage:f}}},48468:function(e,n,r){r.d(n,{Z:function(){return d}});var t=r(2272),o=r(50959),i=r(30826),u=r.n(i),a=r(86763),l=r.n(a),s=r(63064),c=r(18171);function d(e,n){var r=(0,s.Z)(),i=o.useRef(e);i.current=e;var a=n||{},d=a.type,f=a.wait,v=(0,c.Z)((function(){return d?("debounce"===d?l():u())((function(e){r.current&&i.current(e)}),f):function(e){r.current&&i.current(e)}}),[d,f,r]),m=o.useRef(v);m.current=v;var h=(0,t.Z)(o.useState(null),2),p=h[0],g=h[1],Z=o.useRef(null),w=o.useRef({width:void 0,height:void 0});return o.useEffect((function(){if("undefined"!==typeof window.ResizeObserver){var e=new window.ResizeObserver((function(e){var n=e[0];if(n){var t=Math.round(n.contentRect.width),o=Math.round(n.contentRect.height),i=w.current.width!==t,u=w.current.height!==o;(i||u)&&window.requestAnimationFrame((function(){r.current&&(w.current.width=t,w.current.height=o,m.current({width:t,height:o,widthChanged:i,heightChanged:u}))}))}}));return Z.current=e,function(){e.disconnect(),Z.current=null}}}),[]),o.useEffect((function(){if(Z.current&&p)return Z.current.observe(p),function(){Z.current&&Z.current.unobserve(p),"cancel"in m.current&&m.current.cancel()}}),[p]),g}},18171:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(50959);function o(e,n){var r,o,i=(0,t.useRef)();return i.current&&(null===n||void 0===n?void 0:n.length)===(null===(r=i.current)||void 0===r||null===(o=r.deps)||void 0===o?void 0:o.length)&&!(null===n||void 0===n?void 0:n.some((function(e,n){var r,t;return e!==(null===i||void 0===i||null===(r=i.current)||void 0===r||null===(t=r.deps)||void 0===t?void 0:t[n])})))||(i.current={deps:n,value:e()}),i.current.value}},39082:function(e,n,r){r.d(n,{Z:function(){return Y},m:function(){return X}});var t=r(57135),o=r(57389),i=r(2272),u=r(96583),a=r(74985),l=r(50959),s=r(72006),c=r(43119),d=r(71440),f=r(24635),v=r(50216);function m(){var e=(0,c.Z)(["\n  fragment CoverImageUser on User {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n    hasPrivacyRole\n  }\n"]);return m=function(){return e},e}function h(){var e=(0,c.Z)(["\n  fragment CoverImageCurrentUser on CurrentUser {\n    id\n    coverImage {\n      url\n      offsetY\n    }\n  }\n"]);return h=function(){return e},e}function p(){var e=(0,c.Z)(["\n  query CoverImage($username: String!) {\n    user: userByUsername(username: $username) {\n      id\n      ...CoverImageUser\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function g(){var e=(0,c.Z)(["\n  mutation CoverImageUpdate($input: SetUserCoverImageInput!) {\n    setUserCoverImage(input: $input) {\n      ... on CurrentUser {\n        id\n        ...CoverImageCurrentUser\n      }\n    }\n  }\n  ","\n"]);return g=function(){return e},e}var Z={},w=(0,d.Ps)(m()),b=(0,d.Ps)(h()),C=(0,d.Ps)(p(),w);var U=(0,d.Ps)(g(),b);var y=r(85368),S=r(61284),k=r(5889),E=r(88467),_=r(54873),R=r(6286),I=r(24976),x=r(39541),L=r(45510),P=r(254),T=r(13233),F=r(48468),G=r(80731),B=r(8023),M=r(32905),D=r(4421),O=r(32104),W=r(53599),A=[["#C83625","#D7B02D"],["#00C9FF","#92FE9D"],["#0E55E0","#C36CEC"],["#CC4194","#EF967A"]],X=function(){var e=Math.floor(Math.random()*A.length);return"linear-gradient(to right, ".concat(A[e][0],", ").concat(A[e][1],")")},N=function(e){return"touches"in e},z=function(e){var n=e.hasImage,r=e.onClick,t=[(0,a.tZ)(G.ck,{children:(0,a.BX)(y.G,{css:[x.l0.flex.row,x.l0.rowWithGap(8),x.l0.align.center],children:[(0,a.tZ)(E.Z,{}),(0,a.tZ)(S.xv,{multiline:!1,children:"Upload banner image"})]})},"upload")];return n&&t.push((0,a.tZ)(G.ck,{children:(0,a.BX)(y.G,{css:[x.l0.flex.row,x.l0.rowWithGap(8),x.l0.align.center],children:[(0,a.tZ)(R.Z,{}),(0,a.tZ)(S.xv,{multiline:!1,children:"Position banner image"})]})},"position"),(0,a.tZ)(G.ck,{children:(0,a.BX)(y.G,{css:[x.l0.flex.row,x.l0.rowWithGap(8),x.l0.align.center,x.l0.color.accentNegativeStronger],children:[(0,a.tZ)(_.Z,{}),(0,a.tZ)(S.xv,{multiline:!1,children:"Remove banner image"})]})},"remove")),(0,a.tZ)(G.ZE,{"aria-label":"update banner image",icon:(0,a.tZ)(I.Z,{}),onAction:function(e){return r(e)},children:t})},Y=function(e){var n,r,c=e.username,d=e.isOwnProfile,m=(0,T.Z)(),h=m.showError,p=m.showConfirm,g=(0,i.Z)(l.useState(null),2),w=g[0],b=g[1];l.useEffect((function(){b(X())}),[]);var S=function(e){var n=(0,s.Z)({},Z,e);return f.a(C,n)}({variables:{username:c},onCompleted:function(e){var n=e.user;(null===n||void 0===n?void 0:n.coverImage)?(V(n.coverImage.url),ee(n.coverImage.offsetY)):(V(void 0),ee(0))}}),E=S.data,_=S.loading,R=(0,i.Z)(function(e){var n=(0,s.Z)({},Z,e);return v.D(U,n)}({onCompleted:function(e){var n=e.setUserCoverImage;"CurrentUser"===n.__typename&&(n.coverImage?(V(n.coverImage.url),ee(n.coverImage.offsetY)):(V(void 0),ee(0))),p("Updated cover image")},onError:function(e){return h(e.message)},update:function(e,n){(null===E||void 0===E?void 0:E.user)&&e.modify({id:e.identify(E.user),fields:{coverImage:function(){var e,r;if("CurrentUser"===(null===(e=n.data)||void 0===e||null===(r=e.setUserCoverImage)||void 0===r?void 0:r.__typename))return n.data.setUserCoverImage.coverImage}}})}}),1),I=R[0],G="User"===(null===E||void 0===E||null===(n=E.user)||void 0===n?void 0:n.__typename)&&E.user,A="User"===(null===E||void 0===E||null===(r=E.user)||void 0===r?void 0:r.__typename)&&E.user.coverImage,Y=(0,P.Z)({onUpload:function(e){var n=e.id,r=e.url;G&&I({variables:{input:{imageId:n,offsetY:0}},optimisticResponse:{__typename:"RootMutationType",setUserCoverImage:{__typename:"CurrentUser",id:G.id,coverImage:{__typename:"CoverImage",url:r,offsetY:0}}}})},onUploadPreview:function(e){var n=e.dataUrl;return V(n)},onError:function(e){return h(e.message)}}),j=(0,i.Z)(l.useState(),2),H=j[0],V=j[1],$=(0,i.Z)(l.useState(0),2),q=$[0],K=$[1],Q=(0,i.Z)(l.useState(0),2),J=Q[0],ee=Q[1],ne=(0,i.Z)(l.useState(0),2),re=ne[0],te=ne[1],oe=(0,i.Z)(l.useState(0),2),ie=oe[0],ue=oe[1],ae=(0,i.Z)(l.useState(!1),2),le=ae[0],se=ae[1],ce=l.useRef(null),de=l.useRef(null),fe=l.useRef(null),ve=l.useRef(),me=l.useRef(null),he=(0,F.Z)((function(){ve.current&&K(ve.current.naturalHeight)})),pe=l.useCallback(function(){var e=(0,t.Z)((function(e){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return null===e||0===e.length?[2]:(n=e.find((function(e){return e.type.startsWith("image/")})))?[4,Y.uploadImage(n,M.N.ProfileCoverImage)]:(h("Please select an image file"),[2]);case 1:return r.sent()&&(0,W.w)({source:"profile",surface:"banner"}),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),[Y,h]),ge=l.useCallback((function(e){if(e.target===de.current&&null===me.current){e.preventDefault();var n=N(e)?e.touches[0].clientY:e.clientY;me.current=n}}),[]),Ze=l.useCallback((function(e){if(null!==me.current&&null!==ce.current){e.preventDefault();var n=(N(e)?e.touches[0].clientY:e.clientY)-me.current,r=re+n;if(r<=0){if(q&&Math.abs(r)+ce.current.clientHeight>q)return;ue(n)}}}),[re,q]),we=l.useCallback((function(e){null!==me.current&&(e.preventDefault(),te(re+ie),ue(0),me.current=null)}),[re,ie]);return l.useEffect((function(){if(de.current&&le){var e=de.current;return e.addEventListener("mousedown",ge),e.addEventListener("touchstart",ge),window.addEventListener("mousemove",Ze),window.addEventListener("mouseup",we),e.addEventListener("touchmove",Ze),e.addEventListener("touchend",we),e.addEventListener("touchcancel",we),function(){e&&(e.removeEventListener("mousedown",ge),window.removeEventListener("mousemove",Ze),window.removeEventListener("mouseup",we),e.removeEventListener("touchstart",ge),e.removeEventListener("touchmove",Ze),e.removeEventListener("touchend",we),e.removeEventListener("touchcancel",we))}}}),[de,le,ge,Ze,we]),G?(0,a.BX)(y.G,{innerRef:ce,css:[(0,o.Z)({position:"absolute",height:120,width:"100%",userSelect:"none",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"},"@media (min-width: ".concat(D.j.tabletMax,"px)"),{height:200}),E&&!_&&!A&&w&&{backgroundImage:w}],children:[d&&!G.hasPrivacyRole?(0,a.BX)(y.G,{innerRef:de,css:[{position:"absolute",top:0,left:0,width:"100%",height:le?"100%":"auto",cursor:le?"move":"auto",zIndex:10}],children:[(0,a.tZ)("input",{css:{width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},ref:fe,accept:B.W9.join(","),type:"file",onChange:function(e){var n=e.target,r=n.validity,t=n.files;r.valid&&pe(t?Array.from(t):null)}}),(0,a.tZ)(y.G,{css:[{position:"absolute",top:10,right:10,zIndex:99}],children:Y.isLoading?(0,a.tZ)(y.G,{css:[{margin:10,width:24,height:24}],children:(0,a.tZ)(O.Z,{size:24})}):le?(0,a.BX)(y.G,{css:[x.l0.rowWithGap(8)],children:[(0,a.tZ)(L.zx,{text:"Cancel",onClick:function(e){e.stopPropagation(),te(0),ue(0),se(!1)}}),(0,a.tZ)(L.zx,{text:"Done",onClick:function(e){e.stopPropagation();var n=Math.floor(100*Math.abs(re/q));ee(n),se(!1),G&&A&&I({variables:{input:{offsetY:n}},optimisticResponse:{__typename:"RootMutationType",setUserCoverImage:{__typename:"CurrentUser",id:G.id,coverImage:{__typename:"CoverImage",url:A.url,offsetY:n}}}})}})]}):(0,a.tZ)(z,{hasImage:!!H,onClick:function(e){var n;("remove"===e&&G&&(te(0),ue(0),K(0),I({variables:{input:{remove:!0}},optimisticResponse:{__typename:"RootMutationType",setUserCoverImage:{__typename:"CurrentUser",id:G.id,coverImage:null}}})),"position"===e&&(se(!0),te(-Math.floor(q*(J/100))),ue(0)),"upload"===e)&&(null===(n=fe.current)||void 0===n||n.click())}})})]}):null,(0,a.tZ)(y.G,{innerRef:he,css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}],children:H?(0,a.BX)(a.HY,{children:[(0,a.tZ)(k.Z,{onLoad:function(e){ve.current=e.target},onLoadingComplete:function(e){K(e.naturalHeight)},objectFit:"cover",objectPosition:"0 ".concat(le?re+ie:q-J/100*q<200?0:-J/100*q,"px"),layout:"fill",src:H,priority:!0,alt:""}),(0,a.tZ)(y.G,{css:[{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.4))",backgroundRepeat:"no-repeat"}]})]}):null})]}):null}},77551:function(e,n,r){r.d(n,{Z:function(){return C}});var t=r(72006),o=r(4405),i=r(77637),u=r(2272),a=r(74985),l=r(50959),s=r(43119),c=r(71440),d=r(50216);function f(){var e=(0,s.Z)(["\n  mutation SetFollowing($input: setFollowingInput!) {\n    setFollowing(input: $input) {\n      ... on FollowResult {\n        targetUser {\n          id\n          isFollowedByCurrentUser\n          followerCount\n        }\n      }\n      ... on NotFoundError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return f=function(){return e},e}var v={},m=(0,c.Ps)(f());var h=r(13233),p=r(63837),g=r(8622),Z=r(45510),w=r(23142),b=r(625),C=function(e){var n=e.user,r=e.subtle,s=e.targetName,c=(0,i.Z)(e,["user","subtle","targetName"]),f=r?void 0:"primary",C=(0,u.Z)(l.useState(!1),2),U=C[0],y=C[1],S=n.isFollowedByCurrentUser,k=(0,h.Z)().showError,E=(0,u.Z)(function(e){var n=(0,t.Z)({},v,e);return d.D(m,n)}({onCompleted:function(e){var n,r,t;"NotFoundError"===(null===(n=e.setFollowing)||void 0===n?void 0:n.__typename)&&k(e.setFollowing.message),"UserError"===(null===(r=e.setFollowing)||void 0===r?void 0:r.__typename)&&k(e.setFollowing.message),"UnauthorizedError"===(null===(t=e.setFollowing)||void 0===t?void 0:t.__typename)&&(y(!0),(0,b.j)(b.U3.SIGNUP_REQUESTED,{from:"repl",location:"follow-button",authFormPlacement:"modal"}))}}),2),_=E[0],R=E[1].loading,I=S?"Following":"Follow";return null!=s&&(I="".concat(I," ").concat(s)),(0,a.BX)(a.HY,{children:[(0,a.tZ)(Z.zx,(0,o.Z)((0,t.Z)({type:"button"},c),{colorway:S?void 0:f,text:I,iconLeft:S?(0,a.tZ)(p.Z,{}):(0,a.tZ)(g.Z,{}),onClick:function(e){e.stopPropagation(),_({variables:{input:{targetUserId:n.id,shouldFollow:!S}}}),S||(0,b.j)(b.U3.USER_FOLLOWED)},disabled:R,dataCy:"follow-button"})),(0,a.tZ)(w.Z,{isOpen:U,onClose:function(){return y(!1)},loginTitle:"Login to follow on Replit",signupTitle:"Signup to follow on Replit",description:"Create an account to follow your favourite Replers.",textOnSuccess:"Success!",onSuccess:function(){(0,b.j)(b.U3.SIGNUP_FROM_FOLLOW_BUTTON_SUCCESSFUL)},onFailure:function(e){var n=e.error;k(n)},trackSource:"follow-button"})]})}},53599:function(e,n,r){r.d(n,{w:function(){return o}});var t=r(625);function o(e){(0,t.j)(t.U3.PROFILE_EDITED,e)}},77043:function(e,n,r){r.d(n,{dx:function(){return m},VK:function(){return p}});var t=r(72006),o=r(43119),i=r(71440),u=r(3839);function a(){var e=(0,o.Z)(["\n  fragment UserLabelUser on User {\n    id\n    username\n    ...UserLinkUser\n  }\n  ","\n"]);return a=function(){return e},e}function l(){var e=(0,o.Z)(["\n  fragment UserLabelWithImageUser on User {\n    id\n    image\n    ...UserLabelUser\n  }\n  ","\n"]);return l=function(){return e},e}var s=(0,i.Ps)(a(),u._),c=(l(),r(24635));function d(){var e=(0,o.Z)(["\n  fragment UserCardUser on User {\n    id\n    fullName\n    username\n    url\n    bio\n    image\n    coverImage {\n      url\n    }\n    isModerator: hasRole(role: MODERATOR)\n    isAdmin: hasRole(role: ADMIN)\n    followerCount\n    followCount\n    isFollowedByCurrentUser\n    isFollowingCurrentUser\n    socials {\n      id\n      url\n      type\n    }\n    roles(only: [MODERATOR, PATRON, PYTHONISTA, REPLIT_REP]) {\n      id\n      name\n      key\n      tagline\n    }\n    ...UserLabelUser\n  }\n  ","\n"]);return d=function(){return e},e}function f(){var e=(0,o.Z)(["\n  query UserCard($username: String!) {\n    currentUser {\n      id\n    }\n    userByUsername(username: $username) {\n      id\n      ...UserCardUser\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var v={},m=(0,i.Ps)(d(),s),h=(0,i.Ps)(f(),m);function p(e){var n=(0,t.Z)({},v,e);return c.a(h,n)}},55923:function(e,n,r){r.d(n,{Z:function(){return M}});var t=r(72006),o=r(4405),i=r(74985),u=r(50959),a=r(90668),l=r(1734),s=r(85368),c=r(39541),d=r(61284),f=r(96351),v=r(51631),m=r(77043),h=r(25498),p=r(32104),g=r(82893),Z=r.n(g),w=r(77712),b=r(81424),C=r(77551),U=r(91450),y=r(1388),S=r(22503),k=r(89562),E=r(22340),_=r(14654),R=r(2757),I=r(31610),x=r(82568),L=r(17807),P=r(39082),T=s.K.span,F=(0,x.X)({popover:[{background:c.TV.backgroundDefault,border:"solid 1px ".concat(c.TV.backgroundHigher)}],loadingState:[c.l0.center,c.l0.width("100%"),c.l0.height("100%"),c.l0.p(16)],card:[c.l0.position.relative],socialLink:[c.l0.p(6),c.l0.borderRadius(8),L.gU.nofill,c.l0.width(28),c.l0.height(28),c.l0.display.flex,c.l0.align.center,c.l0.justify.center,c.l0.color.foregroundDimmest,{"&:hover svg":{color:c.TV.foregroundDefault}}],content:[c.l0.colWithGap(8),c.l0.p(12),{marginTop:-52}],pfpLinkWrapper:[c.l0.width("fit-content")],pfpWrapper:[c.l0.backgroundColor.backgroundDefault,{border:"solid 4px ".concat(c.TV.backgroundDefault)}],buttons:[c.l0.rowWithGap(8),c.l0.align.center,c.l0.position.absolute,c.l0.top(92),c.l0.right(12)],iconsContainer:[c.l0.rowWithGap(4)],name:[c.l0.flex.column],followsYouWrapper:[c.l0.rowWithGap(8),c.l0.align.center],fullNameLink:[c.l0.focusRing,c.l0.borderRadius(8),c.l0.color.foregroundDefault,{"&:focus-visible":{outlineOffset:0},">span":{maxWidth:"326px"}}],followsYouPill:[c.l0.minWidth("fit-content")],username:[c.l0.width("fit-content")],followCountContainer:[c.l0.rowWithGap(8)],followCountNumber:[{color:c.TV.foregroundDefault}],bio:[{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}],badges:[c.l0.flex.row,c.l0.flex.wrap,{display:"inline-flex",gap:"8px"}],coverImage:[c.l0.width("100%"),c.l0.height(80),{backgroundSize:"cover"}]});function G(e){switch(e.type){case"github":return(0,i.tZ)(k.Z,{});case"youtube":return(0,i.tZ)(E.Z,{});case"twitter":return(0,i.tZ)(U.Z,{});case"facebook":return(0,i.tZ)(y.Z,{});case"linkedin":return(0,i.tZ)(S.Z,{});case"website":return(0,i.tZ)(_.Z,{});default:return null}}function B(e){var n,r,u=e.user,l=e.isCurrentUser,m=void 0!==l&&l;return(0,i.BX)(s.G,{css:F.card,children:[(0,i.tZ)(s.G,{css:F.coverImage,style:{backgroundImage:u.coverImage?'url("'.concat(null===(n=u.coverImage)||void 0===n?void 0:n.url,'")'):(0,P.m)()}}),(0,i.BX)(s.G,{css:F.content,children:[(0,i.tZ)(Z(),{href:"/@"+u.username,target:"_blank",rel:"noreferrer",children:(0,i.tZ)("a",{css:F.pfpLinkWrapper,children:(0,i.tZ)(h.Z,{size:80,src:u.image,alt:u.username,css:F.pfpWrapper})})}),(0,i.BX)(s.G,{css:F.buttons,children:[(0,i.tZ)(s.G,{css:F.iconsContainer,children:(null===u||void 0===u||null===(r=u.socials)||void 0===r?void 0:r.length)&&!m?u.socials.slice(0,3).map((function(e){return(0,i.tZ)("a",{target:"_blank",href:e.url,rel:"noreferrer",css:F.socialLink,children:(0,i.tZ)(G,{type:e.type})},e.id+"-socialid")})):null}),m?null:(0,i.tZ)(C.Z,{user:u,subtle:!0,stretch:!0,small:!0})]}),(0,i.BX)(s.G,{css:F.name,children:[(0,i.BX)(s.G,{css:F.followsYouWrapper,children:[(0,i.tZ)(Z(),(0,o.Z)((0,t.Z)({passHref:!0},(0,w.Ru)(u)),{children:(0,i.tZ)("a",{css:F.fullNameLink,children:(0,i.tZ)(d.xv,{variant:"subheadBig",multiline:!1,children:u.fullName||u.username})})})),u.isFollowingCurrentUser?(0,i.tZ)(f.D,{css:F.followsYouPill,text:"Follows you"}):null]}),(0,i.tZ)(Z(),{href:"/@"+u.username,target:"_blank",rel:"noreferrer",children:(0,i.tZ)("a",{css:F.username,children:(0,i.BX)(d.xv,{color:"dimmest",multiline:!1,children:["@",u.username]})})})]}),(0,i.BX)(s.G,{css:F.followCountContainer,children:[(0,i.BX)(d.xv,{variant:"small",color:"dimmer",multiline:!1,children:[(0,i.tZ)("span",{css:F.followCountNumber,children:u.followerCount})," ",(0,R.Z)("follower",u.followerCount)]}),(0,i.BX)(d.xv,{variant:"small",color:"dimmer",multiline:!1,children:[(0,i.tZ)("span",{css:F.followCountNumber,children:u.followCount})," ","following"]})]}),u.bio?(0,i.tZ)(d.xv,{css:F.bio,children:(0,i.tZ)(a.ZP,{properties:{target:"_blank"},children:u.bio})}):null,(0,i.BX)(s.G,{css:F.badges,children:[(0,i.tZ)(I.Z,{username:u.username}),u.isAdmin?(0,i.tZ)(b._.Admin,{}):null,u.roles.map((function(e){if(e.key===v.SM.Moderator&&u.isAdmin)return null;var n=e.tagline||void 0,r=c.TV.foregroundDefault,t=(0,i.tZ)(b._.Default,{name:e.name,tagline:n},e.id);return e.key===v.SM.Moderator?t=(0,i.tZ)(b._.Moderator,{},e.id):e.key===v.SM.ReplitRep?t=(0,i.tZ)(b._.ReplitRep,{},e.id):e.key===v.SM.Patron?t=(0,i.tZ)(b._.Patron,{},e.id):e.key===v.SM.Pythonista&&(t=(0,i.tZ)(b._.Pythonista,{},e.id)),(0,i.tZ)("div",{children:(0,i.tZ)(s.G,{css:[{color:r,fontSize:c.TV.fontSizeSmall}],children:t})},e.id)}))]})]})]})}function M(e){var n,r=e.username,t=e.children,o=e.inline,a=e.onUserClick,c=(0,u.useState)(!1),f=c[0],v=c[1],h=(0,u.useState)(!1),g=h[0],Z=h[1],w=(0,u.useRef)(!1);(0,u.useEffect)((function(){f&&(w.current=!0);var e=setTimeout((function(){Z(f)}),200);return function(){clearTimeout(e)}}),[f]);var b=(0,m.VK)({variables:{username:r},skip:!1===w.current}),C=b.data,U=b.loading,y=null===C||void 0===C?void 0:C.userByUsername,S=(null===C||void 0===C||null===(n=C.currentUser)||void 0===n?void 0:n.id)===(null===y||void 0===y?void 0:y.id);return(0,i.BX)(l.Z,{disableFocusLock:!0,isOpen:g,onClickOutside:function(){return Z(!1)},maxWidth:350,growToMaxWidth:!0,padding:0,css:F.popover,showArrow:!0,children:[o?(0,i.tZ)("span",{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:t}):(0,i.tZ)(T,{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:t}),(0,i.BX)(T,{onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},children:[!U&&(y?(0,i.tZ)(B,{user:y,onUserClick:a,isCurrentUser:S}):(0,i.tZ)(d.xv,{color:"dimmer",multiline:!1,children:"User doesn\u2019t exist"})),U?(0,i.tZ)(s.G,{css:F.loadingState,children:(0,i.tZ)(p.Z,{})}):null]})]})}},31610:function(e,n,r){r.d(n,{Z:function(){return b}});var t=r(57389),o=r(74985),i=r(625),u=r(85368),a=r(36949),l=r(51631),s=r(82893),c=r.n(s),d=r(72006),f=r(43119),v=r(71440),m=r(24635);function h(){var e=(0,f.Z)(["\n  query PlanBadge($username: String!) {\n    userByUsername(username: $username) {\n      id\n      userSubscriptionType\n    }\n  }\n"]);return h=function(){return e},e}var p,g={},Z=(0,v.Ps)(h());var w=(p={},(0,t.Z)(p,l.HP.Hacker,a.vA.Hacker),(0,t.Z)(p,l.HP.HackerPro,a.vA.HackerPro),p);function b(e){var n,r=function(e){var n=(0,d.Z)({},g,e);return m.a(Z,n)}({variables:{username:e.username}}),t=r.data,l=r.loading,s=null===t||void 0===t||null===(n=t.userByUsername)||void 0===n?void 0:n.userSubscriptionType;if(l||!s)return null;var f=w[s];return(0,o.tZ)(c(),{href:"/pricing",passHref:!0,children:(0,o.tZ)(u.G,{tag:"a",css:{":hover *":{cursor:"pointer"}},onClick:function(){(0,i.j)(i.U3.UPGRADE_SELECTED,{source:"plan_badge"})},children:(0,o.tZ)(a.ZP,{name:f,userRole:f})})})}}}]);
//# sourceMappingURL=5923-7c3db330fe71ff72.js.map